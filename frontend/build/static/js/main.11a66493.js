/*! For license information please see main.11a66493.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),a=n(43),s=n(950);function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var o=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),h=Symbol.for("react.consumer"),x=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var w=Symbol.for("react.memo_cache_sentinel"),_=Symbol.iterator;function k(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=_&&e[_]||e["@@iterator"])?e:null}var S=Symbol.for("react.client.reference");function C(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===S?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case u:return"Fragment";case d:return"Portal";case p:return"Profiler";case m:return"StrictMode";case b:return"Suspense";case y:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Provider";case h:return(e._context.displayName||"Context")+".Consumer";case g:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case v:return null!==(t=e.displayName||null)?t:C(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return C(e(t))}catch(n){}}return null}var E,T,P=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=Object.assign;function A(e){if(void 0===E)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);E=t&&t[1]||"",T=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+E+e+T}var z=!1;function R(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var r=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(l){r=l}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(i){if(i&&r&&"string"===typeof i.stack)return[i.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),l=s[0],i=s[1];if(l&&i){var o=l.split("\n"),c=i.split("\n");for(a=r=0;r<o.length&&!o[r].includes("DetermineComponentFrameRoot");)r++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(r===o.length||a===c.length)for(r=o.length-1,a=c.length-1;1<=r&&0<=a&&o[r]!==c[a];)a--;for(;1<=r&&0<=a;r--,a--)if(o[r]!==c[a]){if(1!==r||1!==a)do{if(r--,0>--a||o[r]!==c[a]){var d="\n"+o[r].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=r&&0<=a);break}}}finally{z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?A(n):""}function F(e){switch(e.tag){case 26:case 27:case 5:return A(e.type);case 16:return A("Lazy");case 13:return A("Suspense");case 19:return A("SuspenseList");case 0:case 15:return e=R(e.type,!1);case 11:return e=R(e.type.render,!1);case 1:return e=R(e.type,!0);default:return""}}function D(e){try{var t="";do{t+=F(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function L(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function M(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function I(e){if(L(e)!==e)throw Error(l(188))}function U(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=U(e)))return t;e=e.sibling}return null}var B=Array.isArray,q=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},H=[],W=-1;function V(e){return{current:e}}function Q(e){0>W||(e.current=H[W],H[W]=null,W--)}function G(e,t){W++,H[W]=e.current,e.current=t}var Y=V(null),K=V(null),X=V(null),J=V(null);function Z(e,t){switch(G(X,t),G(K,e),G(Y,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Kd(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=Xd(e=Kd(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(Y),G(Y,t)}function ee(){Q(Y),Q(K),Q(X)}function te(e){null!==e.memoizedState&&G(J,e);var t=Y.current,n=Xd(t,e.type);t!==n&&(G(K,e),G(Y,n))}function ne(e){K.current===e&&(Q(Y),Q(K)),J.current===e&&(Q(J),Du._currentValue=$)}var re=Object.prototype.hasOwnProperty,ae=r.unstable_scheduleCallback,se=r.unstable_cancelCallback,le=r.unstable_shouldYield,ie=r.unstable_requestPaint,oe=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,de=r.unstable_ImmediatePriority,ue=r.unstable_UserBlockingPriority,me=r.unstable_NormalPriority,pe=r.unstable_LowPriority,fe=r.unstable_IdlePriority,he=r.log,xe=r.unstable_setDisableYieldValue,ge=null,be=null;function ye(e){if("function"===typeof he&&xe(e),be&&"function"===typeof be.setStrictMode)try{be.setStrictMode(ge,e)}catch(t){}}var ve=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(je(e)/Ne|0)|0},je=Math.log,Ne=Math.LN2;var we=128,_e=4194304;function ke(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Se(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,l=e.warmLanes;e=0!==e.finishedLanes;var i=134217727&n;return 0!==i?0!==(n=i&~a)?r=ke(n):0!==(s&=i)?r=ke(s):e||0!==(l=i&~l)&&(r=ke(l)):0!==(i=n&~a)?r=ke(i):0!==s?r=ke(s):e||0!==(l=n&~l)&&(r=ke(l)),0===r?0:0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(l=t&-t)||32===a&&0!==(4194176&l))?t:r}function Ce(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ee(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Te(){var e=we;return 0===(4194176&(we<<=1))&&(we=128),e}function Pe(){var e=_e;return 0===(62914560&(_e<<=1))&&(_e=4194304),e}function Oe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ae(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ze(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-ve(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194218&n}function Re(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ve(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function Fe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function De(){var e=q.p;return 0!==e?e:void 0===(e=window.event)?32:Xu(e.type)}var Le=Math.random().toString(36).slice(2),Me="__reactFiber$"+Le,Ie="__reactProps$"+Le,Ue="__reactContainer$"+Le,Be="__reactEvents$"+Le,qe="__reactListeners$"+Le,$e="__reactHandles$"+Le,He="__reactResources$"+Le,We="__reactMarker$"+Le;function Ve(e){delete e[Me],delete e[Ie],delete e[Be],delete e[qe],delete e[$e]}function Qe(e){var t=e[Me];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ue]||n[Me]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ou(e);null!==e;){if(n=e[Me])return n;e=ou(e)}return t}n=(e=n).parentNode}return null}function Ge(e){if(e=e[Me]||e[Ue]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ye(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(l(33))}function Ke(e){var t=e[He];return t||(t=e[He]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Xe(e){e[We]=!0}var Je=new Set,Ze={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Ze[e]=t,e=0;e<t.length;e++)Je.add(t[e])}var nt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),at={},st={};function lt(e,t,n){if(a=t,re.call(st,a)||!re.call(at,a)&&(rt.test(a)?st[a]=!0:(at[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function it(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ot(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ut(e){e._valueTracker||(e._valueTracker=function(e){var t=dt(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function mt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ft=/[\n"\\]/g;function ht(e){return e.replace(ft,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function xt(e,t,n,r,a,s,l,i){e.name="",null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l?e.type=l:e.removeAttribute("type"),null!=t?"number"===l?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==l&&"reset"!==l||e.removeAttribute("value"),null!=t?bt(e,l,ct(t)):null!=n?bt(e,l,ct(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=s&&(e.defaultChecked=!!s),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.name=""+ct(i):e.removeAttribute("name")}function gt(e,t,n,r,a,s,l,i){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,i||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:a)&&"symbol"!==typeof r&&!!r,e.checked=i?e.checked:!!r,e.defaultChecked=!!r,null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l&&(e.name=l)}function bt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function yt(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function vt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function jt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(l(92));if(B(r)){if(1<r.length)throw Error(l(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function Nt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var wt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _t(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||wt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function kt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(l(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&_t(e,a,r)}else for(var s in t)t.hasOwnProperty(s)&&_t(e,s,t[s])}function St(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Et=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tt(e){return Et.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Pt=null;function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var At=null,zt=null;function Rt(e){var t=Ge(e);if(t&&(e=t.stateNode)){var n=e[Ie]||null;e:switch(e=t.stateNode,t.type){case"input":if(xt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ht(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[Ie]||null;if(!a)throw Error(l(90));xt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&mt(r)}break e;case"textarea":vt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&yt(e,!!n.multiple,t,!1)}}}var Ft=!1;function Dt(e,t,n){if(Ft)return e(t,n);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==At||null!==zt)&&(Mc(),At&&(t=At,e=zt,zt=At=null,Rt(t),e)))for(t=0;t<e.length;t++)Rt(e[t])}}function Lt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ie]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(l(231,t,typeof n));return n}var Mt=!1;if(nt)try{var It={};Object.defineProperty(It,"passive",{get:function(){Mt=!0}}),window.addEventListener("test",It,It),window.removeEventListener("test",It,It)}catch(jm){Mt=!1}var Ut=null,Bt=null,qt=null;function $t(){if(qt)return qt;var e,t,n=Bt,r=n.length,a="value"in Ut?Ut.value:Ut.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var l=r-e;for(t=1;t<=l&&n[r-t]===a[s-t];t++);return qt=a.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Wt(){return!0}function Vt(){return!1}function Qt(e){function t(t,n,r,a,s){for(var l in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(a):a[l]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Wt:Vt,this.isPropagationStopped=Vt,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wt)},persist:function(){},isPersistent:Wt}),t}var Gt,Yt,Kt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jt=Qt(Xt),Zt=O({},Xt,{view:0,detail:0}),en=Qt(Zt),tn=O({},Zt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kt&&(Kt&&"mousemove"===e.type?(Gt=e.screenX-Kt.screenX,Yt=e.screenY-Kt.screenY):Yt=Gt=0,Kt=e),Gt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),nn=Qt(tn),rn=Qt(O({},tn,{dataTransfer:0})),an=Qt(O({},Zt,{relatedTarget:0})),sn=Qt(O({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Qt(O({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),on=Qt(O({},Xt,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},un={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=un[e])&&!!t[e]}function pn(){return mn}var fn=Qt(O({},Zt,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),hn=Qt(O({},tn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=Qt(O({},Zt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),gn=Qt(O({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Qt(O({},tn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),yn=Qt(O({},Xt,{newState:0,oldState:0})),vn=[9,13,27,32],jn=nt&&"CompositionEvent"in window,Nn=null;nt&&"documentMode"in document&&(Nn=document.documentMode);var wn=nt&&"TextEvent"in window&&!Nn,_n=nt&&(!jn||Nn&&8<Nn&&11>=Nn),kn=String.fromCharCode(32),Sn=!1;function Cn(e,t){switch(e){case"keyup":return-1!==vn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function En(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Tn=!1;var Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pn[e.type]:"textarea"===t}function An(e,t,n,r){At?zt?zt.push(r):zt=[r]:At=r,0<(t=Dd(t,"onChange")).length&&(n=new Jt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zn=null,Rn=null;function Fn(e){Ed(e,0)}function Dn(e){if(mt(Ye(e)))return e}function Ln(e,t){if("change"===e)return t}var Mn=!1;if(nt){var In;if(nt){var Un="oninput"in document;if(!Un){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),Un="function"===typeof Bn.oninput}In=Un}else In=!1;Mn=In&&(!document.documentMode||9<document.documentMode)}function qn(){zn&&(zn.detachEvent("onpropertychange",$n),Rn=zn=null)}function $n(e){if("value"===e.propertyName&&Dn(Rn)){var t=[];An(t,Rn,e,Ot(e)),Dt(Fn,t)}}function Hn(e,t,n){"focusin"===e?(qn(),Rn=n,(zn=t).attachEvent("onpropertychange",$n)):"focusout"===e&&qn()}function Wn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Dn(Rn)}function Vn(e,t){if("click"===e)return Dn(t)}function Qn(e,t){if("input"===e||"change"===e)return Dn(t)}var Gn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Gn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!re.call(t,a)||!Gn(e[a],t[a]))return!1}return!0}function Kn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,r=Kn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Kn(r)}}function Jn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Jn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Zn(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function tr(e,t){var n=Zn(t);t=e.focusedElem;var r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&Jn(t.ownerDocument.documentElement,t)){if(null!==r&&er(t))if(e=r.start,void 0===(n=r.end)&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if((n=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){n=n.getSelection();var a=t.textContent.length,s=Math.min(r.start,a);r=void 0===r.end?s:Math.min(r.end,a),!n.extend&&s>r&&(a=r,r=s,s=a),a=Xn(t,s);var l=Xn(t,r);a&&l&&(1!==n.rangeCount||n.anchorNode!==a.node||n.anchorOffset!==a.offset||n.focusNode!==l.node||n.focusOffset!==l.offset)&&((e=e.createRange()).setStart(a.node,a.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),n.addRange(e)))}for(e=[],n=t;n=n.parentNode;)1===n.nodeType&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<e.length;t++)(n=e[t]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}var nr=nt&&"documentMode"in document&&11>=document.documentMode,rr=null,ar=null,sr=null,lr=!1;function ir(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;lr||null==rr||rr!==pt(r)||("selectionStart"in(r=rr)&&er(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},sr&&Yn(sr,r)||(sr=r,0<(r=Dd(ar,"onSelect")).length&&(t=new Jt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function or(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:or("Animation","AnimationEnd"),animationiteration:or("Animation","AnimationIteration"),animationstart:or("Animation","AnimationStart"),transitionrun:or("Transition","TransitionRun"),transitionstart:or("Transition","TransitionStart"),transitioncancel:or("Transition","TransitionCancel"),transitionend:or("Transition","TransitionEnd")},dr={},ur={};function mr(e){if(dr[e])return dr[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in ur)return dr[e]=n[t];return e}nt&&(ur=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var pr=mr("animationend"),fr=mr("animationiteration"),hr=mr("animationstart"),xr=mr("transitionrun"),gr=mr("transitionstart"),br=mr("transitioncancel"),yr=mr("transitionend"),vr=new Map,jr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Nr(e,t){vr.set(e,t),et(t,[e])}var wr=[],_r=0,kr=0;function Sr(){for(var e=_r,t=kr=_r=0;t<e;){var n=wr[t];wr[t++]=null;var r=wr[t];wr[t++]=null;var a=wr[t];wr[t++]=null;var s=wr[t];if(wr[t++]=null,null!==r&&null!==a){var l=r.pending;null===l?a.next=a:(a.next=l.next,l.next=a),r.pending=a}0!==s&&Pr(n,a,s)}}function Cr(e,t,n,r){wr[_r++]=e,wr[_r++]=t,wr[_r++]=n,wr[_r++]=r,kr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Er(e,t,n,r){return Cr(e,t,n,r),Or(e)}function Tr(e,t){return Cr(e,null,null,t),Or(e)}function Pr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(a=!0)),e=s,s=s.return;a&&null!==t&&3===e.tag&&(s=e.stateNode,a=31-ve(n),null===(e=(s=s.hiddenUpdates)[a])?s[a]=[t]:e.push(t),t.lane=536870912|n)}function Or(e){if(50<Ec)throw Ec=0,Tc=null,Error(l(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ar={},zr=new WeakMap;function Rr(e,t){if("object"===typeof e&&null!==e){var n=zr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:D(t)},zr.set(e,t),t)}return{value:e,source:t,stack:D(t)}}var Fr=[],Dr=0,Lr=null,Mr=0,Ir=[],Ur=0,Br=null,qr=1,$r="";function Hr(e,t){Fr[Dr++]=Mr,Fr[Dr++]=Lr,Lr=e,Mr=t}function Wr(e,t,n){Ir[Ur++]=qr,Ir[Ur++]=$r,Ir[Ur++]=Br,Br=e;var r=qr;e=$r;var a=32-ve(r)-1;r&=~(1<<a),n+=1;var s=32-ve(t)+a;if(30<s){var l=a-a%5;s=(r&(1<<l)-1).toString(32),r>>=l,a-=l,qr=1<<32-ve(t)+a|n<<a|r,$r=s+e}else qr=1<<s|n<<a|r,$r=e}function Vr(e){null!==e.return&&(Hr(e,1),Wr(e,1,0))}function Qr(e){for(;e===Lr;)Lr=Fr[--Dr],Fr[Dr]=null,Mr=Fr[--Dr],Fr[Dr]=null;for(;e===Br;)Br=Ir[--Ur],Ir[Ur]=null,$r=Ir[--Ur],Ir[Ur]=null,qr=Ir[--Ur],Ir[Ur]=null}var Gr=null,Yr=null,Kr=!1,Xr=null,Jr=!1,Zr=Error(l(519));function ea(e){throw sa(Rr(Error(l(418,"")),e)),Zr}function ta(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Me]=e,t[Ie]=r,n){case"dialog":Td("cancel",t),Td("close",t);break;case"iframe":case"object":case"embed":Td("load",t);break;case"video":case"audio":for(n=0;n<Sd.length;n++)Td(Sd[n],t);break;case"source":Td("error",t);break;case"img":case"image":case"link":Td("error",t),Td("load",t);break;case"details":Td("toggle",t);break;case"input":Td("invalid",t),gt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ut(t);break;case"select":Td("invalid",t);break;case"textarea":Td("invalid",t),jt(t,r.value,r.defaultValue,r.children),ut(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||qd(t.textContent,n)?(null!=r.popover&&(Td("beforetoggle",t),Td("toggle",t)),null!=r.onScroll&&Td("scroll",t),null!=r.onScrollEnd&&Td("scrollend",t),null!=r.onClick&&(t.onclick=$d),t=!0):t=!1,t||ea(e)}function na(e){for(Gr=e.return;Gr;)switch(Gr.tag){case 3:case 27:return void(Jr=!0);case 5:case 13:return void(Jr=!1);default:Gr=Gr.return}}function ra(e){if(e!==Gr)return!1;if(!Kr)return na(e),Kr=!0,!1;var t,n=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Jd(e.type,e.memoizedProps)),t=!t),t&&(n=!0),n&&Yr&&ea(e),na(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(l(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){Yr=iu(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}Yr=null}}else Yr=Gr?iu(e.stateNode.nextSibling):null;return!0}function aa(){Yr=Gr=null,Kr=!1}function sa(e){null===Xr?Xr=[e]:Xr.push(e)}var la=Error(l(460)),ia=Error(l(474)),oa={then:function(){}};function ca(e){return"fulfilled"===(e=e.status)||"rejected"===e}function da(){}function ua(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(da,da),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===la)throw Error(l(483));throw e;default:if("string"===typeof t.status)t.then(da,da);else{if(null!==(e=tc)&&100<e.shellSuspendCounter)throw Error(l(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===la)throw Error(l(483));throw e}throw ma=t,la}}var ma=null;function pa(){if(null===ma)throw Error(l(459));var e=ma;return ma=null,e}var fa=null,ha=0;function xa(e){var t=ha;return ha+=1,null===fa&&(fa=[]),ua(fa,e,t)}function ga(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ba(e,t){if(t.$$typeof===o)throw Error(l(525));throw e=Object.prototype.toString.call(t),Error(l(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ya(e){return(0,e._init)(e._payload)}function va(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Lo(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=33554434,n):r:(t.flags|=33554434,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function o(e,t,n,r){return null===t||6!==t.tag?((t=qo(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function m(e,t,n,r){var s=n.type;return s===u?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===j&&ya(s)===t.type)?(ga(t=a(t,n.props),n),t.return=e,t):(ga(t=Io(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function p(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$o(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function f(e,t,n,r,s){return null===t||7!==t.tag?((t=Uo(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=qo(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case c:return ga(n=Io(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case d:return(t=$o(t,e.mode,n)).return=e,t;case j:return h(e,t=(0,t._init)(t._payload),n)}if(B(t)||k(t))return(t=Uo(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,xa(t),n);if(t.$$typeof===x)return h(e,ki(e,t),n);ba(e,t)}return null}function g(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==a?null:o(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case c:return n.key===a?m(e,t,n,r):null;case d:return n.key===a?p(e,t,n,r):null;case j:return g(e,t,n=(a=n._init)(n._payload),r)}if(B(n)||k(n))return null!==a?null:f(e,t,n,r,null);if("function"===typeof n.then)return g(e,t,xa(n),r);if(n.$$typeof===x)return g(e,t,ki(e,n),r);ba(e,n)}return null}function b(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return o(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case c:return m(t,e=e.get(null===r.key?n:r.key)||null,r,a);case d:return p(t,e=e.get(null===r.key?n:r.key)||null,r,a);case j:return b(e,t,n,r=(0,r._init)(r._payload),a)}if(B(r)||k(r))return f(t,e=e.get(n)||null,r,a,null);if("function"===typeof r.then)return b(e,t,n,xa(r),a);if(r.$$typeof===x)return b(e,t,n,ki(t,r),a);ba(t,r)}return null}function y(o,m,p,f){if("object"===typeof p&&null!==p&&p.type===u&&null===p.key&&(p=p.props.children),"object"===typeof p&&null!==p){switch(p.$$typeof){case c:e:{for(var v=p.key;null!==m;){if(m.key===v){if((v=p.type)===u){if(7===m.tag){n(o,m.sibling),(f=a(m,p.props.children)).return=o,o=f;break e}}else if(m.elementType===v||"object"===typeof v&&null!==v&&v.$$typeof===j&&ya(v)===m.type){n(o,m.sibling),ga(f=a(m,p.props),p),f.return=o,o=f;break e}n(o,m);break}t(o,m),m=m.sibling}p.type===u?((f=Uo(p.props.children,o.mode,f,p.key)).return=o,o=f):(ga(f=Io(p.type,p.key,p.props,null,o.mode,f),p),f.return=o,o=f)}return i(o);case d:e:{for(v=p.key;null!==m;){if(m.key===v){if(4===m.tag&&m.stateNode.containerInfo===p.containerInfo&&m.stateNode.implementation===p.implementation){n(o,m.sibling),(f=a(m,p.children||[])).return=o,o=f;break e}n(o,m);break}t(o,m),m=m.sibling}(f=$o(p,o.mode,f)).return=o,o=f}return i(o);case j:return y(o,m,p=(v=p._init)(p._payload),f)}if(B(p))return function(a,l,i,o){for(var c=null,d=null,u=l,m=l=0,p=null;null!==u&&m<i.length;m++){u.index>m?(p=u,u=null):p=u.sibling;var f=g(a,u,i[m],o);if(null===f){null===u&&(u=p);break}e&&u&&null===f.alternate&&t(a,u),l=s(f,l,m),null===d?c=f:d.sibling=f,d=f,u=p}if(m===i.length)return n(a,u),Kr&&Hr(a,m),c;if(null===u){for(;m<i.length;m++)null!==(u=h(a,i[m],o))&&(l=s(u,l,m),null===d?c=u:d.sibling=u,d=u);return Kr&&Hr(a,m),c}for(u=r(u);m<i.length;m++)null!==(p=b(u,a,m,i[m],o))&&(e&&null!==p.alternate&&u.delete(null===p.key?m:p.key),l=s(p,l,m),null===d?c=p:d.sibling=p,d=p);return e&&u.forEach((function(e){return t(a,e)})),Kr&&Hr(a,m),c}(o,m,p,f);if(k(p)){if("function"!==typeof(v=k(p)))throw Error(l(150));return function(a,i,o,c){if(null==o)throw Error(l(151));for(var d=null,u=null,m=i,p=i=0,f=null,x=o.next();null!==m&&!x.done;p++,x=o.next()){m.index>p?(f=m,m=null):f=m.sibling;var y=g(a,m,x.value,c);if(null===y){null===m&&(m=f);break}e&&m&&null===y.alternate&&t(a,m),i=s(y,i,p),null===u?d=y:u.sibling=y,u=y,m=f}if(x.done)return n(a,m),Kr&&Hr(a,p),d;if(null===m){for(;!x.done;p++,x=o.next())null!==(x=h(a,x.value,c))&&(i=s(x,i,p),null===u?d=x:u.sibling=x,u=x);return Kr&&Hr(a,p),d}for(m=r(m);!x.done;p++,x=o.next())null!==(x=b(m,a,p,x.value,c))&&(e&&null!==x.alternate&&m.delete(null===x.key?p:x.key),i=s(x,i,p),null===u?d=x:u.sibling=x,u=x);return e&&m.forEach((function(e){return t(a,e)})),Kr&&Hr(a,p),d}(o,m,p=v.call(p),f)}if("function"===typeof p.then)return y(o,m,xa(p),f);if(p.$$typeof===x)return y(o,m,ki(o,p),f);ba(o,p)}return"string"===typeof p&&""!==p||"number"===typeof p||"bigint"===typeof p?(p=""+p,null!==m&&6===m.tag?(n(o,m.sibling),(f=a(m,p)).return=o,o=f):(n(o,m),(f=qo(p,o.mode,f)).return=o,o=f),i(o)):n(o,m)}return function(e,t,n,r){try{ha=0;var a=y(e,t,n,r);return fa=null,a}catch(l){if(l===la)throw l;var s=Fo(29,l,null,e.mode);return s.lanes=r,s.return=e,s}}}var ja=va(!0),Na=va(!1),wa=V(null),_a=V(0);function ka(e,t){G(_a,e=cc),G(wa,t),cc=e|t.baseLanes}function Sa(){G(_a,cc),G(wa,wa.current)}function Ca(){cc=_a.current,Q(wa),Q(_a)}var Ea=V(null),Ta=null;function Pa(e){var t=e.alternate;G(Ra,1&Ra.current),G(Ea,e),null===Ta&&(null===t||null!==wa.current||null!==t.memoizedState)&&(Ta=e)}function Oa(e){if(22===e.tag){if(G(Ra,Ra.current),G(Ea,e),null===Ta){var t=e.alternate;null!==t&&null!==t.memoizedState&&(Ta=e)}}else Aa()}function Aa(){G(Ra,Ra.current),G(Ea,Ea.current)}function za(e){Q(Ea),Ta===e&&(Ta=null),Q(Ra)}var Ra=V(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Da="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},La=r.unstable_scheduleCallback,Ma=r.unstable_NormalPriority,Ia={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ua(){return{controller:new Da,data:new Map,refCount:0}}function Ba(e){e.refCount--,0===e.refCount&&La(Ma,(function(){e.controller.abort()}))}var qa=null,$a=0,Ha=0,Wa=null;function Va(){if(0===--$a&&null!==qa){null!==Wa&&(Wa.status="fulfilled");var e=qa;qa=null,Ha=0,Wa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Qa=P.S;P.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===qa){var n=qa=[];$a=0,Ha=jd(),Wa={status:"pending",value:void 0,then:function(e){n.push(e)}}}$a++,t.then(Va,Va)}(0,t),null!==Qa&&Qa(e,t)};var Ga=V(null);function Ya(){var e=Ga.current;return null!==e?e:tc.pooledCache}function Ka(e,t){G(Ga,null===t?Ga.current:t.pool)}function Xa(){var e=Ya();return null===e?null:{parent:Ia._currentValue,pool:e}}var Ja=0,Za=null,es=null,ts=null,ns=!1,rs=!1,as=!1,ss=0,ls=0,is=null,os=0;function cs(){throw Error(l(321))}function ds(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gn(e[n],t[n]))return!1;return!0}function us(e,t,n,r,a,s){return Ja=s,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,P.H=null===e||null===e.memoizedState?kl:Sl,as=!1,s=n(r,a),as=!1,rs&&(s=ps(t,n,r,a)),ms(e),s}function ms(e){P.H=_l;var t=null!==es&&null!==es.next;if(Ja=0,ts=es=Za=null,ns=!1,ls=0,is=null,t)throw Error(l(300));null===e||$l||null!==(e=e.dependencies)&&Ni(e)&&($l=!0)}function ps(e,t,n,r){Za=e;var a=0;do{if(rs&&(is=null),ls=0,rs=!1,25<=a)throw Error(l(301));if(a+=1,ts=es=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}P.H=Cl,s=t(n,r)}while(rs);return s}function fs(){var e=P.H,t=e.useState()[0];return t="function"===typeof t.then?vs(t):t,e=e.useState()[0],(null!==es?es.memoizedState:null)!==e&&(Za.flags|=1024),t}function hs(){var e=0!==ss;return ss=0,e}function xs(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function gs(e){if(ns){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ns=!1}Ja=0,ts=es=Za=null,rs=!1,ls=ss=0,is=null}function bs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ts?Za.memoizedState=ts=e:ts=ts.next=e,ts}function ys(){if(null===es){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=es.next;var t=null===ts?Za.memoizedState:ts.next;if(null!==t)ts=t,es=e;else{if(null===e){if(null===Za.alternate)throw Error(l(467));throw Error(l(310))}e={memoizedState:(es=e).memoizedState,baseState:es.baseState,baseQueue:es.baseQueue,queue:es.queue,next:null},null===ts?Za.memoizedState=ts=e:ts=ts.next=e}return ts}function vs(e){var t=ls;return ls+=1,null===is&&(is=[]),e=ua(is,e,t),t=Za,null===(null===ts?t.memoizedState:ts.next)&&(t=t.alternate,P.H=null===t||null===t.memoizedState?kl:Sl),e}function js(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return vs(e);if(e.$$typeof===x)return _i(e)}throw Error(l(438,String(e)))}function Ns(e){var t=null,n=Za.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Za.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Za.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=w;return t.index++,n}function ws(e,t){return"function"===typeof t?t(e):t}function _s(e){return ks(ys(),es,e)}function ks(e,t,n){var r=e.queue;if(null===r)throw Error(l(311));r.lastRenderedReducer=n;var a=e.baseQueue,s=r.pending;if(null!==s){if(null!==a){var i=a.next;a.next=s.next,s.next=i}t.baseQueue=a=s,r.pending=null}if(s=e.baseState,null===a)e.memoizedState=s;else{var o=i=null,c=null,d=t=a.next,u=!1;do{var m=-536870913&d.lane;if(m!==d.lane?(rc&m)===m:(Ja&m)===m){var p=d.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),m===Ha&&(u=!0);else{if((Ja&p)===p){d=d.next,p===Ha&&(u=!0);continue}m={lane:0,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(o=c=m,i=s):c=c.next=m,Za.lanes|=p,uc|=p}m=d.action,as&&n(s,m),s=d.hasEagerState?d.eagerState:n(s,m)}else p={lane:m,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(o=c=p,i=s):c=c.next=p,Za.lanes|=m,uc|=m;d=d.next}while(null!==d&&d!==t);if(null===c?i=s:c.next=o,!Gn(s,e.memoizedState)&&($l=!0,u&&null!==(n=Wa)))throw n;e.memoizedState=s,e.baseState=i,e.baseQueue=c,r.lastRenderedState=s}return null===a&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ss(e){var t=ys(),n=t.queue;if(null===n)throw Error(l(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var i=a=a.next;do{s=e(s,i.action),i=i.next}while(i!==a);Gn(s,t.memoizedState)||($l=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Cs(e,t,n){var r=Za,a=ys(),s=Kr;if(s){if(void 0===n)throw Error(l(407));n=n()}else n=t();var i=!Gn((es||a).memoizedState,n);if(i&&(a.memoizedState=n,$l=!0),a=a.queue,Js(Ps.bind(null,r,a,e),[e]),a.getSnapshot!==t||i||null!==ts&&1&ts.memoizedState.tag){if(r.flags|=2048,Qs(9,Ts.bind(null,r,a,n,t),{destroy:void 0},null),null===tc)throw Error(l(349));s||0!==(60&Ja)||Es(r,t,n)}return n}function Es(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Za.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Za.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ts(e,t,n,r){t.value=n,t.getSnapshot=r,Os(t)&&As(e)}function Ps(e,t,n){return n((function(){Os(t)&&As(e)}))}function Os(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gn(e,n)}catch(r){return!0}}function As(e){var t=Tr(e,2);null!==t&&Ac(t,e,2)}function zs(e){var t=bs();if("function"===typeof e){var n=e;if(e=n(),as){ye(!0);try{n()}finally{ye(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t}function Rs(e,t,n,r){return e.baseState=n,ks(e,es,"function"===typeof r?r:ws)}function Fs(e,t,n,r,a){if(jl(e))throw Error(l(485));if(null!==(e=t.action)){var s={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==P.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,Ds(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Ds(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var s=P.T,l={};P.T=l;try{var i=n(a,r),o=P.S;null!==o&&o(l,i),Ls(e,t,i)}catch(c){Is(e,t,c)}finally{P.T=s}}else try{Ls(e,t,s=n(a,r))}catch(d){Is(e,t,d)}}function Ls(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){Ms(e,t,n)}),(function(n){return Is(e,t,n)})):Ms(e,t,n)}function Ms(e,t,n){t.status="fulfilled",t.value=n,Us(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ds(e,n)))}function Is(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Us(t),t=t.next}while(t!==r)}e.action=null}function Us(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Bs(e,t){return t}function qs(e,t){if(Kr){var n=tc.formState;if(null!==n){e:{var r=Za;if(Kr){if(Yr){t:{for(var a=Yr,s=Jr;8!==a.nodeType;){if(!s){a=null;break t}if(null===(a=iu(a.nextSibling))){a=null;break t}}a="F!"===(s=a.data)||"F"===s?a:null}if(a){Yr=iu(a.nextSibling),r="F!"===a.data;break e}}ea(r)}r=!1}r&&(t=n[0])}}return(n=bs()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:t},n.queue=r,n=bl.bind(null,Za,r),r.dispatch=n,r=zs(!1),s=vl.bind(null,Za,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=bs()).queue=a,n=Fs.bind(null,Za,a,s,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function $s(e){return Hs(ys(),es,e)}function Hs(e,t,n){t=ks(e,t,Bs)[0],e=_s(ws)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?vs(t):t;var r=ys(),a=r.queue,s=a.dispatch;return n!==r.memoizedState&&(Za.flags|=2048,Qs(9,Ws.bind(null,a,n),{destroy:void 0},null)),[t,s,e]}function Ws(e,t){e.action=t}function Vs(e){var t=ys(),n=es;if(null!==n)return Hs(t,n,e);ys(),t=t.memoizedState;var r=(n=ys()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Qs(e,t,n,r){return e={tag:e,create:t,inst:n,deps:r,next:null},null===(t=Za.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Za.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Gs(){return ys().memoizedState}function Ys(e,t,n,r){var a=bs();Za.flags|=e,a.memoizedState=Qs(1|t,n,{destroy:void 0},void 0===r?null:r)}function Ks(e,t,n,r){var a=ys();r=void 0===r?null:r;var s=a.memoizedState.inst;null!==es&&null!==r&&ds(r,es.memoizedState.deps)?a.memoizedState=Qs(t,n,s,r):(Za.flags|=e,a.memoizedState=Qs(1|t,n,s,r))}function Xs(e,t){Ys(8390656,8,e,t)}function Js(e,t){Ks(2048,8,e,t)}function Zs(e,t){return Ks(4,2,e,t)}function el(e,t){return Ks(4,4,e,t)}function tl(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function nl(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Ks(4,4,tl.bind(null,t,e),n)}function rl(){}function al(e,t){var n=ys();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ds(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function sl(e,t){var n=ys();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ds(t,r[1]))return r[0];if(r=e(),as){ye(!0);try{e()}finally{ye(!1)}}return n.memoizedState=[r,t],r}function ll(e,t,n){return void 0===n||0!==(1073741824&Ja)?e.memoizedState=t:(e.memoizedState=n,e=Oc(),Za.lanes|=e,uc|=e,n)}function il(e,t,n,r){return Gn(n,t)?n:null!==wa.current?(e=ll(e,n,r),Gn(e,t)||($l=!0),e):0===(42&Ja)?($l=!0,e.memoizedState=n):(e=Oc(),Za.lanes|=e,uc|=e,t)}function ol(e,t,n,r,a){var s=q.p;q.p=0!==s&&8>s?s:8;var l=P.T,i={};P.T=i,vl(e,!1,t,n);try{var o=a(),c=P.S;if(null!==c&&c(i,o),null!==o&&"object"===typeof o&&"function"===typeof o.then)yl(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(o,r),Pc());else yl(e,t,r,Pc())}catch(d){yl(e,t,{then:function(){},status:"rejected",reason:d},Pc())}finally{q.p=s,P.T=l}}function cl(){}function dl(e,t,n,r){if(5!==e.tag)throw Error(l(476));var a=ul(e).queue;ol(e,a,t,$,null===n?cl:function(){return ml(e),n(r)})}function ul(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:$},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ml(e){yl(e,ul(e).next.queue,{},Pc())}function pl(){return _i(Du)}function fl(){return ys().memoizedState}function hl(){return ys().memoizedState}function xl(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Pc(),r=Oi(t,e=Pi(n),n);return null!==r&&(Ac(r,t,n),Ai(r,t,n)),t={cache:Ua()},void(e.payload=t)}t=t.return}}function gl(e,t,n){var r=Pc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},jl(e)?Nl(t,n):null!==(n=Er(e,t,n,r))&&(Ac(n,e,r),wl(n,t,r))}function bl(e,t,n){yl(e,t,n,Pc())}function yl(e,t,n,r){var a={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(jl(e))Nl(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var l=t.lastRenderedState,i=s(l,n);if(a.hasEagerState=!0,a.eagerState=i,Gn(i,l))return Cr(e,t,a,0),null===tc&&Sr(),!1}catch(o){}if(null!==(n=Er(e,t,a,r)))return Ac(n,e,r),wl(n,t,r),!0}return!1}function vl(e,t,n,r){if(r={lane:2,revertLane:jd(),action:r,hasEagerState:!1,eagerState:null,next:null},jl(e)){if(t)throw Error(l(479))}else null!==(t=Er(e,n,r,2))&&Ac(t,e,2)}function jl(e){var t=e.alternate;return e===Za||null!==t&&t===Za}function Nl(e,t){rs=ns=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function wl(e,t,n){if(0!==(4194176&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Re(e,n)}}var _l={readContext:_i,use:js,useCallback:cs,useContext:cs,useEffect:cs,useImperativeHandle:cs,useLayoutEffect:cs,useInsertionEffect:cs,useMemo:cs,useReducer:cs,useRef:cs,useState:cs,useDebugValue:cs,useDeferredValue:cs,useTransition:cs,useSyncExternalStore:cs,useId:cs};_l.useCacheRefresh=cs,_l.useMemoCache=cs,_l.useHostTransitionStatus=cs,_l.useFormState=cs,_l.useActionState=cs,_l.useOptimistic=cs;var kl={readContext:_i,use:js,useCallback:function(e,t){return bs().memoizedState=[e,void 0===t?null:t],e},useContext:_i,useEffect:Xs,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Ys(4194308,4,tl.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ys(4194308,4,e,t)},useInsertionEffect:function(e,t){Ys(4,2,e,t)},useMemo:function(e,t){var n=bs();t=void 0===t?null:t;var r=e();if(as){ye(!0);try{e()}finally{ye(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=bs();if(void 0!==n){var a=n(t);if(as){ye(!0);try{n(t)}finally{ye(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=gl.bind(null,Za,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bs().memoizedState=e},useState:function(e){var t=(e=zs(e)).queue,n=bl.bind(null,Za,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:rl,useDeferredValue:function(e,t){return ll(bs(),e,t)},useTransition:function(){var e=zs(!1);return e=ol.bind(null,Za,e.queue,!0,!1),bs().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Za,a=bs();if(Kr){if(void 0===n)throw Error(l(407));n=n()}else{if(n=t(),null===tc)throw Error(l(349));0!==(60&rc)||Es(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,Xs(Ps.bind(null,r,s,e),[e]),r.flags|=2048,Qs(9,Ts.bind(null,r,s,n,t),{destroy:void 0},null),n},useId:function(){var e=bs(),t=tc.identifierPrefix;if(Kr){var n=$r;t=":"+t+"R"+(n=(qr&~(1<<32-ve(qr)-1)).toString(32)+n),0<(n=ss++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=os++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return bs().memoizedState=xl.bind(null,Za)}};kl.useMemoCache=Ns,kl.useHostTransitionStatus=pl,kl.useFormState=qs,kl.useActionState=qs,kl.useOptimistic=function(e){var t=bs();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=vl.bind(null,Za,!0,n),n.dispatch=t,[e,t]};var Sl={readContext:_i,use:js,useCallback:al,useContext:_i,useEffect:Js,useImperativeHandle:nl,useInsertionEffect:Zs,useLayoutEffect:el,useMemo:sl,useReducer:_s,useRef:Gs,useState:function(){return _s(ws)},useDebugValue:rl,useDeferredValue:function(e,t){return il(ys(),es.memoizedState,e,t)},useTransition:function(){var e=_s(ws)[0],t=ys().memoizedState;return["boolean"===typeof e?e:vs(e),t]},useSyncExternalStore:Cs,useId:fl};Sl.useCacheRefresh=hl,Sl.useMemoCache=Ns,Sl.useHostTransitionStatus=pl,Sl.useFormState=$s,Sl.useActionState=$s,Sl.useOptimistic=function(e,t){return Rs(ys(),0,e,t)};var Cl={readContext:_i,use:js,useCallback:al,useContext:_i,useEffect:Js,useImperativeHandle:nl,useInsertionEffect:Zs,useLayoutEffect:el,useMemo:sl,useReducer:Ss,useRef:Gs,useState:function(){return Ss(ws)},useDebugValue:rl,useDeferredValue:function(e,t){var n=ys();return null===es?ll(n,e,t):il(n,es.memoizedState,e,t)},useTransition:function(){var e=Ss(ws)[0],t=ys().memoizedState;return["boolean"===typeof e?e:vs(e),t]},useSyncExternalStore:Cs,useId:fl};function El(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:O({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}Cl.useCacheRefresh=hl,Cl.useMemoCache=Ns,Cl.useHostTransitionStatus=pl,Cl.useFormState=Vs,Cl.useActionState=Vs,Cl.useOptimistic=function(e,t){var n=ys();return null!==es?Rs(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])};var Tl={isMounted:function(e){return!!(e=e._reactInternals)&&L(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Pc(),a=Pi(r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oi(e,a,r))&&(Ac(t,e,r),Ai(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Pc(),a=Pi(r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oi(e,a,r))&&(Ac(t,e,r),Ai(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pc(),r=Pi(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Oi(e,r,n))&&(Ac(t,e,n),Ai(t,e,n))}};function Pl(e,t,n,r,a,s,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,l):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(a,s))}function Ol(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Tl.enqueueReplaceState(t,t.state,null)}function Al(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=O({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}var zl="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Rl(e){zl(e)}function Fl(e){console.error(e)}function Dl(e){zl(e)}function Ll(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function Ml(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function Il(e,t,n){return(n=Pi(n)).tag=3,n.payload={element:null},n.callback=function(){Ll(e,t)},n}function Ul(e){return(e=Pi(e)).tag=3,e}function Bl(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"===typeof a){var s=r.value;e.payload=function(){return a(s)},e.callback=function(){Ml(t,n,r)}}var l=n.stateNode;null!==l&&"function"===typeof l.componentDidCatch&&(e.callback=function(){Ml(t,n,r),"function"!==typeof a&&(null===Nc?Nc=new Set([this]):Nc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var ql=Error(l(461)),$l=!1;function Hl(e,t,n,r){t.child=null===e?Na(t,null,n,r):ja(t,e.child,n,r)}function Wl(e,t,n,r,a){n=n.render;var s=t.ref;if("ref"in r){var l={};for(var i in r)"ref"!==i&&(l[i]=r[i])}else l=r;return wi(t),r=us(e,t,n,l,s,a),i=hs(),null===e||$l?(Kr&&i&&Vr(t),t.flags|=1,Hl(e,t,r,a),t.child):(xs(e,t,a),ui(e,t,a))}function Vl(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||Do(s)||void 0!==s.defaultProps||null!==n.compare?((e=Io(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ql(e,t,s,r,a))}if(s=e.child,!mi(e,a)){var l=s.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(l,r)&&e.ref===t.ref)return ui(e,t,a)}return t.flags|=1,(e=Lo(s,r)).ref=t.ref,e.return=t,t.child=e}function Ql(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(Yn(s,r)&&e.ref===t.ref){if($l=!1,t.pendingProps=r=s,!mi(e,a))return t.lanes=e.lanes,ui(e,t,a);0!==(131072&e.flags)&&($l=!0)}}return Xl(e,t,n,r,a)}function Gl(e,t,n){var r=t.pendingProps,a=r.children,s=0!==(2&t.stateNode._pendingVisibility),l=null!==e?e.memoizedState:null;if(Kl(e,t),"hidden"===r.mode||s){if(0!==(128&t.flags)){if(r=null!==l?l.baseLanes|n:n,null!==e){for(a=t.child=e.child,s=0;null!==a;)s=s|a.lanes|a.childLanes,a=a.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return Yl(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Yl(e,t,null!==l?l.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ka(0,null!==l?l.cachePool:null),null!==l?ka(t,l):Sa(),Oa(t)}else null!==l?(Ka(0,l.cachePool),ka(t,l),Aa(),t.memoizedState=null):(null!==e&&Ka(0,null),Sa(),Aa());return Hl(e,t,a,n),t.child}function Yl(e,t,n,r){var a=Ya();return a=null===a?null:{parent:Ia._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&Ka(0,null),Sa(),Oa(t),null!==e&&ji(e,t,r,!0),null}function Kl(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(l(284));null!==e&&e.ref===n||(t.flags|=2097664)}}function Xl(e,t,n,r,a){return wi(t),n=us(e,t,n,r,void 0,a),r=hs(),null===e||$l?(Kr&&r&&Vr(t),t.flags|=1,Hl(e,t,n,a),t.child):(xs(e,t,a),ui(e,t,a))}function Jl(e,t,n,r,a,s){return wi(t),t.updateQueue=null,n=ps(t,r,n,a),ms(e),r=hs(),null===e||$l?(Kr&&r&&Vr(t),t.flags|=1,Hl(e,t,n,s),t.child):(xs(e,t,s),ui(e,t,s))}function Zl(e,t,n,r,a){if(wi(t),null===t.stateNode){var s=Ar,l=n.contextType;"object"===typeof l&&null!==l&&(s=_i(l)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=Tl,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},Ei(t),l=n.contextType,s.context="object"===typeof l&&null!==l?_i(l):Ar,s.state=t.memoizedState,"function"===typeof(l=n.getDerivedStateFromProps)&&(El(t,n,l,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(l=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),l!==s.state&&Tl.enqueueReplaceState(s,s.state,null),Di(t,r,s,a),Fi(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var i=t.memoizedProps,o=Al(n,i);s.props=o;var c=s.context,d=n.contextType;l=Ar,"object"===typeof d&&null!==d&&(l=_i(d));var u=n.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate,i=t.pendingProps!==i,d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i||c!==l)&&Ol(t,s,r,l),Ci=!1;var m=t.memoizedState;s.state=m,Di(t,r,s,a),Fi(),c=t.memoizedState,i||m!==c||Ci?("function"===typeof u&&(El(t,n,u,r),c=t.memoizedState),(o=Ci||Pl(t,n,o,r,m,c,l))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=l,r=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Ti(e,t),d=Al(n,l=t.memoizedProps),s.props=d,u=t.pendingProps,m=s.context,c=n.contextType,o=Ar,"object"===typeof c&&null!==c&&(o=_i(c)),(c="function"===typeof(i=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(l!==u||m!==o)&&Ol(t,s,r,o),Ci=!1,m=t.memoizedState,s.state=m,Di(t,r,s,a),Fi();var p=t.memoizedState;l!==u||m!==p||Ci||null!==e&&null!==e.dependencies&&Ni(e.dependencies)?("function"===typeof i&&(El(t,n,i,r),p=t.memoizedState),(d=Ci||Pl(t,n,d,r,m,p,o)||null!==e&&null!==e.dependencies&&Ni(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,o),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,o)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=o,r=d):("function"!==typeof s.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Kl(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=ja(t,e.child,null,a),t.child=ja(t,null,n,a)):Hl(e,t,n,a),t.memoizedState=s.state,e=t.child):e=ui(e,t,a),e}function ei(e,t,n,r){return aa(),t.flags|=256,Hl(e,t,n,r),t.child}var ti={dehydrated:null,treeContext:null,retryLane:0};function ni(e){return{baseLanes:e,cachePool:Xa()}}function ri(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=fc),e}function ai(e,t,n){var r,a=t.pendingProps,s=!1,i=0!==(128&t.flags);if((r=i)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Ra.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(Kr){if(s?Pa(t):Aa(),Kr){var o,c=Yr;if(o=c){e:{for(o=c,c=Jr;8!==o.nodeType;){if(!c){c=null;break e}if(null===(o=iu(o.nextSibling))){c=null;break e}}c=o}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Br?{id:qr,overflow:$r}:null,retryLane:536870912},(o=Fo(18,null,null,0)).stateNode=c,o.return=t,t.child=o,Gr=t,Yr=null,o=!0):o=!1}o||ea(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return"$!"===c.data?t.lanes=16:t.lanes=536870912,null;za(t)}return c=a.children,a=a.fallback,s?(Aa(),c=li({mode:"hidden",children:c},s=t.mode),a=Uo(a,s,n,null),c.return=t,a.return=t,c.sibling=a,t.child=c,(s=t.child).memoizedState=ni(n),s.childLanes=ri(e,r,n),t.memoizedState=ti,a):(Pa(t),si(t,c))}if(null!==(o=e.memoizedState)&&null!==(c=o.dehydrated)){if(i)256&t.flags?(Pa(t),t.flags&=-257,t=ii(e,t,n)):null!==t.memoizedState?(Aa(),t.child=e.child,t.flags|=128,t=null):(Aa(),s=a.fallback,c=t.mode,a=li({mode:"visible",children:a.children},c),(s=Uo(s,c,n,null)).flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,ja(t,e.child,null,n),(a=t.child).memoizedState=ni(n),a.childLanes=ri(e,r,n),t.memoizedState=ti,t=s);else if(Pa(t),"$!"===c.data){if(r=c.nextSibling&&c.nextSibling.dataset)var d=r.dgst;r=d,(a=Error(l(419))).stack="",a.digest=r,sa({value:a,source:null,stack:null}),t=ii(e,t,n)}else if($l||ji(e,t,n,!1),r=0!==(n&e.childLanes),$l||r){if(null!==(r=tc)){if(0!==(42&(a=n&-n)))a=1;else switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=64;break;case 268435456:a=134217728;break;default:a=0}if(0!==(a=0!==(a&(r.suspendedLanes|n))?0:a)&&a!==o.retryLane)throw o.retryLane=a,Tr(e,a),Ac(r,e,a),ql}"$?"===c.data||Hc(),t=ii(e,t,n)}else"$?"===c.data?(t.flags|=128,t.child=e.child,t=id.bind(null,e),c._reactRetry=t,t=null):(e=o.treeContext,Yr=iu(c.nextSibling),Gr=t,Kr=!0,Xr=null,Jr=!1,null!==e&&(Ir[Ur++]=qr,Ir[Ur++]=$r,Ir[Ur++]=Br,qr=e.id,$r=e.overflow,Br=t),(t=si(t,a.children)).flags|=4096);return t}return s?(Aa(),s=a.fallback,c=t.mode,d=(o=e.child).sibling,(a=Lo(o,{mode:"hidden",children:a.children})).subtreeFlags=31457280&o.subtreeFlags,null!==d?s=Lo(d,s):(s=Uo(s,c,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,null===(c=e.child.memoizedState)?c=ni(n):(null!==(o=c.cachePool)?(d=Ia._currentValue,o=o.parent!==d?{parent:d,pool:d}:o):o=Xa(),c={baseLanes:c.baseLanes|n,cachePool:o}),s.memoizedState=c,s.childLanes=ri(e,r,n),t.memoizedState=ti,a):(Pa(t),e=(n=e.child).sibling,(n=Lo(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function si(e,t){return(t=li({mode:"visible",children:t},e.mode)).return=e,e.child=t}function li(e,t){return Bo(e,t,0,null)}function ii(e,t,n){return ja(t,e.child,null,n),(e=si(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function oi(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),yi(e.return,t,n)}function ci(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function di(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(Hl(e,t,r.children,n),0!==(2&(r=Ra.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&oi(e,n,t);else if(19===e.tag)oi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(G(Ra,r),a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),ci(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Fa(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}ci(t,!0,n,null,s);break;case"together":ci(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ui(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),uc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ji(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(l(153));if(null!==t.child){for(n=Lo(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lo(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function mi(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ni(e))}function pi(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)$l=!0;else{if(!mi(e,n)&&0===(128&t.flags))return $l=!1,function(e,t,n){switch(t.tag){case 3:Z(t,t.stateNode.containerInfo),gi(t,Ia,e.memoizedState.cache),aa();break;case 27:case 5:te(t);break;case 4:Z(t,t.stateNode.containerInfo);break;case 10:gi(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Pa(t),t.flags|=128,null):0!==(n&t.child.childLanes)?ai(e,t,n):(Pa(t),null!==(e=ui(e,t,n))?e.sibling:null);Pa(t);break;case 19:var a=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(ji(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return di(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),G(Ra,Ra.current),r)break;return null;case 22:case 23:return t.lanes=0,Gl(e,t,n);case 24:gi(t,Ia,e.memoizedState.cache)}return ui(e,t,n)}(e,t,n);$l=0!==(131072&e.flags)}else $l=!1,Kr&&0!==(1048576&t.flags)&&Wr(t,Mr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,a=r._init;if(r=a(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((a=r.$$typeof)===g){t.tag=11,t=Wl(null,t,r,e,n);break e}if(a===v){t.tag=14,t=Vl(null,t,r,e,n);break e}}throw t=C(r)||r,Error(l(306,t,""))}Do(r)?(e=Al(r,e),t.tag=1,t=Zl(null,t,r,e,n)):(t.tag=0,t=Xl(null,t,r,e,n))}return t;case 0:return Xl(e,t,t.type,t.pendingProps,n);case 1:return Zl(e,t,r=t.type,a=Al(r,t.pendingProps),n);case 3:e:{if(Z(t,t.stateNode.containerInfo),null===e)throw Error(l(387));var s=t.pendingProps;r=(a=t.memoizedState).element,Ti(e,t),Di(t,s,null,n);var i=t.memoizedState;if(s=i.cache,gi(t,Ia,s),s!==a.cache&&vi(t,[Ia],n,!0),Fi(),s=i.element,a.isDehydrated){if(a={element:s,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=ei(e,t,s,n);break e}if(s!==r){sa(r=Rr(Error(l(424)),t)),t=ei(e,t,s,n);break e}for(Yr=iu(t.stateNode.containerInfo.firstChild),Gr=t,Kr=!0,Xr=null,Jr=!0,n=Na(t,null,s,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(aa(),s===r){t=ui(e,t,n);break e}Hl(e,t,s,n)}t=t.child}return t;case 26:return Kl(e,t),null===e?(n=xu(t.type,null,t.pendingProps,null))?t.memoizedState=n:Kr||(n=t.type,e=t.pendingProps,(r=Yd(X.current).createElement(n))[Me]=t,r[Ie]=e,Vd(r,n,e),Xe(r),t.stateNode=r):t.memoizedState=xu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&Kr&&(r=t.stateNode=cu(t.type,t.pendingProps,X.current),Gr=t,Jr=!0,Yr=iu(r.firstChild)),r=t.pendingProps.children,null!==e||Kr?Hl(e,t,r,n):t.child=ja(t,null,r,n),Kl(e,t),t.child;case 5:return null===e&&Kr&&((a=r=Yr)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[We])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==a.rel||e.getAttribute("href")!==(null==a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===s)return e}if(null===(e=iu(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,Jr))?(t.stateNode=r,Gr=t,Yr=iu(r.firstChild),Jr=!1,a=!0):a=!1),a||ea(t)),te(t),a=t.type,s=t.pendingProps,i=null!==e?e.memoizedProps:null,r=s.children,Jd(a,s)?r=null:null!==i&&Jd(a,i)&&(t.flags|=32),null!==t.memoizedState&&(a=us(e,t,fs,null,null,n),Du._currentValue=a),Kl(e,t),Hl(e,t,r,n),t.child;case 6:return null===e&&Kr&&((e=n=Yr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=iu(e.nextSibling)))return null}return e}(n,t.pendingProps,Jr))?(t.stateNode=n,Gr=t,Yr=null,e=!0):e=!1),e||ea(t)),null;case 13:return ai(e,t,n);case 4:return Z(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ja(t,null,r,n):Hl(e,t,r,n),t.child;case 11:return Wl(e,t,t.type,t.pendingProps,n);case 7:return Hl(e,t,t.pendingProps,n),t.child;case 8:case 12:return Hl(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,gi(t,t.type,r.value),Hl(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,wi(t),r=r(a=_i(a)),t.flags|=1,Hl(e,t,r,n),t.child;case 14:return Vl(e,t,t.type,t.pendingProps,n);case 15:return Ql(e,t,t.type,t.pendingProps,n);case 19:return di(e,t,n);case 22:return Gl(e,t,n);case 24:return wi(t),r=_i(Ia),null===e?(null===(a=Ya())&&(a=tc,s=Ua(),a.pooledCache=s,s.refCount++,null!==s&&(a.pooledCacheLanes|=n),a=s),t.memoizedState={parent:r,cache:a},Ei(t),gi(t,Ia,a)):(0!==(e.lanes&n)&&(Ti(e,t),Di(t,null,null,n),Fi()),a=e.memoizedState,s=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),gi(t,Ia,r)):(r=s.cache,gi(t,Ia,r),r!==a.cache&&vi(t,[Ia],n,!0))),Hl(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}var fi=V(null),hi=null,xi=null;function gi(e,t,n){G(fi,t._currentValue),t._currentValue=n}function bi(e){e._currentValue=fi.current,Q(fi)}function yi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function vi(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var s=a.dependencies;if(null!==s){var i=a.child;s=s.firstContext;e:for(;null!==s;){var o=s;s=a;for(var c=0;c<t.length;c++)if(o.context===t[c]){s.lanes|=n,null!==(o=s.alternate)&&(o.lanes|=n),yi(s.return,n,e),r||(i=null);break e}s=o.next}}else if(18===a.tag){if(null===(i=a.return))throw Error(l(341));i.lanes|=n,null!==(s=i.alternate)&&(s.lanes|=n),yi(i,n,e),i=null}else i=a.child;if(null!==i)i.return=a;else for(i=a;null!==i;){if(i===e){i=null;break}if(null!==(a=i.sibling)){a.return=i.return,i=a;break}i=i.return}a=i}}function ji(e,t,n,r){e=null;for(var a=t,s=!1;null!==a;){if(!s)if(0!==(524288&a.flags))s=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var i=a.alternate;if(null===i)throw Error(l(387));if(null!==(i=i.memoizedProps)){var o=a.type;Gn(a.pendingProps.value,i.value)||(null!==e?e.push(o):e=[o])}}else if(a===J.current){if(null===(i=a.alternate))throw Error(l(387));i.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Du):e=[Du])}a=a.return}null!==e&&vi(t,e,n,r),t.flags|=262144}function Ni(e){for(e=e.firstContext;null!==e;){if(!Gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wi(e){hi=e,xi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function _i(e){return Si(hi,e)}function ki(e,t){return null===hi&&wi(e),Si(e,t)}function Si(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===xi){if(null===e)throw Error(l(308));xi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else xi=xi.next=t;return n}var Ci=!1;function Ei(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ti(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Pi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Oi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&ec)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Or(e),Pr(e,null,n),t}return Cr(e,r,t,n),Or(e)}function Ai(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Re(e,n)}}function zi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?a=s=l:s=s.next=l,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ri=!1;function Fi(){if(Ri){if(null!==Wa)throw Wa}}function Di(e,t,n,r){Ri=!1;var a=e.updateQueue;Ci=!1;var s=a.firstBaseUpdate,l=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var o=i,c=o.next;o.next=null,null===l?s=c:l.next=c,l=o;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==l&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=o))}if(null!==s){var u=a.baseState;for(l=0,d=c=o=null,i=s;;){var m=-536870913&i.lane,p=m!==i.lane;if(p?(rc&m)===m:(r&m)===m){0!==m&&m===Ha&&(Ri=!0),null!==d&&(d=d.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var f=e,h=i;m=t;var x=n;switch(h.tag){case 1:if("function"===typeof(f=h.payload)){u=f.call(x,u,m);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(m="function"===typeof(f=h.payload)?f.call(x,u,m):f)||void 0===m)break e;u=O({},u,m);break e;case 2:Ci=!0}}null!==(m=i.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=a.callbacks)?a.callbacks=[m]:p.push(m))}else p={lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=p,o=u):d=d.next=p,l|=m;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(p=i).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}null===d&&(o=u),a.baseState=o,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null===s&&(a.shared.lanes=0),uc|=l,e.lanes=l,e.memoizedState=u}}function Li(e,t){if("function"!==typeof e)throw Error(l(191,e));e.call(t)}function Mi(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Li(n[e],t)}function Ii(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var s=n.create,l=n.inst;r=s(),l.destroy=r}n=n.next}while(n!==a)}}catch(i){rd(t,t.return,i)}}function Ui(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var s=a.next;r=s;do{if((r.tag&e)===e){var l=r.inst,i=l.destroy;if(void 0!==i){l.destroy=void 0,a=t;var o=n;try{i()}catch(c){rd(a,o,c)}}}r=r.next}while(r!==s)}}catch(c){rd(t,t.return,c)}}function Bi(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Mi(t,n)}catch(r){rd(e,e.return,r)}}}function qi(e,t,n){n.props=Al(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){rd(e,t,r)}}function $i(e,t){try{var n=e.ref;if(null!==n){var r=e.stateNode;switch(e.tag){case 26:case 27:case 5:var a=r;break;default:a=r}"function"===typeof n?e.refCleanup=n(a):n.current=a}}catch(s){rd(e,t,s)}}function Hi(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(a){rd(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){rd(e,t,s)}else n.current=null}function Wi(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){rd(e,e.return,a)}}function Vi(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,s=null,i=null,o=null,c=null,d=null,u=null;for(f in n){var m=n[f];if(n.hasOwnProperty(f)&&null!=m)switch(f){case"checked":case"value":break;case"defaultValue":c=m;default:r.hasOwnProperty(f)||Hd(e,t,f,null,r,m)}}for(var p in r){var f=r[p];if(m=n[p],r.hasOwnProperty(p)&&(null!=f||null!=m))switch(p){case"type":s=f;break;case"name":a=f;break;case"checked":d=f;break;case"defaultChecked":u=f;break;case"value":i=f;break;case"defaultValue":o=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(l(137,t));break;default:f!==m&&Hd(e,t,p,f,r,m)}}return void xt(e,i,o,c,d,u,s,a);case"select":for(s in f=i=o=p=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":f=c;default:r.hasOwnProperty(s)||Hd(e,t,s,null,r,c)}for(a in r)if(s=r[a],c=n[a],r.hasOwnProperty(a)&&(null!=s||null!=c))switch(a){case"value":p=s;break;case"defaultValue":o=s;break;case"multiple":i=s;default:s!==c&&Hd(e,t,a,s,r,c)}return t=o,n=i,r=f,void(null!=p?yt(e,!!n,p,!1):!!r!==!!n&&(null!=t?yt(e,!!n,t,!0):yt(e,!!n,n?[]:"",!1)));case"textarea":for(o in f=p=null,n)if(a=n[o],n.hasOwnProperty(o)&&null!=a&&!r.hasOwnProperty(o))switch(o){case"value":case"children":break;default:Hd(e,t,o,null,r,a)}for(i in r)if(a=r[i],s=n[i],r.hasOwnProperty(i)&&(null!=a||null!=s))switch(i){case"value":p=a;break;case"defaultValue":f=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(l(91));break;default:a!==s&&Hd(e,t,i,a,r,s)}return void vt(e,p,f);case"option":for(var h in n)if(p=n[h],n.hasOwnProperty(h)&&null!=p&&!r.hasOwnProperty(h))if("selected"===h)e.selected=!1;else Hd(e,t,h,null,r,p);for(c in r)if(p=r[c],f=n[c],r.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Hd(e,t,c,p,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in n)p=n[x],n.hasOwnProperty(x)&&null!=p&&!r.hasOwnProperty(x)&&Hd(e,t,x,null,r,p);for(d in r)if(p=r[d],f=n[d],r.hasOwnProperty(d)&&p!==f&&(null!=p||null!=f))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(l(137,t));break;default:Hd(e,t,d,p,r,f)}return;default:if(St(t)){for(var g in n)p=n[g],n.hasOwnProperty(g)&&void 0!==p&&!r.hasOwnProperty(g)&&Wd(e,t,g,void 0,r,p);for(u in r)p=r[u],f=n[u],!r.hasOwnProperty(u)||p===f||void 0===p&&void 0===f||Wd(e,t,u,p,r,f);return}}for(var b in n)p=n[b],n.hasOwnProperty(b)&&null!=p&&!r.hasOwnProperty(b)&&Hd(e,t,b,null,r,p);for(m in r)p=r[m],f=n[m],!r.hasOwnProperty(m)||p===f||null==p&&null==f||Hd(e,t,m,p,r,f)}(r,e.type,n,t),r[Ie]=t}catch(a){rd(e,e.return,a)}}function Qi(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function Gi(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Qi(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Yi(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$d));else if(4!==r&&27!==r&&null!==(e=e.child))for(Yi(e,t,n),e=e.sibling;null!==e;)Yi(e,t,n),e=e.sibling}function Ki(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&27!==r&&null!==(e=e.child))for(Ki(e,t,n),e=e.sibling;null!==e;)Ki(e,t,n),e=e.sibling}var Xi=!1,Ji=!1,Zi=!1,eo="function"===typeof WeakSet?WeakSet:Set,to=null,no=!1;function ro(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:go(e,n),4&r&&Ii(5,n);break;case 1:if(go(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(i){rd(n,n.return,i)}else{var a=Al(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){rd(n,n.return,o)}}64&r&&Bi(n),512&r&&$i(n,n.return);break;case 3:if(go(e,n),64&r&&null!==(r=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{Mi(r,e)}catch(i){rd(n,n.return,i)}}break;case 26:go(e,n),512&r&&$i(n,n.return);break;case 27:case 5:go(e,n),null===t&&4&r&&Wi(n),512&r&&$i(n,n.return);break;case 12:default:go(e,n);break;case 13:go(e,n),4&r&&co(e,n);break;case 22:if(!(a=null!==n.memoizedState||Xi)){t=null!==t&&null!==t.memoizedState||Ji;var s=Xi,l=Ji;Xi=a,(Ji=t)&&!l?yo(e,n,0!==(8772&n.subtreeFlags)):go(e,n),Xi=s,Ji=l}512&r&&("manual"===n.memoizedProps.mode?$i(n,n.return):Hi(n,n.return))}}function ao(e){var t=e.alternate;null!==t&&(e.alternate=null,ao(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ve(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var so=null,lo=!1;function io(e,t,n){for(n=n.child;null!==n;)oo(e,t,n),n=n.sibling}function oo(e,t,n){if(be&&"function"===typeof be.onCommitFiberUnmount)try{be.onCommitFiberUnmount(ge,n)}catch(l){}switch(n.tag){case 26:Ji||Hi(n,t),io(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Ji||Hi(n,t);var r=so,a=lo;for(so=n.stateNode,io(e,t,n),t=(n=n.stateNode).attributes;t.length;)n.removeAttributeNode(t[0]);Ve(n),so=r,lo=a;break;case 5:Ji||Hi(n,t);case 6:a=so;var s=lo;if(so=null,io(e,t,n),lo=s,null!==(so=a))if(lo)try{e=so,r=n.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)}catch(i){rd(n,t,i)}else try{so.removeChild(n.stateNode)}catch(i){rd(n,t,i)}break;case 18:null!==so&&(lo?(t=so,n=n.stateNode,8===t.nodeType?su(t.parentNode,n):1===t.nodeType&&su(t,n),hm(t)):su(so,n.stateNode));break;case 4:r=so,a=lo,so=n.stateNode.containerInfo,lo=!0,io(e,t,n),so=r,lo=a;break;case 0:case 11:case 14:case 15:Ji||Ui(2,n,t),Ji||Ui(4,n,t),io(e,t,n);break;case 1:Ji||(Hi(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&qi(n,t,r)),io(e,t,n);break;case 21:io(e,t,n);break;case 22:Ji||Hi(n,t),Ji=(r=Ji)||null!==n.memoizedState,io(e,t,n),Ji=r;break;default:io(e,t,n)}}function co(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{hm(e)}catch(n){rd(t,t.return,n)}}function uo(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new eo),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new eo),t;default:throw Error(l(435,e.tag))}}(e);t.forEach((function(t){var r=od.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function mo(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r],s=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 27:case 5:so=o.stateNode,lo=!1;break e;case 3:case 4:so=o.stateNode.containerInfo,lo=!0;break e}o=o.return}if(null===so)throw Error(l(160));oo(s,i,a),so=null,lo=!1,null!==(s=a.alternate)&&(s.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)fo(t,e),t=t.sibling}var po=null;function fo(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mo(t,e),ho(e),4&r&&(Ui(3,e,e.return),Ii(3,e),Ui(5,e,e.return));break;case 1:mo(t,e),ho(e),512&r&&(Ji||null===n||Hi(n,n.return)),64&r&&Xi&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var a=po;if(mo(t,e),ho(e),512&r&&(Ji||null===n||Hi(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":(!(s=a.getElementsByTagName("title")[0])||s[We]||s[Me]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=a.createElement(r),a.head.insertBefore(s,a.querySelector("head > title"))),Vd(s,r,n),s[Me]=e,Xe(s),r=s;break e;case"link":var i=Cu("link","href",a).get(r+(n.href||""));if(i)for(var o=0;o<i.length;o++)if((s=i[o]).getAttribute("href")===(null==n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){i.splice(o,1);break t}Vd(s=a.createElement(r),r,n),a.head.appendChild(s);break;case"meta":if(i=Cu("meta","content",a).get(r+(n.content||"")))for(o=0;o<i.length;o++)if((s=i[o]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){i.splice(o,1);break t}Vd(s=a.createElement(r),r,n),a.head.appendChild(s);break;default:throw Error(l(468,r))}s[Me]=e,Xe(s),r=s}e.stateNode=r}else Eu(a,e.type,e.stateNode);else e.stateNode=Nu(a,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?Eu(a,e.type,e.stateNode):Nu(a,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Vi(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(4&r&&null===e.alternate){a=e.stateNode,s=e.memoizedProps;try{for(var c=a.firstChild;c;){var d=c.nextSibling,u=c.nodeName;c[We]||"HEAD"===u||"BODY"===u||"SCRIPT"===u||"STYLE"===u||"LINK"===u&&"stylesheet"===c.rel.toLowerCase()||a.removeChild(c),c=d}for(var m=e.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);Vd(a,m,s),a[Me]=e,a[Ie]=s}catch(h){rd(e,e.return,h)}}case 5:if(mo(t,e),ho(e),512&r&&(Ji||null===n||Hi(n,n.return)),32&e.flags){a=e.stateNode;try{Nt(a,"")}catch(h){rd(e,e.return,h)}}4&r&&null!=e.stateNode&&Vi(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&r&&(Zi=!0);break;case 6:if(mo(t,e),ho(e),4&r){if(null===e.stateNode)throw Error(l(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(h){rd(e,e.return,h)}}break;case 3:if(Su=null,a=po,po=mu(t.containerInfo),mo(t,e),po=a,ho(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{hm(t.containerInfo)}catch(h){rd(e,e.return,h)}Zi&&(Zi=!1,xo(e));break;case 4:r=po,po=mu(e.stateNode.containerInfo),mo(t,e),ho(e),po=r;break;case 12:mo(t,e),ho(e);break;case 13:mo(t,e),ho(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(yc=oe()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,uo(e,r)));break;case 22:if(512&r&&(Ji||null===n||Hi(n,n.return)),c=null!==e.memoizedState,d=null!==n&&null!==n.memoizedState,Xi=(u=Xi)||c,Ji=(m=Ji)||d,mo(t,e),Ji=m,Xi=u,ho(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&r&&(t._visibility=c?-2&t._visibility:1|t._visibility,c&&(t=Xi||Ji,null===n||d||t||bo(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(n=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===n){d=n=t;try{if(a=d.stateNode,c)"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{i=d.stateNode;var f=void 0!==(o=d.memoizedProps.style)&&null!==o&&o.hasOwnProperty("display")?o.display:null;i.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(h){rd(d,d.return,h)}}}else if(6===t.tag){if(null===n){d=t;try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(h){rd(d,d.return,h)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,uo(e,n))));break;case 19:mo(t,e),ho(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,uo(e,r)));break;case 21:break;default:mo(t,e),ho(e)}}function ho(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var n=e.return;null!==n;){if(Qi(n)){var r=n;break e}n=n.return}throw Error(l(160))}switch(r.tag){case 27:var a=r.stateNode;Ki(e,Gi(e),a);break;case 5:var s=r.stateNode;32&r.flags&&(Nt(s,""),r.flags&=-33),Ki(e,Gi(e),s);break;case 3:case 4:var i=r.stateNode.containerInfo;Yi(e,Gi(e),i);break;default:throw Error(l(161))}}}catch(o){rd(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xo(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;xo(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function go(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)ro(e,t.alternate,t),t=t.sibling}function bo(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ui(4,t,t.return),bo(t);break;case 1:Hi(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&qi(t,t.return,n),bo(t);break;case 26:case 27:case 5:Hi(t,t.return),bo(t);break;case 22:Hi(t,t.return),null===t.memoizedState&&bo(t);break;default:bo(t)}e=e.sibling}}function yo(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,s=t,l=s.flags;switch(s.tag){case 0:case 11:case 15:yo(a,s,n),Ii(4,s);break;case 1:if(yo(a,s,n),"function"===typeof(a=(r=s).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){rd(r,r.return,c)}if(null!==(a=(r=s).updateQueue)){var i=r.stateNode;try{var o=a.shared.hiddenCallbacks;if(null!==o)for(a.shared.hiddenCallbacks=null,a=0;a<o.length;a++)Li(o[a],i)}catch(c){rd(r,r.return,c)}}n&&64&l&&Bi(s),$i(s,s.return);break;case 26:case 27:case 5:yo(a,s,n),n&&null===r&&4&l&&Wi(s),$i(s,s.return);break;case 12:default:yo(a,s,n);break;case 13:yo(a,s,n),n&&4&l&&co(a,s);break;case 22:null===s.memoizedState&&yo(a,s,n),$i(s,s.return)}t=t.sibling}}function vo(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ba(n))}function jo(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ba(e))}function No(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)wo(e,t,n,r),t=t.sibling}function wo(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:No(e,t,n,r),2048&a&&Ii(9,t);break;case 3:No(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ba(e)));break;case 12:if(2048&a){No(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,l=s.id,i=s.onPostCommit;"function"===typeof i&&i(l,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(o){rd(t,t.return,o)}}else No(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,null!==t.memoizedState?4&s._visibility?No(e,t,n,r):ko(e,t):4&s._visibility?No(e,t,n,r):(s._visibility|=4,_o(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&a&&vo(t.alternate,t);break;case 24:No(e,t,n,r),2048&a&&jo(t.alternate,t);break;default:No(e,t,n,r)}}function _o(e,t,n,r,a){for(a=a&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,l=t,i=n,o=r,c=l.flags;switch(l.tag){case 0:case 11:case 15:_o(s,l,i,o,a),Ii(8,l);break;case 23:break;case 22:var d=l.stateNode;null!==l.memoizedState?4&d._visibility?_o(s,l,i,o,a):ko(s,l):(d._visibility|=4,_o(s,l,i,o,a)),a&&2048&c&&vo(l.alternate,l);break;case 24:_o(s,l,i,o,a),a&&2048&c&&jo(l.alternate,l);break;default:_o(s,l,i,o,a)}t=t.sibling}}function ko(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:ko(n,r),2048&a&&vo(r.alternate,r);break;case 24:ko(n,r),2048&a&&jo(r.alternate,r);break;default:ko(n,r)}t=t.sibling}}var So=8192;function Co(e){if(e.subtreeFlags&So)for(e=e.child;null!==e;)Eo(e),e=e.sibling}function Eo(e){switch(e.tag){case 26:Co(e),e.flags&So&&null!==e.memoizedState&&function(e,t,n){if(null===Pu)throw Error(l(475));var r=Pu;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var a=gu(n.href),s=e.querySelector(bu(a));if(s)return null!==(e=s._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Au.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=s,void Xe(s);s=e.ownerDocument||e,n=yu(n),(a=du.get(a))&&_u(n,a),Xe(s=s.createElement("link"));var i=s;i._p=new Promise((function(e,t){i.onload=e,i.onerror=t})),Vd(s,"link",n),t.instance=s}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Au.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(po,e.memoizedState,e.memoizedProps);break;case 5:default:Co(e);break;case 3:case 4:var t=po;po=mu(e.stateNode.containerInfo),Co(e),po=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=So,So=16777216,Co(e),So=t):Co(e))}}function To(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Po(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];to=r,zo(r,e)}To(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Oo(e),e=e.sibling}function Oo(e){switch(e.tag){case 0:case 11:case 15:Po(e),2048&e.flags&&Ui(9,e,e.return);break;case 3:case 12:default:Po(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Ao(e)):Po(e)}}function Ao(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];to=r,zo(r,e)}To(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:Ui(8,t,t.return),Ao(t);break;case 22:4&(n=t.stateNode)._visibility&&(n._visibility&=-5,Ao(t));break;default:Ao(t)}e=e.sibling}}function zo(e,t){for(;null!==to;){var n=to;switch(n.tag){case 0:case 11:case 15:Ui(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ba(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,to=r;else e:for(n=e;null!==to;){var a=(r=to).sibling,s=r.return;if(ao(r),r===n){to=null;break e}if(null!==a){a.return=s,to=a;break e}to=s}}}function Ro(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fo(e,t,n,r){return new Ro(e,t,n,r)}function Do(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lo(e,t){var n=e.alternate;return null===n?((n=Fo(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=31457280&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Mo(e,t){e.flags&=31457282;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Io(e,t,n,r,a,s){var i=0;if(r=e,"function"===typeof e)Do(e)&&(i=1);else if("string"===typeof e)i=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,Y.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case u:return Uo(n.children,a,s,t);case m:i=8,a|=24;break;case p:return(e=Fo(12,n,t,2|a)).elementType=p,e.lanes=s,e;case b:return(e=Fo(13,n,t,a)).elementType=b,e.lanes=s,e;case y:return(e=Fo(19,n,t,a)).elementType=y,e.lanes=s,e;case N:return Bo(n,a,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case f:case x:i=10;break e;case h:i=9;break e;case g:i=11;break e;case v:i=14;break e;case j:i=16,r=null;break e}i=29,n=Error(l(130,null===e?"null":typeof e,"")),r=null}return(t=Fo(i,n,t,a)).elementType=e,t.type=r,t.lanes=s,t}function Uo(e,t,n,r){return(e=Fo(7,e,r,t)).lanes=n,e}function Bo(e,t,n,r){(e=Fo(22,e,r,t)).elementType=N,e.lanes=n;var a={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=a._current;if(null===e)throw Error(l(456));if(0===(2&a._pendingVisibility)){var t=Tr(e,2);null!==t&&(a._pendingVisibility|=2,Ac(t,e,2))}},attach:function(){var e=a._current;if(null===e)throw Error(l(456));if(0!==(2&a._pendingVisibility)){var t=Tr(e,2);null!==t&&(a._pendingVisibility&=-3,Ac(t,e,2))}}};return e.stateNode=a,e}function qo(e,t,n){return(e=Fo(6,e,null,t)).lanes=n,e}function $o(e,t,n){return(t=Fo(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ho(e){e.flags|=4}function Wo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Tu(t)){if(null!==(t=Ea.current)&&((4194176&rc)===rc?null!==Ta:(62914560&rc)!==rc&&0===(536870912&rc)||t!==Ta))throw ma=oa,ia;e.flags|=8192}}function Vo(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Pe():536870912,e.lanes|=t,hc|=t)}function Qo(e,t){if(!Kr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Go(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=31457280&a.subtreeFlags,r|=31457280&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Yo(e,t,n){var r=t.pendingProps;switch(Qr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Go(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),bi(Ia),ee(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ra(t)?Ho(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Xr&&(Rc(Xr),Xr=null))),Go(t),null;case 26:return n=t.memoizedState,null===e?(Ho(t),null!==n?(Go(t),Wo(t,n)):(Go(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Ho(t),Go(t),Wo(t,n)):(Go(t),t.flags&=-16777217):(e.memoizedProps!==r&&Ho(t),Go(t),t.flags&=-16777217),null;case 27:ne(t),n=X.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Ho(t);else{if(!r){if(null===t.stateNode)throw Error(l(166));return Go(t),null}e=Y.current,ra(t)?ta(t):(e=cu(a,r,n),t.stateNode=e,Ho(t))}return Go(t),null;case 5:if(ne(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Ho(t);else{if(!r){if(null===t.stateNode)throw Error(l(166));return Go(t),null}if(e=Y.current,ra(t))ta(t);else{switch(a=Yd(X.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?a.createElement(n,{is:r.is}):a.createElement(n)}}e[Me]=t,e[Ie]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(Vd(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ho(t)}}return Go(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Ho(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(l(166));if(e=X.current,ra(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(a=Gr))switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Me]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||qd(e.nodeValue,n)))||ea(t)}else(e=Yd(e).createTextNode(r))[Me]=t,t.stateNode=e}return Go(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=ra(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(l(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(l(317));a[Me]=t}else aa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Go(t),a=!1}else null!==Xr&&(Rc(Xr),Xr=null),a=!0;if(!a)return 256&t.flags?(za(t),t):(za(t),null)}if(za(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){a=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(a=r.alternate.memoizedState.cachePool.pool);var s=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==a&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Vo(t,t.updateQueue),Go(t),null;case 4:return ee(),null===e&&Ad(t.stateNode.containerInfo),Go(t),null;case 10:return bi(t.type),Go(t),null;case 19:if(Q(Ra),null===(a=t.memoizedState))return Go(t),null;if(r=0!==(128&t.flags),null===(s=a.rendering))if(r)Qo(a,!1);else{if(0!==dc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=Fa(e))){for(t.flags|=128,Qo(a,!1),e=s.updateQueue,t.updateQueue=e,Vo(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Mo(n,e),n=n.sibling;return G(Ra,1&Ra.current|2),t.child}e=e.sibling}null!==a.tail&&oe()>vc&&(t.flags|=128,r=!0,Qo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Fa(s))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Vo(t,e),Qo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!Kr)return Go(t),null}else 2*oe()-a.renderingStartTime>vc&&536870912!==n&&(t.flags|=128,r=!0,Qo(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=a.last)?e.sibling=s:t.child=s,a.last=s)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=oe(),t.sibling=null,e=Ra.current,G(Ra,r?1&e|2:1&e),t):(Go(t),null);case 22:case 23:return za(t),Ca(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(Go(t),6&t.subtreeFlags&&(t.flags|=8192)):Go(t),null!==(n=t.updateQueue)&&Vo(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&Q(Ga),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),bi(Ia),Go(t),null;case 25:return null}throw Error(l(156,t.tag))}function Ko(e,t){switch(Qr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return bi(Ia),ee(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return ne(t),null;case 13:if(za(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(l(340));aa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Q(Ra),null;case 4:return ee(),null;case 10:return bi(t.type),null;case 22:case 23:return za(t),Ca(),null!==e&&Q(Ga),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return bi(Ia),null;default:return null}}function Xo(e,t){switch(Qr(t),t.tag){case 3:bi(Ia),ee();break;case 26:case 27:case 5:ne(t);break;case 4:ee();break;case 13:za(t);break;case 19:Q(Ra);break;case 10:bi(t.type);break;case 22:case 23:za(t),Ca(),null!==e&&Q(Ga);break;case 24:bi(Ia)}}var Jo={getCacheForType:function(e){var t=_i(Ia),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},Zo="function"===typeof WeakMap?WeakMap:Map,ec=0,tc=null,nc=null,rc=0,ac=0,sc=null,lc=!1,ic=!1,oc=!1,cc=0,dc=0,uc=0,mc=0,pc=0,fc=0,hc=0,xc=null,gc=null,bc=!1,yc=0,vc=1/0,jc=null,Nc=null,wc=!1,_c=null,kc=0,Sc=0,Cc=null,Ec=0,Tc=null;function Pc(){if(0!==(2&ec)&&0!==rc)return rc&-rc;if(null!==P.T){return 0!==Ha?Ha:jd()}return De()}function Oc(){0===fc&&(fc=0===(536870912&rc)||Kr?Te():536870912);var e=Ea.current;return null!==e&&(e.flags|=32),fc}function Ac(e,t,n){(e===tc&&2===ac||null!==e.cancelPendingCommit)&&(Uc(e,0),Lc(e,rc,fc,!1)),Ae(e,n),0!==(2&ec)&&e===tc||(e===tc&&(0===(2&ec)&&(mc|=n),4===dc&&Lc(e,rc,fc,!1)),hd(e))}function zc(e,t,n){if(0!==(6&ec))throw Error(l(327));for(var r=!n&&0===(60&t)&&0===(t&e.expiredLanes)||Ce(e,t),a=r?function(e,t){var n=ec;ec|=2;var r=qc(),a=$c();tc!==e||rc!==t?(jc=null,vc=oe()+500,Uc(e,t)):ic=Ce(e,t);e:for(;;)try{if(0!==ac&&null!==nc){t=nc;var s=sc;t:switch(ac){case 1:ac=0,sc=null,Kc(e,t,s,1);break;case 2:if(ca(s)){ac=0,sc=null,Yc(t);break}t=function(){2===ac&&tc===e&&(ac=7),hd(e)},s.then(t,t);break e;case 3:ac=7;break e;case 4:ac=5;break e;case 7:ca(s)?(ac=0,sc=null,Yc(t)):(ac=0,sc=null,Kc(e,t,s,7));break;case 5:var i=null;switch(nc.tag){case 26:i=nc.memoizedState;case 5:case 27:var o=nc;if(!i||Tu(i)){ac=0,sc=null;var c=o.sibling;if(null!==c)nc=c;else{var d=o.return;null!==d?(nc=d,Xc(d)):nc=null}break t}}ac=0,sc=null,Kc(e,t,s,5);break;case 6:ac=0,sc=null,Kc(e,t,s,6);break;case 8:Ic(),dc=6;break e;default:throw Error(l(462))}}Qc();break}catch(u){Bc(e,u)}return xi=hi=null,P.H=r,P.A=a,ec=n,null!==nc?0:(tc=null,rc=0,Sr(),dc)}(e,t):Wc(e,t,!0),s=r;;){if(0===a){ic&&!r&&Lc(e,t,0,!1);break}if(6===a)Lc(e,t,0,!lc);else{if(n=e.current.alternate,s&&!Dc(n)){a=Wc(e,t,!1),s=!1;continue}if(2===a){if(s=t,e.errorRecoveryDisabledLanes&s)var i=0;else i=0!==(i=-536870913&e.pendingLanes)?i:536870912&i?536870912:0;if(0!==i){t=i;e:{var o=e;a=xc;var c=o.current.memoizedState.isDehydrated;if(c&&(Uc(o,i).flags|=256),2!==(i=Wc(o,i,!1))){if(oc&&!c){o.errorRecoveryDisabledLanes|=s,mc|=s,a=4;break e}s=gc,gc=a,null!==s&&Rc(s)}a=i}if(s=!1,2!==a)continue}}if(1===a){Uc(e,0),Lc(e,t,0,!0);break}e:{switch(r=e,a){case 0:case 1:throw Error(l(345));case 4:if((4194176&t)===t){Lc(r,t,fc,!lc);break e}break;case 2:gc=null;break;case 3:case 5:break;default:throw Error(l(329))}if(r.finishedWork=n,r.finishedLanes=t,(62914560&t)===t&&10<(s=yc+300-oe())){if(Lc(r,t,fc,!lc),0!==Se(r,0))break e;r.timeoutHandle=eu(Fc.bind(null,r,n,gc,jc,bc,t,fc,mc,hc,lc,2,-0,0),s)}else Fc(r,n,gc,jc,bc,t,fc,mc,hc,lc,0,-0,0)}}break}hd(e)}function Rc(e){null===gc?gc=e:gc.push.apply(gc,e)}function Fc(e,t,n,r,a,s,i,o,c,d,u,m,p){var f=t.subtreeFlags;if((8192&f||16785408===(16785408&f))&&(Pu={stylesheets:null,count:0,unsuspend:Ou},Eo(t),null!==(t=function(){if(null===Pu)throw Error(l(475));var e=Pu;return e.stylesheets&&0===e.count&&Ru(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Ru(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=t(Zc.bind(null,e,n,r,a,i,o,c,1,m,p)),void Lc(e,s,i,!d);Zc(e,n,r,a,i,o,c,u,m,p)}function Dc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!Gn(s(),a))return!1}catch(l){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Lc(e,t,n,r){t&=~pc,t&=~mc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var s=31-ve(a),l=1<<s;r[s]=-1,a&=~l}0!==n&&ze(e,n,t)}function Mc(){return 0!==(6&ec)||(xd(0,!1),!1)}function Ic(){if(null!==nc){if(0===ac)var e=nc.return;else xi=hi=null,gs(e=nc),fa=null,ha=0,e=nc;for(;null!==e;)Xo(e.alternate,e),e=e.return;nc=null}}function Uc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,tu(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Ic(),tc=e,nc=n=Lo(e.current,null),rc=t,ac=0,sc=null,lc=!1,ic=Ce(e,t),oc=!1,hc=fc=pc=mc=uc=dc=0,gc=xc=null,bc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-ve(r),s=1<<a;t|=e[a],r&=~s}return cc=t,Sr(),n}function Bc(e,t){Za=null,P.H=_l,t===la?(t=pa(),ac=3):t===ia?(t=pa(),ac=4):ac=t===ql?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,sc=t,null===nc&&(dc=1,Ll(e,Rr(t,e.current)))}function qc(){var e=P.H;return P.H=_l,null===e?_l:e}function $c(){var e=P.A;return P.A=Jo,e}function Hc(){dc=4,lc||(4194176&rc)!==rc&&null!==Ea.current||(ic=!0),0===(134217727&uc)&&0===(134217727&mc)||null===tc||Lc(tc,rc,fc,!1)}function Wc(e,t,n){var r=ec;ec|=2;var a=qc(),s=$c();tc===e&&rc===t||(jc=null,Uc(e,t)),t=!1;var l=dc;e:for(;;)try{if(0!==ac&&null!==nc){var i=nc,o=sc;switch(ac){case 8:Ic(),l=6;break e;case 3:case 2:case 6:null===Ea.current&&(t=!0);var c=ac;if(ac=0,sc=null,Kc(e,i,o,c),n&&ic){l=0;break e}break;default:c=ac,ac=0,sc=null,Kc(e,i,o,c)}}Vc(),l=dc;break}catch(d){Bc(e,d)}return t&&e.shellSuspendCounter++,xi=hi=null,ec=r,P.H=a,P.A=s,null===nc&&(tc=null,rc=0,Sr()),l}function Vc(){for(;null!==nc;)Gc(nc)}function Qc(){for(;null!==nc&&!le();)Gc(nc)}function Gc(e){var t=pi(e.alternate,e,cc);e.memoizedProps=e.pendingProps,null===t?Xc(e):nc=t}function Yc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Jl(n,t,t.pendingProps,t.type,void 0,rc);break;case 11:t=Jl(n,t,t.pendingProps,t.type.render,t.ref,rc);break;case 5:gs(t);default:Xo(n,t),t=pi(n,t=nc=Mo(t,cc),cc)}e.memoizedProps=e.pendingProps,null===t?Xc(e):nc=t}function Kc(e,t,n,r){xi=hi=null,gs(t),fa=null,ha=0;var a=t.return;try{if(function(e,t,n,r,a){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&ji(t,n,a,!0),null!==(n=Ea.current)){switch(n.tag){case 13:return null===Ta?Hc():null===n.alternate&&0===dc&&(dc=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===oa?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),ad(e,r,a)),!1;case 22:return n.flags|=65536,r===oa?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),ad(e,r,a)),!1}throw Error(l(435,n.tag))}return ad(e,r,a),Hc(),!1}if(Kr)return null!==(t=Ea.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==Zr&&sa(Rr(e=Error(l(422),{cause:r}),n))):(r!==Zr&&sa(Rr(t=Error(l(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,r=Rr(r,n),zi(e,a=Il(e.stateNode,r,a)),4!==dc&&(dc=2)),!1;var s=Error(l(520),{cause:r});if(s=Rr(s,n),null===xc?xc=[s]:xc.push(s),4!==dc&&(dc=2),null===t)return!0;r=Rr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,zi(n,e=Il(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Nc||!Nc.has(s))))return n.flags|=65536,a&=-a,n.lanes|=a,Bl(a=Ul(a),e,n,r),zi(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,rc))return dc=1,Ll(e,Rr(n,e.current)),void(nc=null)}catch(s){if(null!==a)throw nc=a,s;return dc=1,Ll(e,Rr(n,e.current)),void(nc=null)}32768&t.flags?(Kr||1===r?e=!0:ic||0!==(536870912&rc)?e=!1:(lc=e=!0,(2===r||3===r||6===r)&&(null!==(r=Ea.current)&&13===r.tag&&(r.flags|=16384))),Jc(t,e)):Xc(t)}function Xc(e){var t=e;do{if(0!==(32768&t.flags))return void Jc(t,lc);e=t.return;var n=Yo(t.alternate,t,cc);if(null!==n)return void(nc=n);if(null!==(t=t.sibling))return void(nc=t);nc=t=e}while(null!==t);0===dc&&(dc=5)}function Jc(e,t){do{var n=Ko(e.alternate,e);if(null!==n)return n.flags&=32767,void(nc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(nc=e);nc=e=n}while(null!==e);dc=6,nc=null}function Zc(e,t,n,r,a,s,i,o,c,d){var u=P.T,m=q.p;try{q.p=2,P.T=null,function(e,t,n,r,a,s,i,o){do{td()}while(null!==_c);if(0!==(6&ec))throw Error(l(327));var c=e.finishedWork;if(r=e.finishedLanes,null===c)return null;if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(l(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var d=c.lanes|c.childLanes;if(function(e,t,n,r,a,s){var l=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var i=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(n=l&~n;0<n;){var d=31-ve(n),u=1<<d;i[d]=0,o[d]=-1;var m=c[d];if(null!==m)for(c[d]=null,d=0;d<m.length;d++){var p=m[d];null!==p&&(p.lane&=-536870913)}n&=~u}0!==r&&ze(e,r,0),0!==s&&0===a&&0!==e.tag&&(e.suspendedLanes|=s&~(l&~t))}(e,r,d|=kr,s,i,o),e===tc&&(nc=tc=null,rc=0),0===(10256&c.subtreeFlags)&&0===(10256&c.flags)||wc||(wc=!0,Sc=d,Cc=n,function(e,t){ae(e,t)}(me,(function(){return td(),null}))),n=0!==(15990&c.flags),0!==(15990&c.subtreeFlags)||n?(n=P.T,P.T=null,s=q.p,q.p=2,i=ec,ec|=4,function(e,t){if(e=e.containerInfo,Qd=Hu,er(e=Zn(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(x){n=null;break e}var i=0,o=-1,c=-1,d=0,u=0,m=e,p=null;t:for(;;){for(var f;m!==n||0!==a&&3!==m.nodeType||(o=i+a),m!==s||0!==r&&3!==m.nodeType||(c=i+r),3===m.nodeType&&(i+=m.nodeValue.length),null!==(f=m.firstChild);)p=m,m=f;for(;;){if(m===e)break t;if(p===n&&++d===a&&(o=i),p===s&&++u===r&&(c=i),null!==(f=m.nextSibling))break;p=(m=p).parentNode}m=f}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gd={focusedElem:e,selectionRange:n},Hu=!1,to=t;null!==to;)if(e=(t=to).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,to=e;else for(;null!==to;){switch(s=(t=to).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,a=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var h=Al(n.type,a,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(h,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(g){rd(n,n.return,g)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))lu(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":lu(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(l(163))}if(null!==(e=t.sibling)){e.return=t.return,to=e;break}to=t.return}h=no,no=!1}(e,c),fo(c,e),tr(Gd,e.containerInfo),Hu=!!Qd,Gd=Qd=null,e.current=c,ro(e,c.alternate,c),ie(),ec=i,q.p=s,P.T=n):e.current=c,wc?(wc=!1,_c=e,kc=r):ed(e,d),d=e.pendingLanes,0===d&&(Nc=null),function(e){if(be&&"function"===typeof be.onCommitFiberRoot)try{be.onCommitFiberRoot(ge,e,void 0,128===(128&e.current.flags))}catch(t){}}(c.stateNode),hd(e),null!==t)for(a=e.onRecoverableError,c=0;c<t.length;c++)d=t[c],a(d.value,{componentStack:d.stack});0!==(3&kc)&&td(),d=e.pendingLanes,0!==(4194218&r)&&0!==(42&d)?e===Tc?Ec++:(Ec=0,Tc=e):Ec=0,xd(0,!1)}(e,t,n,r,m,a,s,i)}finally{P.T=u,q.p=m}}function ed(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ba(t)))}function td(){if(null!==_c){var e=_c,t=Sc;Sc=0;var n=Fe(kc),r=P.T,a=q.p;try{if(q.p=32>n?32:n,P.T=null,null===_c)var s=!1;else{n=Cc,Cc=null;var i=_c,o=kc;if(_c=null,kc=0,0!==(6&ec))throw Error(l(331));var c=ec;if(ec|=4,Oo(i.current),wo(i,i.current,o,n),ec=c,xd(0,!1),be&&"function"===typeof be.onPostCommitFiberRoot)try{be.onPostCommitFiberRoot(ge,i)}catch(d){}s=!0}return s}finally{q.p=a,P.T=r,ed(e,t)}}return!1}function nd(e,t,n){t=Rr(n,t),null!==(e=Oi(e,t=Il(e.stateNode,t,2),2))&&(Ae(e,2),hd(e))}function rd(e,t,n){if(3===e.tag)nd(e,e,n);else for(;null!==t;){if(3===t.tag){nd(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Nc||!Nc.has(r))){e=Rr(n,e),null!==(r=Oi(t,n=Ul(2),2))&&(Bl(n,r,t,e),Ae(r,2),hd(r));break}}t=t.return}}function ad(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Zo;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(oc=!0,a.add(n),e=sd.bind(null,e,t,n),t.then(e,e))}function sd(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,tc===e&&(rc&n)===n&&(4===dc||3===dc&&(62914560&rc)===rc&&300>oe()-yc?0===(2&ec)&&Uc(e,0):pc|=n,hc===rc&&(hc=0)),hd(e)}function ld(e,t){0===t&&(t=Pe()),null!==(e=Tr(e,t))&&(Ae(e,t),hd(e))}function id(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ld(e,n)}function od(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}null!==r&&r.delete(t),ld(e,n)}var cd=null,dd=null,ud=!1,md=!1,pd=!1,fd=0;function hd(e){var t;e!==dd&&null===e.next&&(null===dd?cd=dd=e:dd=dd.next=e),md=!0,ud||(ud=!0,t=gd,ru((function(){0!==(6&ec)?ae(de,t):t()})))}function xd(e,t){if(!pd&&md){pd=!0;do{for(var n=!1,r=cd;null!==r;){if(!t)if(0!==e){var a=r.pendingLanes;if(0===a)var s=0;else{var l=r.suspendedLanes,i=r.pingedLanes;s=(1<<31-ve(42|e)+1)-1,s=201326677&(s&=a&~(l&~i))?201326677&s|1:s?2|s:0}0!==s&&(n=!0,vd(r,s))}else s=rc,0===(3&(s=Se(r,r===tc?s:0)))||Ce(r,s)||(n=!0,vd(r,s));r=r.next}}while(n);pd=!1}}function gd(){md=ud=!1;var e=0;0!==fd&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Zd&&(Zd=e,!0);return Zd=null,!1}()&&(e=fd),fd=0);for(var t=oe(),n=null,r=cd;null!==r;){var a=r.next,s=bd(r,t);0===s?(r.next=null,null===n?cd=a:n.next=a,null===a&&(dd=n)):(n=r,(0!==e||0!==(3&s))&&(md=!0)),r=a}xd(e,!1)}function bd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var l=31-ve(s),i=1<<l,o=a[l];-1===o?0!==(i&n)&&0===(i&r)||(a[l]=Ee(i,t)):o<=t&&(e.expiredLanes|=i),s&=~i}if(n=rc,n=Se(e,e===(t=tc)?n:0),r=e.callbackNode,0===n||e===t&&2===ac||null!==e.cancelPendingCommit)return null!==r&&null!==r&&se(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ce(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&se(r),Fe(n)){case 2:case 8:n=ue;break;case 32:default:n=me;break;case 268435456:n=fe}return r=yd.bind(null,e),n=ae(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&se(r),e.callbackPriority=2,e.callbackNode=null,2}function yd(e,t){var n=e.callbackNode;if(td()&&e.callbackNode!==n)return null;var r=rc;return 0===(r=Se(e,e===tc?r:0))?null:(zc(e,r,t),bd(e,oe()),null!=e.callbackNode&&e.callbackNode===n?yd.bind(null,e):null)}function vd(e,t){if(td())return null;zc(e,t,!0)}function jd(){return 0===fd&&(fd=Te()),fd}function Nd(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Tt(""+e)}function wd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var _d=0;_d<jr.length;_d++){var kd=jr[_d];Nr(kd.toLowerCase(),"on"+(kd[0].toUpperCase()+kd.slice(1)))}Nr(pr,"onAnimationEnd"),Nr(fr,"onAnimationIteration"),Nr(hr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(xr,"onTransitionRun"),Nr(gr,"onTransitionStart"),Nr(br,"onTransitionCancel"),Nr(yr,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cd=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sd));function Ed(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var l=r.length-1;0<=l;l--){var i=r[l],o=i.instance,c=i.currentTarget;if(i=i.listener,o!==s&&a.isPropagationStopped())break e;s=i,a.currentTarget=c;try{s(a)}catch(d){zl(d)}a.currentTarget=null,s=o}else for(l=0;l<r.length;l++){if(o=(i=r[l]).instance,c=i.currentTarget,i=i.listener,o!==s&&a.isPropagationStopped())break e;s=i,a.currentTarget=c;try{s(a)}catch(d){zl(d)}a.currentTarget=null,s=o}}}}function Td(e,t){var n=t[Be];void 0===n&&(n=t[Be]=new Set);var r=e+"__bubble";n.has(r)||(zd(t,e,2,!1),n.add(r))}function Pd(e,t,n){var r=0;t&&(r|=4),zd(n,e,r,t)}var Od="_reactListening"+Math.random().toString(36).slice(2);function Ad(e){if(!e[Od]){e[Od]=!0,Je.forEach((function(t){"selectionchange"!==t&&(Cd.has(t)||Pd(t,!1,e),Pd(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Od]||(t[Od]=!0,Pd("selectionchange",!1,t))}}function zd(e,t,n,r){switch(Xu(t)){case 2:var a=Wu;break;case 8:a=Vu;break;default:a=Qu}n=a.bind(null,t,n,e),a=void 0,!Mt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Rd(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var l=r.tag;if(3===l||4===l){var i=r.stateNode.containerInfo;if(i===a||8===i.nodeType&&i.parentNode===a)break;if(4===l)for(l=r.return;null!==l;){var o=l.tag;if((3===o||4===o)&&((o=l.stateNode.containerInfo)===a||8===o.nodeType&&o.parentNode===a))return;l=l.return}for(;null!==i;){if(null===(l=Qe(i)))return;if(5===(o=l.tag)||6===o||26===o||27===o){r=s=l;continue e}i=i.parentNode}}r=r.return}Dt((function(){var r=s,a=Ot(n),l=[];e:{var i=vr.get(e);if(void 0!==i){var o=Jt,c=e;switch(e){case"keypress":if(0===Ht(n))break e;case"keydown":case"keyup":o=fn;break;case"focusin":c="focus",o=an;break;case"focusout":c="blur",o=an;break;case"beforeblur":case"afterblur":o=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=xn;break;case pr:case fr:case hr:o=sn;break;case yr:o=gn;break;case"scroll":case"scrollend":o=en;break;case"wheel":o=bn;break;case"copy":case"cut":case"paste":o=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=hn;break;case"toggle":case"beforetoggle":o=yn}var d=0!==(4&t),u=!d&&("scroll"===e||"scrollend"===e),m=d?null!==i?i+"Capture":null:i;d=[];for(var p,f=r;null!==f;){var h=f;if(p=h.stateNode,5!==(h=h.tag)&&26!==h&&27!==h||null===p||null===m||null!=(h=Lt(f,m))&&d.push(Fd(f,h,p)),u)break;f=f.return}0<d.length&&(i=new o(i,c,null,n,a),l.push({event:i,listeners:d}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===Pt||!(c=n.relatedTarget||n.fromElement)||!Qe(c)&&!c[Ue])&&(o||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=r,null!==(c=(c=n.relatedTarget||n.toElement)?Qe(c):null)&&(u=L(c),d=c.tag,c!==u||5!==d&&27!==d&&6!==d)&&(c=null)):(o=null,c=r),o!==c)){if(d=nn,h="onMouseLeave",m="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=hn,h="onPointerLeave",m="onPointerEnter",f="pointer"),u=null==o?i:Ye(o),p=null==c?i:Ye(c),(i=new d(h,f+"leave",o,n,a)).target=u,i.relatedTarget=p,h=null,Qe(a)===r&&((d=new d(m,f+"enter",c,n,a)).target=p,d.relatedTarget=u,h=d),u=h,o&&c)e:{for(m=c,f=0,p=d=o;p;p=Ld(p))f++;for(p=0,h=m;h;h=Ld(h))p++;for(;0<f-p;)d=Ld(d),f--;for(;0<p-f;)m=Ld(m),p--;for(;f--;){if(d===m||null!==m&&d===m.alternate)break e;d=Ld(d),m=Ld(m)}d=null}else d=null;null!==o&&Md(l,i,o,d,!1),null!==c&&null!==u&&Md(l,u,c,d,!0)}if("select"===(o=(i=r?Ye(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===o&&"file"===i.type)var x=Ln;else if(On(i))if(Mn)x=Qn;else{x=Wn;var g=Hn}else!(o=i.nodeName)||"input"!==o.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type?r&&St(r.elementType)&&(x=Ln):x=Vn;switch(x&&(x=x(e,r))?An(l,x,n,a):(g&&g(e,i,r),"focusout"===e&&r&&"number"===i.type&&null!=r.memoizedProps.value&&bt(i,"number",i.value)),g=r?Ye(r):window,e){case"focusin":(On(g)||"true"===g.contentEditable)&&(rr=g,ar=r,sr=null);break;case"focusout":sr=ar=rr=null;break;case"mousedown":lr=!0;break;case"contextmenu":case"mouseup":case"dragend":lr=!1,ir(l,n,a);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":ir(l,n,a)}var b;if(jn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Tn?Cn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(_n&&"ko"!==n.locale&&(Tn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Tn&&(b=$t()):(Bt="value"in(Ut=a)?Ut.value:Ut.textContent,Tn=!0)),0<(g=Dd(r,y)).length&&(y=new on(y,e,null,n,a),l.push({event:y,listeners:g}),b?y.data=b:null!==(b=En(n))&&(y.data=b))),(b=wn?function(e,t){switch(e){case"compositionend":return En(t);case"keypress":return 32!==t.which?null:(Sn=!0,kn);case"textInput":return(e=t.data)===kn&&Sn?null:e;default:return null}}(e,n):function(e,t){if(Tn)return"compositionend"===e||!jn&&Cn(e,t)?(e=$t(),qt=Bt=Ut=null,Tn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(y=Dd(r,"onBeforeInput")).length&&(g=new on("onBeforeInput","beforeinput",null,n,a),l.push({event:g,listeners:y}),g.data=b)),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var s=Nd((a[Ie]||null).action),l=r.submitter;l&&null!==(t=(t=l[Ie]||null)?Nd(t.formAction):l.getAttribute("formAction"))&&(s=t,l=null);var i=new Jt("action","action",null,r,a);e.push({event:i,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==fd){var e=l?wd(a,l):new FormData(a);dl(n,{pending:!0,data:e,method:a.method,action:s},null,e)}}else"function"===typeof s&&(i.preventDefault(),e=l?wd(a,l):new FormData(a),dl(n,{pending:!0,data:e,method:a.method,action:s},s,e))},currentTarget:a}]})}}(l,e,r,n,a)}Ed(l,t)}))}function Fd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Dd(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5!==(a=a.tag)&&26!==a&&27!==a||null===s||(null!=(a=Lt(e,n))&&r.unshift(Fd(e,a,s)),null!=(a=Lt(e,t))&&r.push(Fd(e,a,s))),e=e.return}return r}function Ld(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Md(e,t,n,r,a){for(var s=t._reactName,l=[];null!==n&&n!==r;){var i=n,o=i.alternate,c=i.stateNode;if(i=i.tag,null!==o&&o===r)break;5!==i&&26!==i&&27!==i||null===c||(o=c,a?null!=(c=Lt(n,s))&&l.unshift(Fd(n,c,o)):a||null!=(c=Lt(n,s))&&l.push(Fd(n,c,o))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var Id=/\r\n?/g,Ud=/\u0000|\uFFFD/g;function Bd(e){return("string"===typeof e?e:""+e).replace(Id,"\n").replace(Ud,"")}function qd(e,t){return t=Bd(t),Bd(e)===t}function $d(){}function Hd(e,t,n,r,a,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Nt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Nt(e,""+r);break;case"className":it(e,"class",r);break;case"tabIndex":it(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":it(e,n,r);break;case"style":kt(e,r,s);break;case"data":if("object"!==t){it(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Tt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&Hd(e,t,"name",a.name,a,null),Hd(e,t,"formEncType",a.formEncType,a,null),Hd(e,t,"formMethod",a.formMethod,a,null),Hd(e,t,"formTarget",a.formTarget,a,null)):(Hd(e,t,"encType",a.encType,a,null),Hd(e,t,"method",a.method,a,null),Hd(e,t,"target",a.target,a,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Tt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=$d);break;case"onScroll":null!=r&&Td("scroll",e);break;case"onScrollEnd":null!=r&&Td("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(l(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(l(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Tt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Td("beforetoggle",e),Td("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ot(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ot(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ot(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ot(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ot(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ot(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ot(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ot(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ot(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=Ct.get(n)||n,r)}}function Wd(e,t,n,r,a,s){switch(n){case"style":kt(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(l(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(l(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Nt(e,r):("number"===typeof r||"bigint"===typeof r)&&Nt(e,""+r);break;case"onScroll":null!=r&&Td("scroll",e);break;case"onScrollEnd":null!=r&&Td("scrollend",e);break;case"onClick":null!=r&&(e.onclick=$d);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ze.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"===typeof(s=null!=(s=e[Ie]||null)?s[n]:null)&&e.removeEventListener(t,s,a),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a)))}}function Vd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Td("error",e),Td("load",e);var r,a=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var i=n[r];if(null!=i)switch(r){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Hd(e,t,r,i,n,null)}}return s&&Hd(e,t,"srcSet",n.srcSet,n,null),void(a&&Hd(e,t,"src",n.src,n,null));case"input":Td("invalid",e);var o=r=i=s=null,c=null,d=null;for(a in n)if(n.hasOwnProperty(a)){var u=n[a];if(null!=u)switch(a){case"name":s=u;break;case"type":i=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":r=u;break;case"defaultValue":o=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(l(137,t));break;default:Hd(e,t,a,u,n,null)}}return gt(e,r,o,c,d,i,s,!1),void ut(e);case"select":for(s in Td("invalid",e),a=i=r=null,n)if(n.hasOwnProperty(s)&&null!=(o=n[s]))switch(s){case"value":r=o;break;case"defaultValue":i=o;break;case"multiple":a=o;default:Hd(e,t,s,o,n,null)}return t=r,n=i,e.multiple=!!a,void(null!=t?yt(e,!!a,t,!1):null!=n&&yt(e,!!a,n,!0));case"textarea":for(i in Td("invalid",e),r=s=a=null,n)if(n.hasOwnProperty(i)&&null!=(o=n[i]))switch(i){case"value":a=o;break;case"defaultValue":s=o;break;case"children":r=o;break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(l(91));break;default:Hd(e,t,i,o,n,null)}return jt(e,a,s,r),void ut(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else Hd(e,t,c,a,n,null);return;case"dialog":Td("cancel",e),Td("close",e);break;case"iframe":case"object":Td("load",e);break;case"video":case"audio":for(a=0;a<Sd.length;a++)Td(Sd[a],e);break;case"image":Td("error",e),Td("load",e);break;case"details":Td("toggle",e);break;case"embed":case"source":case"link":Td("error",e),Td("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&null!=(a=n[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Hd(e,t,d,a,n,null)}return;default:if(St(t)){for(u in n)n.hasOwnProperty(u)&&(void 0!==(a=n[u])&&Wd(e,t,u,a,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(null!=(a=n[o])&&Hd(e,t,o,a,n,null))}var Qd=null,Gd=null;function Yd(e){return 9===e.nodeType?e:e.ownerDocument}function Kd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Jd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Zd=null;var eu="function"===typeof setTimeout?setTimeout:void 0,tu="function"===typeof clearTimeout?clearTimeout:void 0,nu="function"===typeof Promise?Promise:void 0,ru="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nu?function(e){return nu.resolve(null).then(e).catch(au)}:eu;function au(e){setTimeout((function(){throw e}))}function su(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void hm(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);hm(t)}function lu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":lu(n),Ve(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function iu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function ou(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function cu(e,t,n){switch(t=Yd(n),e){case"html":if(!(e=t.documentElement))throw Error(l(452));return e;case"head":if(!(e=t.head))throw Error(l(453));return e;case"body":if(!(e=t.body))throw Error(l(454));return e;default:throw Error(l(451))}}var du=new Map,uu=new Set;function mu(e){return"function"===typeof e.getRootNode?e.getRootNode():e.ownerDocument}var pu=q.d;q.d={f:function(){var e=pu.f(),t=Mc();return e||t},r:function(e){var t=Ge(e);null!==t&&5===t.tag&&"form"===t.type?ml(t):pu.r(e)},D:function(e){pu.D(e),hu("dns-prefetch",e,null)},C:function(e,t){pu.C(e,t),hu("preconnect",e,t)},L:function(e,t,n){pu.L(e,t,n);var r=fu;if(r&&e&&t){var a='link[rel="preload"][as="'+ht(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+ht(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(a+='[imagesizes="'+ht(n.imageSizes)+'"]')):a+='[href="'+ht(e)+'"]';var s=a;switch(t){case"style":s=gu(e);break;case"script":s=vu(e)}du.has(s)||(e=O({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),du.set(s,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(bu(s))||"script"===t&&r.querySelector(ju(s))||(Vd(t=r.createElement("link"),"link",e),Xe(t),r.head.appendChild(t)))}},m:function(e,t){pu.m(e,t);var n=fu;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+ht(r)+'"][href="'+ht(e)+'"]',s=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=vu(e)}if(!du.has(s)&&(e=O({rel:"modulepreload",href:e},t),du.set(s,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ju(s)))return}Vd(r=n.createElement("link"),"link",e),Xe(r),n.head.appendChild(r)}}},X:function(e,t){pu.X(e,t);var n=fu;if(n&&e){var r=Ke(n).hoistableScripts,a=vu(e),s=r.get(a);s||((s=n.querySelector(ju(a)))||(e=O({src:e,async:!0},t),(t=du.get(a))&&ku(e,t),Xe(s=n.createElement("script")),Vd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}},S:function(e,t,n){pu.S(e,t,n);var r=fu;if(r&&e){var a=Ke(r).hoistableStyles,s=gu(e);t=t||"default";var l=a.get(s);if(!l){var i={loading:0,preload:null};if(l=r.querySelector(bu(s)))i.loading=5;else{e=O({rel:"stylesheet",href:e,"data-precedence":t},n),(n=du.get(s))&&_u(e,n);var o=l=r.createElement("link");Xe(o),Vd(o,"link",e),o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),o.addEventListener("load",(function(){i.loading|=1})),o.addEventListener("error",(function(){i.loading|=2})),i.loading|=4,wu(l,t,r)}l={type:"stylesheet",instance:l,count:1,state:i},a.set(s,l)}}},M:function(e,t){pu.M(e,t);var n=fu;if(n&&e){var r=Ke(n).hoistableScripts,a=vu(e),s=r.get(a);s||((s=n.querySelector(ju(a)))||(e=O({src:e,async:!0,type:"module"},t),(t=du.get(a))&&ku(e,t),Xe(s=n.createElement("script")),Vd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}}};var fu="undefined"===typeof document?null:document;function hu(e,t,n){var r=fu;if(r&&"string"===typeof t&&t){var a=ht(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof n&&(a+='[crossorigin="'+n+'"]'),uu.has(a)||(uu.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(Vd(t=r.createElement("link"),"link",e),Xe(t),r.head.appendChild(t)))}}function xu(e,t,n,r){var a,s,i,o,c=(c=X.current)?mu(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=gu(n.href),(r=(n=Ke(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=gu(n.href);var d=Ke(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(bu(e)))&&!d._p&&(u.instance=d,u.state.loading=5),du.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},du.set(e,n),d||(a=c,s=e,i=n,o=u.state,a.querySelector('link[rel="preload"][as="style"]['+s+"]")?o.loading=1:(s=a.createElement("link"),o.preload=s,s.addEventListener("load",(function(){return o.loading|=1})),s.addEventListener("error",(function(){return o.loading|=2})),Vd(s,"link",i),Xe(s),a.head.appendChild(s))))),t&&null===r)throw Error(l(528,""));return u}if(t&&null!==r)throw Error(l(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=vu(n),(r=(n=Ke(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function gu(e){return'href="'+ht(e)+'"'}function bu(e){return'link[rel="stylesheet"]['+e+"]"}function yu(e){return O({},e,{"data-precedence":e.precedence,precedence:null})}function vu(e){return'[src="'+ht(e)+'"]'}function ju(e){return"script[async]"+e}function Nu(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+ht(n.href)+'"]');if(r)return t.instance=r,Xe(r),r;var a=O({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Xe(r=(e.ownerDocument||e).createElement("style")),Vd(r,"style",a),wu(r,n.precedence,e),t.instance=r;case"stylesheet":a=gu(n.href);var s=e.querySelector(bu(a));if(s)return t.state.loading|=4,t.instance=s,Xe(s),s;r=yu(n),(a=du.get(a))&&_u(r,a),Xe(s=(e.ownerDocument||e).createElement("link"));var i=s;return i._p=new Promise((function(e,t){i.onload=e,i.onerror=t})),Vd(s,"link",r),t.state.loading|=4,wu(s,n.precedence,e),t.instance=s;case"script":return s=vu(n.src),(a=e.querySelector(ju(s)))?(t.instance=a,Xe(a),a):(r=n,(a=du.get(s))&&ku(r=O({},n),a),Xe(a=(e=e.ownerDocument||e).createElement("script")),Vd(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(l(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,wu(r,n.precedence,e));return t.instance}function wu(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,s=a,l=0;l<r.length;l++){var i=r[l];if(i.dataset.precedence===t)s=i;else if(s!==a)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function _u(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function ku(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Su=null;function Cu(e,t,n){if(null===Su){var r=new Map,a=Su=new Map;a.set(n,r)}else(r=(a=Su).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var s=n[a];if(!(s[We]||s[Me]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var l=s.getAttribute(t)||"";l=e+l;var i=r.get(l);i?i.push(s):r.set(l,[s])}}return r}function Eu(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Tu(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Pu=null;function Ou(){}function Au(){if(this.count--,0===this.count)if(this.stylesheets)Ru(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var zu=null;function Ru(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,zu=new Map,t.forEach(Fu,e),zu=null,Au.call(e))}function Fu(e,t){if(!(4&t.state.loading)){var n=zu.get(e);if(n)var r=n.get(null);else{n=new Map,zu.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<a.length;s++){var l=a[s];"LINK"!==l.nodeName&&"not all"===l.getAttribute("media")||(n.set(l.dataset.precedence,l),r=l)}r&&n.set(null,r)}l=(a=t.instance).getAttribute("data-precedence"),(s=n.get(l)||r)===r&&n.set(null,a),n.set(l,a),this.count++,r=Au.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),s?s.parentNode.insertBefore(a,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var Du={$$typeof:x,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function Lu(e,t,n,r,a,s,l,i){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oe(0),this.hiddenUpdates=Oe(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=s,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=i,this.incompleteTransitions=new Map}function Mu(e,t,n,r,a,s,l,i,o,c,d,u){return e=new Lu(e,t,n,l,i,o,c,u),t=1,!0===s&&(t|=24),s=Fo(3,null,null,t),e.current=s,s.stateNode=e,(t=Ua()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},Ei(s),e}function Iu(e){return e?e=Ar:Ar}function Uu(e,t,n,r,a,s){a=Iu(a),null===r.context?r.context=a:r.pendingContext=a,(r=Pi(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=Oi(e,r,t))&&(Ac(n,0,t),Ai(n,e,t))}function Bu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qu(e,t){Bu(e,t),(e=e.alternate)&&Bu(e,t)}function $u(e){if(13===e.tag){var t=Tr(e,67108864);null!==t&&Ac(t,0,67108864),qu(e,67108864)}}var Hu=!0;function Wu(e,t,n,r){var a=P.T;P.T=null;var s=q.p;try{q.p=2,Qu(e,t,n,r)}finally{q.p=s,P.T=a}}function Vu(e,t,n,r){var a=P.T;P.T=null;var s=q.p;try{q.p=8,Qu(e,t,n,r)}finally{q.p=s,P.T=a}}function Qu(e,t,n,r){if(Hu){var a=Gu(r);if(null===a)Rd(e,t,r,Yu,n),lm(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Zu=im(Zu,e,t,n,r,a),!0;case"dragenter":return em=im(em,e,t,n,r,a),!0;case"mouseover":return tm=im(tm,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return nm.set(s,im(nm.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,rm.set(s,im(rm.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(lm(e,r),4&t&&-1<sm.indexOf(e)){for(;null!==a;){var s=Ge(a);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var l=ke(s.pendingLanes);if(0!==l){var i=s;for(i.pendingLanes|=2,i.entangledLanes|=2;l;){var o=1<<31-ve(l);i.entanglements[1]|=o,l&=~o}hd(s),0===(6&ec)&&(vc=oe()+500,xd(0,!1))}}break;case 13:null!==(i=Tr(s,2))&&Ac(i,0,2),Mc(),qu(s,2)}if(null===(s=Gu(r))&&Rd(e,t,r,Yu,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else Rd(e,t,r,null,n)}}function Gu(e){return Ku(e=Ot(e))}var Yu=null;function Ku(e){if(Yu=null,null!==(e=Qe(e))){var t=L(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=M(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Yu=e,null}function Xu(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case de:return 2;case ue:return 8;case me:case pe:return 32;case fe:return 268435456;default:return 32}default:return 32}}var Ju=!1,Zu=null,em=null,tm=null,nm=new Map,rm=new Map,am=[],sm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lm(e,t){switch(e){case"focusin":case"focusout":Zu=null;break;case"dragenter":case"dragleave":em=null;break;case"mouseover":case"mouseout":tm=null;break;case"pointerover":case"pointerout":nm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rm.delete(t.pointerId)}}function im(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=Ge(t))&&$u(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function om(e){var t=Qe(e.target);if(null!==t){var n=L(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=M(n)))return e.blockedOn=t,void function(e,t){var n=q.p;try{return q.p=e,t()}finally{q.p=n}}(e.priority,(function(){if(13===n.tag){var e=Pc(),t=Tr(n,e);null!==t&&Ac(t,0,e),qu(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function cm(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gu(e.nativeEvent);if(null!==n)return null!==(t=Ge(n))&&$u(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Pt=r,n.target.dispatchEvent(r),Pt=null,t.shift()}return!0}function dm(e,t,n){cm(e)&&n.delete(t)}function um(){Ju=!1,null!==Zu&&cm(Zu)&&(Zu=null),null!==em&&cm(em)&&(em=null),null!==tm&&cm(tm)&&(tm=null),nm.forEach(dm),rm.forEach(dm)}function mm(e,t){e.blockedOn===t&&(e.blockedOn=null,Ju||(Ju=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,um)))}var pm=null;function fm(e){pm!==e&&(pm=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){pm===e&&(pm=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if("function"!==typeof r){if(null===Ku(r||n))continue;break}var s=Ge(n);null!==s&&(e.splice(t,3),t-=3,dl(s,{pending:!0,data:a,method:n.method,action:r},r,a))}})))}function hm(e){function t(t){return mm(t,e)}null!==Zu&&mm(Zu,e),null!==em&&mm(em,e),null!==tm&&mm(tm,e),nm.forEach(t),rm.forEach(t);for(var n=0;n<am.length;n++){var r=am[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<am.length&&null===(n=am[0]).blockedOn;)om(n),null===n.blockedOn&&am.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],s=n[r+1],l=a[Ie]||null;if("function"===typeof s)l||fm(n);else if(l){var i=null;if(s&&s.hasAttribute("formAction")){if(a=s,l=s[Ie]||null)i=l.formAction;else if(null!==Ku(a))continue}else i=l.action;"function"===typeof i?n[r+1]=i:(n.splice(r,3),r-=3),fm(n)}}}function xm(e){this._internalRoot=e}function gm(e){this._internalRoot=e}gm.prototype.render=xm.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(l(409));Uu(t.current,Pc(),e,t,null,null)},gm.prototype.unmount=xm.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&td(),Uu(e.current,2,null,e,null,null),Mc(),t[Ue]=null}},gm.prototype.unstable_scheduleHydration=function(e){if(e){var t=De();e={blockedOn:null,target:e,priority:t};for(var n=0;n<am.length&&0!==t&&t<am[n].priority;n++);am.splice(n,0,e),0===n&&om(e)}};var bm=a.version;if("19.0.0"!==bm)throw Error(l(527,bm,"19.0.0"));q.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(l(188));throw e=Object.keys(e).join(","),Error(l(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=L(e)))throw Error(l(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(r=a.return)){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return I(a),e;if(s===r)return I(a),t;s=s.sibling}throw Error(l(188))}if(n.return!==r.return)n=a,r=s;else{for(var i=!1,o=a.child;o;){if(o===n){i=!0,n=a,r=s;break}if(o===r){i=!0,r=a,n=s;break}o=o.sibling}if(!i){for(o=s.child;o;){if(o===n){i=!0,n=s,r=a;break}if(o===r){i=!0,r=s,n=a;break}o=o.sibling}if(!i)throw Error(l(189))}}if(n.alternate!==r)throw Error(l(190))}if(3!==n.tag)throw Error(l(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?U(e):null)?null:e.stateNode};var ym={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:P,findFiberByHostInstance:Qe,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var vm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vm.isDisabled&&vm.supportsFiber)try{ge=vm.inject(ym),be=vm}catch(Nm){}}t.createRoot=function(e,t){if(!i(e))throw Error(l(299));var n=!1,r="",a=Rl,s=Fl,o=Dl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(o=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Mu(e,1,!1,null,0,n,r,a,s,o,0,null),e[Ue]=t.current,Ad(8===e.nodeType?e.parentNode:e),new xm(t)},t.hydrateRoot=function(e,t,n){if(!i(e))throw Error(l(299));var r=!1,a="",s=Rl,o=Fl,c=Dl,d=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(o=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(d=n.formState)),(t=Mu(e,1,!0,t,0,r,a,s,o,c,0,d)).context=Iu(null),n=t.current,(a=Pi(r=Pc())).callback=null,Oi(n,a,r),t.current.lanes=r,Ae(t,r),hd(t),e[Ue]=t.current,Ad(e),new gm(t)},t.version="19.0.0"},672:(e,t,n)=>{var r=n(43);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},i=Symbol.for("react.portal");var o=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:i,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=o.T,n=l.p;try{if(o.T=null,l.p=2,e)return e()}finally{o.T=t,l.p=n,l.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,l.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&l.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?l.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:s}):"script"===n&&l.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);l.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&l.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);l.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);l.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else l.d.m(e)},t.requestFormReset=function(e){l.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return o.H.useFormState(e,t,n)},t.useFormStatus=function(){return o.H.useHostTransitionStatus()},t.version="19.0.0"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(e,t,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:a,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=a,t.jsxs=a},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,x={};function g(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||f}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||f}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=g.prototype;var v=y.prototype=new b;v.constructor=y,h(v,g.prototype),v.isPureReactComponent=!0;var j=Array.isArray,N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function _(e,t,r,a,s,l){return r=l.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:l}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function E(){}function T(e,t,a,s,l){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o,c,d=!1;if(null===e)d=!0;else switch(i){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case n:case r:d=!0;break;case m:return T((d=e._init)(e._payload),t,a,s,l)}}if(d)return l=l(e),d=""===s?"."+C(e,0):s,j(l)?(a="",null!=d&&(a=d.replace(S,"$&/")+"/"),T(l,t,a,"",(function(e){return e}))):null!=l&&(k(l)&&(o=l,c=a+(null==l.key||e&&e.key===l.key?"":(""+l.key).replace(S,"$&/")+"/")+d,l=_(o.type,c,void 0,0,0,o.props)),t.push(l)),1;d=0;var u,f=""===s?".":s+":";if(j(e))for(var h=0;h<e.length;h++)d+=T(s=e[h],t,a,i=f+C(s,h),l);else if("function"===typeof(h=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=p&&u[p]||u["@@iterator"])?u:null))for(e=h.call(e),h=0;!(s=e.next()).done;)d+=T(s=s.value,t,a,i=f+C(s,h++),l);else if("object"===i){if("function"===typeof e.then)return T(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(E,E):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,s,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function P(e,t,n){if(null==e)return e;var r=[],a=0;return T(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function z(){}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=l,t.PureComponent=y,t.StrictMode=s,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=h({},e.props),a=e.key;if(null!=t)for(s in void 0!==t.ref&&void 0,void 0!==t.key&&(a=""+t.key),t)!w.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var l=Array(s),i=0;i<s;i++)l[i]=arguments[i+2];r.children=l}return _(e.type,a,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:i,_context:e},e},t.createElement=function(e,t,n){var r,a={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)w.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(a[r]=t[r]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var i=Array(l),o=0;o<l;o++)i[o]=arguments[o+2];a.children=i}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===a[r]&&(a[r]=l[r]);return _(e,s,void 0,0,0,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.T,n={};N.T=n;try{var r=e(),a=N.S;null!==a&&a(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(z,A)}catch(s){A(s)}finally{N.T=t}},t.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},t.use=function(e){return N.H.use(e)},t.useActionState=function(e,t,n){return N.H.useActionState(e,t,n)},t.useCallback=function(e,t){return N.H.useCallback(e,t)},t.useContext=function(e){return N.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return N.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return N.H.useEffect(e,t)},t.useId=function(){return N.H.useId()},t.useImperativeHandle=function(e,t,n){return N.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.H.useMemo(e,t)},t.useOptimistic=function(e,t){return N.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return N.H.useReducer(e,t,n)},t.useRef=function(e){return N.H.useRef(e)},t.useState=function(e){return N.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.H.useTransition()},t.version="19.0.0"},43:(e,t,n)=>{e.exports=n(288)},579:(e,t,n)=>{e.exports=n(799)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,l=a>>>1;r<l;){var i=2*(r+1)-1,o=e[i],c=i+1,d=e[c];if(0>s(o,n))c<a&&0>s(d,o)?(e[r]=d,e[c]=n,r=c):(e[r]=o,e[i]=n,r=i);else{if(!(c<a&&0>s(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,m=null,p=3,f=!1,h=!1,x=!1,g="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=r(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function j(e){if(x=!1,v(e),!h)if(null!==r(c))h=!0,O();else{var t=r(d);null!==t&&A(j,t.startTime-e)}}var N,w=!1,_=-1,k=5,S=-1;function C(){return!(t.unstable_now()-S<k)}function E(){if(w){var e=t.unstable_now();S=e;var n=!0;try{e:{h=!1,x&&(x=!1,b(_),_=-1),f=!0;var s=p;try{t:{for(v(e),m=r(c);null!==m&&!(m.expirationTime>e&&C());){var l=m.callback;if("function"===typeof l){m.callback=null,p=m.priorityLevel;var i=l(m.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof i){m.callback=i,v(e),n=!0;break t}m===r(c)&&a(c),v(e)}else a(c);m=r(c)}if(null!==m)n=!0;else{var o=r(d);null!==o&&A(j,o.startTime-e),n=!1}}break e}finally{m=null,p=s,f=!1}n=void 0}}finally{n?N():w=!1}}}if("function"===typeof y)N=function(){y(E)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,P=T.port2;T.port1.onmessage=E,N=function(){P.postMessage(null)}}else N=function(){g(E,0)};function O(){w||(w=!0,N())}function A(e,n){_=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){h||f||(h=!0,O())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,a,s){var l=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?l+s:l:s=l,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:s,expirationTime:i=s+i,sortIndex:-1},s>l?(e.sortIndex=s,n(d,e),null===r(c)&&e===r(d)&&(x?(b(_),_=-1):x=!0,A(j,s-l))):(e.sortIndex=i,n(c,e),h||f||(h=!0,O())),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},853:(e,t,n)=>{e.exports=n(896)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>pe,hasStandardBrowserEnv:()=>he,hasStandardBrowserWebWorkerEnv:()=>xe,navigator:()=>fe,origin:()=>ge});var a=n(43),s=n(391);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function i(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}function o(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){return function(){return e.apply(t,arguments)}}const{toString:m}=Object.prototype,{getPrototypeOf:p}=Object,f=(h=Object.create(null),e=>{const t=m.call(e);return h[t]||(h[t]=t.slice(8,-1).toLowerCase())});var h;const x=e=>(e=e.toLowerCase(),t=>f(t)===e),g=e=>t=>typeof t===e,{isArray:b}=Array,y=g("undefined");const v=x("ArrayBuffer");const j=g("string"),N=g("function"),w=g("number"),_=e=>null!==e&&"object"===typeof e,k=e=>{if("object"!==f(e))return!1;const t=p(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},S=x("Date"),C=x("File"),E=x("Blob"),T=x("FileList"),P=x("URLSearchParams"),[O,A,z,R]=["ReadableStream","Request","Response","Headers"].map(x);function F(e,t){let n,r,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),b(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=a?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let l;for(n=0;n<s;n++)l=r[n],t.call(null,e[l],l,e)}}function D(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,a=n.length;for(;a-- >0;)if(r=n[a],t===r.toLowerCase())return r;return null}const L="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,M=e=>!y(e)&&e!==L;const I=(U="undefined"!==typeof Uint8Array&&p(Uint8Array),e=>U&&e instanceof U);var U;const B=x("HTMLFormElement"),q=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),$=x("RegExp"),H=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};F(n,((n,a)=>{let s;!1!==(s=t(n,a,e))&&(r[a]=s||n)})),Object.defineProperties(e,r)};const W=x("AsyncFunction"),V=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],L.addEventListener("message",(e=>{let{source:t,data:a}=e;t===L&&a===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),L.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,N(L.postMessage)),Q="undefined"!==typeof queueMicrotask?queueMicrotask.bind(L):"undefined"!==typeof process&&process.nextTick||V,G={isArray:b,isArrayBuffer:v,isBuffer:function(e){return null!==e&&!y(e)&&null!==e.constructor&&!y(e.constructor)&&N(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||N(e.append)&&("formdata"===(t=f(e))||"object"===t&&N(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&v(e.buffer),t},isString:j,isNumber:w,isBoolean:e=>!0===e||!1===e,isObject:_,isPlainObject:k,isReadableStream:O,isRequest:A,isResponse:z,isHeaders:R,isUndefined:y,isDate:S,isFile:C,isBlob:E,isRegExp:$,isFunction:N,isStream:e=>_(e)&&N(e.pipe),isURLSearchParams:P,isTypedArray:I,isFileList:T,forEach:F,merge:function e(){const{caseless:t}=M(this)&&this||{},n={},r=(r,a)=>{const s=t&&D(n,a)||a;k(n[s])&&k(r)?n[s]=e(n[s],r):k(r)?n[s]=e({},r):b(r)?n[s]=r.slice():n[s]=r};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&F(arguments[a],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return F(t,((t,r)=>{n&&N(t)?e[r]=u(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let a,s,l;const i={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)l=a[s],r&&!r(l,e,t)||i[l]||(t[l]=e[l],i[l]=!0);e=!1!==n&&p(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:f,kindOfTest:x,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(b(e))return e;let t=e.length;if(!w(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:B,hasOwnProperty:q,hasOwnProp:q,reduceDescriptors:H,freezeMethods:e=>{H(e,((t,n)=>{if(N(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];N(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return b(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:D,global:L,isContextDefined:M,isSpecCompliantForm:function(e){return!!(e&&N(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(_(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const a=b(e)?[]:{};return F(e,((e,t)=>{const s=n(e,r+1);!y(s)&&(a[t]=s)})),t[r]=void 0,a}}return e};return n(e,0)},isAsyncFn:W,isThenable:e=>e&&(_(e)||N(e))&&N(e.then)&&N(e.catch),setImmediate:V,asap:Q};function Y(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}G.inherits(Y,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}});const K=Y.prototype,X={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{X[e]={value:e}})),Object.defineProperties(Y,X),Object.defineProperty(K,"isAxiosError",{value:!0}),Y.from=(e,t,n,r,a,s)=>{const l=Object.create(K);return G.toFlatObject(e,l,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Y.call(l,e.message,t,n,r,a),l.cause=e,l.name=e.name,s&&Object.assign(l,s),l};const J=Y;function Z(e){return G.isPlainObject(e)||G.isArray(e)}function ee(e){return G.endsWith(e,"[]")?e.slice(0,-2):e}function te(e,t,n){return e?e.concat(t).map((function(e,t){return e=ee(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const ne=G.toFlatObject(G,{},null,(function(e){return/^is[A-Z]/.test(e)}));const re=function(e,t,n){if(!G.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=G.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!G.isUndefined(t[e])}))).metaTokens,a=n.visitor||c,s=n.dots,l=n.indexes,i=(n.Blob||"undefined"!==typeof Blob&&Blob)&&G.isSpecCompliantForm(t);if(!G.isFunction(a))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(G.isDate(e))return e.toISOString();if(!i&&G.isBlob(e))throw new J("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(e)||G.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,a){let i=e;if(e&&!a&&"object"===typeof e)if(G.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(G.isArray(e)&&function(e){return G.isArray(e)&&!e.some(Z)}(e)||(G.isFileList(e)||G.endsWith(n,"[]"))&&(i=G.toArray(e)))return n=ee(n),i.forEach((function(e,r){!G.isUndefined(e)&&null!==e&&t.append(!0===l?te([n],r,s):null===l?n:n+"[]",o(e))})),!1;return!!Z(e)||(t.append(te(a,n,s),o(e)),!1)}const d=[],u=Object.assign(ne,{defaultVisitor:c,convertValue:o,isVisitable:Z});if(!G.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!G.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),G.forEach(n,(function(n,s){!0===(!(G.isUndefined(n)||null===n)&&a.call(t,n,G.isString(s)?s.trim():s,r,u))&&e(n,r?r.concat(s):[s])})),d.pop()}}(e),t};function ae(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function se(e,t){this._pairs=[],e&&re(e,this,t)}const le=se.prototype;le.append=function(e,t){this._pairs.push([e,t])},le.toString=function(e){const t=e?function(t){return e.call(this,t,ae)}:ae;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const ie=se;function oe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ce(e,t,n){if(!t)return e;const r=n&&n.encode||oe;G.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let s;if(s=a?a(t,n):G.isURLSearchParams(t)?t.toString():new ie(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const de=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){G.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ue={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},me={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:ie,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},pe="undefined"!==typeof window&&"undefined"!==typeof document,fe="object"===typeof navigator&&navigator||void 0,he=pe&&(!fe||["ReactNative","NativeScript","NS"].indexOf(fe.product)<0),xe="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,ge=pe&&window.location.href||"http://localhost",be=d(d({},r),me);const ye=function(e){function t(e,n,r,a){let s=e[a++];if("__proto__"===s)return!0;const l=Number.isFinite(+s),i=a>=e.length;if(s=!s&&G.isArray(r)?r.length:s,i)return G.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!l;r[s]&&G.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],a)&&G.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const a=n.length;let s;for(r=0;r<a;r++)s=n[r],t[s]=e[s];return t}(r[s])),!l}if(G.isFormData(e)&&G.isFunction(e.entries)){const n={};return G.forEachEntry(e,((e,r)=>{t(function(e){return G.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const ve={transitional:ue,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,a=G.isObject(e);a&&G.isHTMLForm(e)&&(e=new FormData(e));if(G.isFormData(e))return r?JSON.stringify(ye(e)):e;if(G.isArrayBuffer(e)||G.isBuffer(e)||G.isStream(e)||G.isFile(e)||G.isBlob(e)||G.isReadableStream(e))return e;if(G.isArrayBufferView(e))return e.buffer;if(G.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return re(e,new be.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return be.isNode&&G.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=G.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return re(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),function(e,t,n){if(G.isString(e))try{return(t||JSON.parse)(e),G.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ve.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(G.isResponse(e)||G.isReadableStream(e))return e;if(e&&G.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(n){if("SyntaxError"===a.name)throw J.from(a,J.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:be.classes.FormData,Blob:be.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],(e=>{ve.headers[e]={}}));const je=ve,Ne=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),we=Symbol("internals");function _e(e){return e&&String(e).trim().toLowerCase()}function ke(e){return!1===e||null==e?e:G.isArray(e)?e.map(ke):String(e)}function Se(e,t,n,r,a){return G.isFunction(r)?r.call(this,t,n):(a&&(t=n),G.isString(t)?G.isString(r)?-1!==t.indexOf(r):G.isRegExp(r)?r.test(t):void 0:void 0)}class Ce{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function a(e,t,n){const a=_e(t);if(!a)throw new Error("header name must be a non-empty string");const s=G.findKey(r,a);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=ke(e))}const s=(e,t)=>G.forEach(e,((e,n)=>a(e,n,t)));if(G.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(G.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,r,a;return e&&e.split("\n").forEach((function(e){a=e.indexOf(":"),n=e.substring(0,a).trim().toLowerCase(),r=e.substring(a+1).trim(),!n||t[n]&&Ne[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(G.isHeaders(e))for(const[l,i]of e.entries())a(i,l,n);else null!=e&&a(t,e,n);return this}get(e,t){if(e=_e(e)){const n=G.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(G.isFunction(t))return t.call(this,e,n);if(G.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=_e(e)){const n=G.findKey(this,e);return!(!n||void 0===this[n]||t&&!Se(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function a(e){if(e=_e(e)){const a=G.findKey(n,e);!a||t&&!Se(0,n[a],a,t)||(delete n[a],r=!0)}}return G.isArray(e)?e.forEach(a):a(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const a=t[n];e&&!Se(0,this[a],a,e,!0)||(delete this[a],r=!0)}return r}normalize(e){const t=this,n={};return G.forEach(this,((r,a)=>{const s=G.findKey(n,a);if(s)return t[s]=ke(r),void delete t[a];const l=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(a):String(a).trim();l!==a&&delete t[a],t[l]=ke(r),n[l]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return G.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&G.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[we]=this[we]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=_e(e);t[r]||(!function(e,t){const n=G.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,a){return this[r].call(this,t,e,n,a)},configurable:!0})}))}(n,e),t[r]=!0)}return G.isArray(e)?e.forEach(r):r(e),this}}Ce.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),G.reduceDescriptors(Ce.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),G.freezeMethods(Ce);const Ee=Ce;function Te(e,t){const n=this||je,r=t||n,a=Ee.from(r.headers);let s=r.data;return G.forEach(e,(function(e){s=e.call(n,s,a.normalize(),t?t.status:void 0)})),a.normalize(),s}function Pe(e){return!(!e||!e.__CANCEL__)}function Oe(e,t,n){J.call(this,null==e?"canceled":e,J.ERR_CANCELED,t,n),this.name="CanceledError"}G.inherits(Oe,J,{__CANCEL__:!0});const Ae=Oe;function ze(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new J("Request failed with status code "+n.status,[J.ERR_BAD_REQUEST,J.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Re=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a,s=0,l=0;return t=void 0!==t?t:1e3,function(i){const o=Date.now(),c=r[l];a||(a=o),n[s]=i,r[s]=o;let d=l,u=0;for(;d!==s;)u+=n[d++],d%=e;if(s=(s+1)%e,s===l&&(l=(l+1)%e),o-a<t)return;const m=c&&o-c;return m?Math.round(1e3*u/m):void 0}};const Fe=function(e,t){let n,r,a=0,s=1e3/t;const l=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=s,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-a;for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];t>=s?l(o,e):(n=o,r||(r=setTimeout((()=>{r=null,l(n)}),s-t)))},()=>n&&l(n)]},De=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const a=Re(50,250);return Fe((n=>{const s=n.loaded,l=n.lengthComputable?n.total:void 0,i=s-r,o=a(i);r=s;e({loaded:s,total:l,progress:l?s/l:void 0,bytes:i,rate:o||void 0,estimated:o&&l&&s<=l?(l-s)/o:void 0,event:n,lengthComputable:null!=l,[t?"download":"upload"]:!0})}),n)},Le=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Me=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return G.asap((()=>e(...n)))},Ie=be.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,be.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(be.origin),be.navigator&&/(msie|trident)/i.test(be.navigator.userAgent)):()=>!0,Ue=be.hasStandardBrowserEnv?{write(e,t,n,r,a,s){const l=[e+"="+encodeURIComponent(t)];G.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),G.isString(r)&&l.push("path="+r),G.isString(a)&&l.push("domain="+a),!0===s&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Be(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const qe=e=>e instanceof Ee?d({},e):e;function $e(e,t){t=t||{};const n={};function r(e,t,n,r){return G.isPlainObject(e)&&G.isPlainObject(t)?G.merge.call({caseless:r},e,t):G.isPlainObject(t)?G.merge({},t):G.isArray(t)?t.slice():t}function a(e,t,n,a){return G.isUndefined(t)?G.isUndefined(e)?void 0:r(void 0,e,0,a):r(e,t,0,a)}function s(e,t){if(!G.isUndefined(t))return r(void 0,t)}function l(e,t){return G.isUndefined(t)?G.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function i(n,a,s){return s in t?r(n,a):s in e?r(void 0,n):void 0}const o={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:i,headers:(e,t,n)=>a(qe(e),qe(t),0,!0)};return G.forEach(Object.keys(Object.assign({},e,t)),(function(r){const s=o[r]||a,l=s(e[r],t[r],r);G.isUndefined(l)&&s!==i||(n[r]=l)})),n}const He=e=>{const t=$e({},e);let n,{data:r,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:l,headers:i,auth:o}=t;if(t.headers=i=Ee.from(i),t.url=ce(Be(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),G.isFormData(r))if(be.hasStandardBrowserEnv||be.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(!1!==(n=i.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}if(be.hasStandardBrowserEnv&&(a&&G.isFunction(a)&&(a=a(t)),a||!1!==a&&Ie(t.url))){const e=s&&l&&Ue.read(l);e&&i.set(s,e)}return t},We="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=He(e);let a=r.data;const s=Ee.from(r.headers).normalize();let l,i,o,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:p}=r;function f(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(l),r.signal&&r.signal.removeEventListener("abort",l)}let h=new XMLHttpRequest;function x(){if(!h)return;const r=Ee.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders());ze((function(e){t(e),f()}),(function(e){n(e),f()}),{data:u&&"text"!==u&&"json"!==u?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:r,config:e,request:h}),h=null}h.open(r.method.toUpperCase(),r.url,!0),h.timeout=r.timeout,"onloadend"in h?h.onloadend=x:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(x)},h.onabort=function(){h&&(n(new J("Request aborted",J.ECONNABORTED,e,h)),h=null)},h.onerror=function(){n(new J("Network Error",J.ERR_NETWORK,e,h)),h=null},h.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const a=r.transitional||ue;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new J(t,a.clarifyTimeoutError?J.ETIMEDOUT:J.ECONNABORTED,e,h)),h=null},void 0===a&&s.setContentType(null),"setRequestHeader"in h&&G.forEach(s.toJSON(),(function(e,t){h.setRequestHeader(t,e)})),G.isUndefined(r.withCredentials)||(h.withCredentials=!!r.withCredentials),u&&"json"!==u&&(h.responseType=r.responseType),p&&([o,d]=De(p,!0),h.addEventListener("progress",o)),m&&h.upload&&([i,c]=De(m),h.upload.addEventListener("progress",i),h.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(l=t=>{h&&(n(!t||t.type?new Ae(null,e,h):t),h.abort(),h=null)},r.cancelToken&&r.cancelToken.subscribe(l),r.signal&&(r.signal.aborted?l():r.signal.addEventListener("abort",l)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);g&&-1===be.protocols.indexOf(g)?n(new J("Unsupported protocol "+g+":",J.ERR_BAD_REQUEST,e)):h.send(a||null)}))},Ve=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const a=function(e){if(!n){n=!0,l();const t=e instanceof Error?e:this.reason;r.abort(t instanceof J?t:new Ae(t instanceof Error?t.message:t))}};let s=t&&setTimeout((()=>{s=null,a(new J("timeout ".concat(t," of ms exceeded"),J.ETIMEDOUT))}),t);const l=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)})),e=null)};e.forEach((e=>e.addEventListener("abort",a)));const{signal:i}=r;return i.unsubscribe=()=>G.asap(l),i}};function Qe(e,t){this.v=e,this.k=t}function Ge(e){return function(){return new Ye(e.apply(this,arguments))}}function Ye(e){var t,n;function r(t,n){try{var s=e[t](n),l=s.value,i=l instanceof Qe;Promise.resolve(i?l.v:l).then((function(n){if(i){var o="return"===t?"return":"next";if(!l.k||n.done)return r(o,n);n=e[o](n).value}a(s.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,a){return new Promise((function(s,l){var i={key:e,arg:a,resolve:s,reject:l,next:null};n?n=n.next=i:(t=n=i,r(e,a))}))},"function"!=typeof e.return&&(this.return=void 0)}function Ke(e){return new Qe(e,0)}function Xe(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise((function(n){n(e[t](r))})),{done:!1,value:new Qe(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function Je(e){var t,n,r,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Ze(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Ze(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return Ze=function(e){this.s=e,this.n=e.next},Ze.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Ze(e)}Ye.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Ye.prototype.next=function(e){return this._invoke("next",e)},Ye.prototype.throw=function(e){return this._invoke("throw",e)},Ye.prototype.return=function(e){return this._invoke("return",e)};const et=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,a=0;for(;a<n;)r=a+t,yield e.slice(a,r),a=r},tt=function(){var e=Ge((function*(e,t){var n,r=!1,a=!1;try{for(var s,l=Je(nt(e));r=!(s=yield Ke(l.next())).done;r=!1){const e=s.value;yield*Xe(Je(et(e,t)))}}catch(i){a=!0,n=i}finally{try{r&&null!=l.return&&(yield Ke(l.return()))}finally{if(a)throw n}}}));return function(t,n){return e.apply(this,arguments)}}(),nt=function(){var e=Ge((function*(e){if(e[Symbol.asyncIterator])return void(yield*Xe(Je(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Ke(t.read());if(e)break;yield n}}finally{yield Ke(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),rt=(e,t,n,r)=>{const a=tt(e,t);let s,l=0,i=e=>{s||(s=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await a.next();if(t)return i(),void e.close();let s=r.byteLength;if(n){let e=l+=s;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw i(t),t}},cancel:e=>(i(e),a.return())},{highWaterMark:2})},at="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,st=at&&"function"===typeof ReadableStream,lt=at&&("function"===typeof TextEncoder?(it=new TextEncoder,e=>it.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var it;const ot=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(a){return!1}},ct=st&&ot((()=>{let e=!1;const t=new Request(be.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),dt=st&&ot((()=>G.isReadableStream(new Response("").body))),ut={stream:dt&&(e=>e.body)};var mt;at&&(mt=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!ut[e]&&(ut[e]=G.isFunction(mt[e])?t=>t[e]():(t,n)=>{throw new J("Response type '".concat(e,"' is not supported"),J.ERR_NOT_SUPPORT,n)})})));const pt=async(e,t)=>{const n=G.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(G.isBlob(e))return e.size;if(G.isSpecCompliantForm(e)){const t=new Request(be.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return G.isArrayBufferView(e)||G.isArrayBuffer(e)?e.byteLength:(G.isURLSearchParams(e)&&(e+=""),G.isString(e)?(await lt(e)).byteLength:void 0)})(t):n},ft={http:null,xhr:We,fetch:at&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:s,timeout:l,onDownloadProgress:i,onUploadProgress:o,responseType:c,headers:u,withCredentials:m="same-origin",fetchOptions:p}=He(e);c=c?(c+"").toLowerCase():"text";let f,h=Ve([a,s&&s.toAbortSignal()],l);const x=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let g;try{if(o&&ct&&"get"!==n&&"head"!==n&&0!==(g=await pt(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(G.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=Le(g,De(Me(o)));r=rt(n.body,65536,e,t)}}G.isString(m)||(m=m?"include":"omit");const a="credentials"in Request.prototype;f=new Request(t,d(d({},p),{},{signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:a?m:void 0}));let s=await fetch(f);const l=dt&&("stream"===c||"response"===c);if(dt&&(i||l&&x)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=s[t]}));const t=G.toFiniteNumber(s.headers.get("content-length")),[n,r]=i&&Le(t,De(Me(i),!0))||[];s=new Response(rt(s.body,65536,n,(()=>{r&&r(),x&&x()})),e)}c=c||"text";let b=await ut[G.findKey(ut,c)||"text"](s,e);return!l&&x&&x(),await new Promise(((t,n)=>{ze(t,n,{data:b,headers:Ee.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:f})}))}catch(b){if(x&&x(),b&&"TypeError"===b.name&&/fetch/i.test(b.message))throw Object.assign(new J("Network Error",J.ERR_NETWORK,e,f),{cause:b.cause||b});throw J.from(b,b&&b.code,e,f)}})};G.forEach(ft,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const ht=e=>"- ".concat(e),xt=e=>G.isFunction(e)||null===e||!1===e,gt=e=>{e=G.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let s=0;s<t;s++){let t;if(n=e[s],r=n,!xt(n)&&(r=ft[(t=String(n)).toLowerCase()],void 0===r))throw new J("Unknown adapter '".concat(t,"'"));if(r)break;a[t||"#"+s]=r}if(!r){const e=Object.entries(a).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(ht).join("\n"):" "+ht(e[0]):"as no adapter specified";throw new J("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function bt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ae(null,e)}function yt(e){bt(e),e.headers=Ee.from(e.headers),e.data=Te.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return gt(e.adapter||je.adapter)(e).then((function(t){return bt(e),t.data=Te.call(e,e.transformResponse,t),t.headers=Ee.from(t.headers),t}),(function(t){return Pe(t)||(bt(e),t&&t.response&&(t.response.data=Te.call(e,e.transformResponse,t.response),t.response.headers=Ee.from(t.response.headers))),Promise.reject(t)}))}const vt="1.8.4",jt={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{jt[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Nt={};jt.transitional=function(e,t,n){function r(e,t){return"[Axios v1.8.4] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,a,s)=>{if(!1===e)throw new J(r(a," has been removed"+(t?" in "+t:"")),J.ERR_DEPRECATED);return t&&!Nt[a]&&(Nt[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,s)}},jt.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const wt={assertOptions:function(e,t,n){if("object"!==typeof e)throw new J("options must be an object",J.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const s=r[a],l=t[s];if(l){const t=e[s],n=void 0===t||l(t,s,e);if(!0!==n)throw new J("option "+s+" must be "+n,J.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new J("Unknown option "+s,J.ERR_BAD_OPTION)}},validators:jt},_t=wt.validators;class kt{constructor(e){this.defaults=e,this.interceptors={request:new de,response:new de}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(r){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=$e(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:a}=t;void 0!==n&&wt.assertOptions(n,{silentJSONParsing:_t.transitional(_t.boolean),forcedJSONParsing:_t.transitional(_t.boolean),clarifyTimeoutError:_t.transitional(_t.boolean)},!1),null!=r&&(G.isFunction(r)?t.paramsSerializer={serialize:r}:wt.assertOptions(r,{encode:_t.function,serialize:_t.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),wt.assertOptions(t,{baseUrl:_t.spelling("baseURL"),withXsrfToken:_t.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&G.merge(a.common,a[t.method]);a&&G.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete a[e]})),t.headers=Ee.concat(s,a);const l=[];let i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,l.unshift(e.fulfilled,e.rejected))}));const o=[];let c;this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)}));let d,u=0;if(!i){const e=[yt.bind(this),void 0];for(e.unshift.apply(e,l),e.push.apply(e,o),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=l.length;let m=t;for(u=0;u<d;){const e=l[u++],t=l[u++];try{m=e(m)}catch(p){t.call(this,p);break}}try{c=yt.call(this,m)}catch(p){return Promise.reject(p)}for(u=0,d=o.length;u<d;)c=c.then(o[u++],o[u++]);return c}getUri(e){return ce(Be((e=$e(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}G.forEach(["delete","get","head","options"],(function(e){kt.prototype[e]=function(t,n){return this.request($e(n||{},{method:e,url:t,data:(n||{}).data}))}})),G.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,a){return this.request($e(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}kt.prototype[e]=t(),kt.prototype[e+"Form"]=t(!0)}));const St=kt;class Ct{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,a){n.reason||(n.reason=new Ae(e,r,a),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Ct((function(t){e=t})),cancel:e}}}const Et=Ct;const Tt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Tt).forEach((e=>{let[t,n]=e;Tt[n]=t}));const Pt=Tt;const Ot=function e(t){const n=new St(t),r=u(St.prototype.request,n);return G.extend(r,St.prototype,n,{allOwnKeys:!0}),G.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e($e(t,n))},r}(je);Ot.Axios=St,Ot.CanceledError=Ae,Ot.CancelToken=Et,Ot.isCancel=Pe,Ot.VERSION=vt,Ot.toFormData=re,Ot.AxiosError=J,Ot.Cancel=Ot.CanceledError,Ot.all=function(e){return Promise.all(e)},Ot.spread=function(e){return function(t){return e.apply(null,t)}},Ot.isAxiosError=function(e){return G.isObject(e)&&!0===e.isAxiosError},Ot.mergeConfig=$e,Ot.AxiosHeaders=Ee,Ot.formToJSON=e=>ye(G.isHTMLForm(e)?new FormData(e):e),Ot.getAdapter=gt,Ot.HttpStatusCode=Pt,Ot.default=Ot;const At=Ot,zt=()=>{const[e,t]=(0,a.useState)(null),[n,r]=(0,a.useState)("Disconnected"),[s,l]=(0,a.useState)(!1),i="El Meson Restaurant",o="3517 Broadway",c="929-321-9679",d=()=>new Uint8Array([27,64]),u=e=>(new TextEncoder).encode(e),m=function(){return new Uint8Array([10].repeat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1))},p=()=>new Uint8Array([27,97,1]),f=()=>new Uint8Array([27,97,0]),h=()=>new Uint8Array([27,69,1]),x=()=>new Uint8Array([27,69,0]),g=()=>new Uint8Array([29,86,65]),b=()=>new Uint8Array([27,33,16]),y=()=>new Uint8Array([27,33,0]),v=async()=>{if(!navigator.usb)return r("WebUSB not supported in this browser. Please use Chrome or Edge."),!1;l(!0);try{let a;const s=(await navigator.usb.getDevices()).find((e=>1305===e.vendorId&&(3===e.productId||1===e.productId)));if(s){if(console.log("Found existing authorized Star device"),a=s,a.opened){console.log("Device already open, closing...");try{await a.close(),await new Promise((e=>setTimeout(e,1e3)))}catch(e){console.warn("Error closing device:",e)}}}else console.log("Requesting new device authorization"),a=await navigator.usb.requestDevice({filters:[{vendorId:1305},{vendorId:1305,productId:3},{vendorId:1305,productId:1}]});console.log("Opening device..."),await a.open(),console.log("Selecting configuration..."),null===a.configuration&&await a.selectConfiguration(1),console.log("Claiming interface..."),await a.claimInterface(0),t(a),r("Connected to Star TSP III");try{await a.transferOut(1,new Uint8Array([27,64])),console.log("Connection test successful")}catch(n){console.warn("Connection test failed, but device seems connected:",n)}return!0}catch(a){console.error("Printer connection error:",a);let e="Connection failed: ";return"NotFoundError"===a.name?e+="No printer selected. Please try again.":"SecurityError"===a.name||a.message.includes("Access denied")?e+="USB Access denied. Try this: 1) Disconnect USB cable 2) Close other printer apps 3) Reconnect USB cable 4) Click Connect again":"NetworkError"===a.name?e+="Device communication error. Disconnect and reconnect USB cable.":"InvalidStateError"===a.name?e+="Device in use. Close other apps using the printer and try again.":e+=a.message||"Unknown error",r(e),!1}finally{l(!1)}},j=async()=>{if(e)try{console.log("Disconnecting printer..."),await e.close(),t(null),r("Disconnected")}catch(n){console.error("Error disconnecting printer:",n),t(null),r("Disconnected (forced)")}},N=async t=>{if(!e)throw new Error("Printer not connected");try{const n=t.flat(),r=new Uint8Array(n);await e.transferOut(1,r)}catch(n){throw console.error("Print command error:",n),n}},w=e=>"$".concat(parseFloat(e).toFixed(2)),_=e=>{const t=new Date(e);return{date:t.toLocaleDateString("en-US"),time:t.toLocaleTimeString("en-US",{hour12:!0})}},k=async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dine_in";if(!e){if(!await v())return void alert("Please connect the printer first")}r("Printing...");try{"delivery"===n||"delivery"===t.order_type?await(async e=>{var t;const{date:n,time:r}=_(e.created_at||new Date),a=[d(),p(),h(),b(),u("".concat(i,"\n")),y(),x(),u("".concat(o,"\n")),u("Phone: ".concat(c,"\n")),m(1),f(),u("================================\n"),u("Order #: ".concat(e.order_number||"N/A","\n")),u("Date: ".concat(n,"\n")),u("Time: ".concat(r,"\n")),u("Type: DELIVERY\n"),u("================================\n"),m(1),h(),u("CUSTOMER INFORMATION:\n"),x(),u("Name: ".concat(e.customer_name||"N/A","\n")),u("Phone: ".concat(e.customer_phone||"N/A","\n")),u("Address: ".concat(e.customer_address||"N/A","\n")),m(1),u("================================\n"),m(1),...(e.items||[]).flatMap((e=>[u("".concat(e.menu_item_name||e.name,"\n")),u("  Qty: ".concat(e.quantity," x ").concat(w(e.base_price||e.price),"\n")),...(e.modifiers||[]).flatMap((e=>[u("    + ".concat(e.name," ").concat(w(e.price),"\n"))])),u("  Total: ".concat(w(e.total_price||e.quantity*e.price),"\n")),m(1)])),u("================================\n"),u("Subtotal: ".concat(w(e.subtotal||e.total||0),"\n")),u("Tax: ".concat(w(e.tax||0),"\n")),h(),u("TOTAL: ".concat(w(e.total||0),"\n")),x(),m(1),h(),u("PAYMENT INFORMATION:\n"),x(),u("Method: ".concat((null===(t=e.payment_method)||void 0===t?void 0:t.toUpperCase())||"N/A","\n")),...e.change_amount?[u("Change: ".concat(w(e.change_amount),"\n"))]:[],m(1),p(),u("Thank you for your order!\n"),m(4),g()];await N(a)})(t):await(async e=>{var t;const{date:n,time:r}=_(e.created_at||new Date),a=[d(),p(),h(),b(),u("".concat(i,"\n")),y(),x(),u("".concat(o,"\n")),u("Phone: ".concat(c,"\n")),m(1),f(),u("================================\n"),u("Order #: ".concat(e.order_number||"N/A","\n")),u("Date: ".concat(n,"\n")),u("Time: ".concat(r,"\n")),u("Type: ".concat((null===(t=e.order_type)||void 0===t?void 0:t.replace("_"," ").toUpperCase())||"DINE IN","\n")),...e.table_number?[u("Table: ".concat(e.table_number,"\n"))]:[],u("================================\n"),m(1),...(e.items||[]).flatMap((e=>[u("".concat(e.menu_item_name||e.name,"\n")),u("  Qty: ".concat(e.quantity," x ").concat(w(e.base_price||e.price),"\n")),...(e.modifiers||[]).flatMap((e=>[u("    + ".concat(e.name," ").concat(w(e.price),"\n"))])),u("  Total: ".concat(w(e.total_price||e.quantity*e.price),"\n")),m(1)])),u("================================\n"),u("Subtotal: ".concat(w(e.subtotal||e.total||0),"\n")),u("Tax: ".concat(w(e.tax||0),"\n")),h(),u("TOTAL: ".concat(w(e.total||0),"\n")),x(),m(1),...e.payment_method?[u("Payment: ".concat(e.payment_method.toUpperCase(),"\n")),...e.change_amount?[u("Change: ".concat(w(e.change_amount),"\n"))]:[]]:[],m(1),p(),u("Thank you for dining with us!\n"),m(4),g()];await N(a)})(t),r("Print completed successfully"),setTimeout((()=>{r(e?"Connected to Star TSP III":"Disconnected")}),3e3)}catch(a){console.error("Print error:",a),r("Print failed: ".concat(a.message)),setTimeout((()=>{r(e?"Connected to Star TSP III":"Disconnected")}),5e3)}};return{printer:e,status:n,isConnecting:s,requestPrinter:v,disconnectPrinter:j,reconnectPrinter:async()=>(await j(),await new Promise((e=>setTimeout(e,1e3))),await v()),printReceipt:k,testPrint:async()=>{const e={order_number:"TEST001",created_at:new Date,order_type:"dine_in",table_number:5,items:[{menu_item_name:"Chicken Burrito",quantity:1,base_price:12.99,total_price:12.99,modifiers:[]},{menu_item_name:"Beef Tacos",quantity:2,base_price:8.5,total_price:17,modifiers:[{name:"Extra Cheese",price:1.5}]}],subtotal:29.99,tax:2.4,total:32.39,payment_method:"cash",change_amount:7.61};await k(e,"dine_in")},connected:!!e}},Rt=()=>{const[e,t]=(0,a.useState)("Ready"),[n,r]=(0,a.useState)(!1),s="El Meson Restaurant",l="3517 Broadway",i="929-321-9679",o=async()=>{try{return(await fetch("http://localhost:8001/StarWebPRNT/GetPortInfo")).ok}catch(e){return!1}},c=async e=>{r(!0),t("Checking printer...");try{if(!await o())throw new Error("Star WebPRNT Browser not running. Please start it first.");t("Building receipt...");const n=(e=>{const t=[];if(t.push("<initialize/>"),t.push('<alignment position="center"/>'),t.push('<text emphasis="true" size="large">'),t.push("".concat(s,"\n")),t.push("</text>"),t.push("<text>".concat(l,"\n</text>")),t.push("<text>Phone: ".concat(i,"\n\n</text>")),t.push('<alignment position="left"/>'),t.push("<text>--------------------------------\n</text>"),e.order_number&&t.push("<text>Order #: ".concat(e.order_number,"\n</text>")),e.created_at){const n=new Date(e.created_at);t.push("<text>Date: ".concat(n.toLocaleDateString(),"\n</text>")),t.push("<text>Time: ".concat(n.toLocaleTimeString(),"\n</text>"))}return e.order_type&&t.push("<text>Type: ".concat(e.order_type.replace("_"," ").toUpperCase(),"\n</text>")),e.table_number&&t.push("<text>Table: ".concat(e.table_number,"\n</text>")),t.push("<text>--------------------------------\n\n</text>"),"delivery"===e.order_type&&e.customer_name&&(t.push('<text emphasis="true">CUSTOMER INFORMATION:\n</text>'),t.push("<text>Name: ".concat(e.customer_name,"\n</text>")),e.customer_phone&&t.push("<text>Phone: ".concat(e.customer_phone,"\n</text>")),e.customer_address&&t.push("<text>Address: ".concat(e.customer_address,"\n</text>")),t.push("<text>--------------------------------\n\n</text>")),e.items&&e.items.length>0&&e.items.forEach((e=>{const n=e.menu_item_name||e.name||"Item",r=e.quantity||1,a=e.total_price||e.price||0;t.push("<text>".concat(n,"\n</text>")),t.push("<text>  Qty: ".concat(r," x $").concat((a/r).toFixed(2),"\n</text>")),e.modifiers&&e.modifiers.length>0&&e.modifiers.forEach((e=>{t.push("<text>    + ".concat(e.name," $").concat(e.price.toFixed(2),"\n</text>"))})),t.push("<text>  Total: $".concat(a.toFixed(2),"\n\n</text>"))})),t.push("<text>--------------------------------\n</text>"),e.subtotal&&t.push("<text>Subtotal: $".concat(e.subtotal.toFixed(2),"\n</text>")),e.tax&&t.push("<text>Tax: $".concat(e.tax.toFixed(2),"\n</text>")),e.total&&(t.push('<text emphasis="true">'),t.push("TOTAL: $".concat(e.total.toFixed(2),"\n")),t.push("</text>")),e.payment_method&&(t.push('\n<text emphasis="true">PAYMENT INFORMATION:\n</text>'),t.push("<text>Method: ".concat(e.payment_method.toUpperCase(),"\n</text>")),e.change_amount&&e.change_amount>0&&t.push("<text>Change: $".concat(e.change_amount.toFixed(2),"\n</text>"))),t.push('\n<alignment position="center"/>'),t.push("<text>Thank you for your business!\n</text>"),t.push("\n\n\n"),t.push('<cut feed="true"/>'),t.join("")})(e);t("Printing...");const r=await fetch("http://localhost:8001/StarWebPRNT/SendMessage",{method:"POST",headers:{"Content-Type":"text/plain"},body:n});if(!r.ok)throw new Error("Print failed: ".concat(r.statusText));const a=await r.text();console.log("Print result:",a),t("Print completed successfully"),setTimeout((()=>t("Ready")),3e3)}catch(n){console.error("Print error:",n),t("Print failed: ".concat(n.message)),setTimeout((()=>t("Ready")),5e3)}finally{r(!1)}};return{status:e,isConnecting:n,printReceipt:c,testPrint:async()=>{const e={order_number:"TEST001",created_at:(new Date).toISOString(),order_type:"dine_in",table_number:5,items:[{menu_item_name:"Chicken Burrito",quantity:1,price:12.99,total_price:12.99,modifiers:[]},{menu_item_name:"Beef Tacos",quantity:2,price:8.5,total_price:18.5,modifiers:[{name:"Extra Cheese",price:1}]}],subtotal:31.49,tax:2.52,total:34.01,payment_method:"cash",change_amount:5.99};await c(e)},checkWebPRNTAvailable:o,connected:e.includes("Ready")||e.includes("completed")}};var Ft=n(579);const Dt=(0,a.createContext)(),Lt=()=>{const e=(0,a.useContext)(Dt);if(!e)throw new Error("usePrinter must be used within a PrinterProvider");return e},Mt=e=>{let{children:t}=e;const[n,r]=(0,a.useState)(!1),[s,l]=(0,a.useState)("webusb"),i=zt(),o=Rt(),c="webprnt"===s?o:i,u=()=>{r(!1)},m=e=>{l(e)},p=d(d({},c),{},{printOrderReceipt:async e=>{try{const t="delivery"===e.order_type?"delivery":"dine_in";await c.printReceipt(e,t)}catch(t){console.error("Print order receipt error:",t),alert("Failed to print receipt. Please check printer connection.")}},openPrinterManager:()=>{r(!0)},closePrinterManager:u,showPrinterManager:n,printerType:s,switchPrinterType:m});return(0,Ft.jsxs)(Dt.Provider,{value:p,children:[t,n&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[(0,Ft.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ft.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"Printer Manager"}),(0,Ft.jsx)("button",{onClick:u,className:"text-gray-500 hover:text-gray-700 text-xl font-bold",children:"\xd7"})]}),(0,Ft.jsxs)("div",{className:"space-y-4",children:[(0,Ft.jsxs)("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[(0,Ft.jsx)("div",{className:"text-sm font-medium text-blue-800 mb-2",children:"Printer Connection Type:"}),(0,Ft.jsxs)("div",{className:"space-y-2",children:[(0,Ft.jsxs)("label",{className:"flex items-center",children:[(0,Ft.jsx)("input",{type:"radio",name:"printerType",value:"webusb",checked:"webusb"===s,onChange:e=>m(e.target.value),className:"mr-2"}),(0,Ft.jsx)("span",{className:"text-sm",children:"WebUSB (Direct USB)"})]}),(0,Ft.jsxs)("label",{className:"flex items-center",children:[(0,Ft.jsx)("input",{type:"radio",name:"printerType",value:"webprnt",checked:"webprnt"===s,onChange:e=>m(e.target.value),className:"mr-2"}),(0,Ft.jsx)("span",{className:"text-sm",children:"Star WebPRNT (Recommended)"})]})]})]}),(0,Ft.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,Ft.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"Status:"}),(0,Ft.jsx)("div",{className:"text-sm ".concat(c.connected?"text-green-600":c.status.includes("failed")||c.status.includes("Error")?"text-red-600":"text-gray-600"),children:c.status})]}),c.connected?(0,Ft.jsxs)("div",{className:"space-y-2",children:[(0,Ft.jsx)("button",{onClick:c.disconnectPrinter,className:"w-full bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 font-medium",children:"Disconnect"}),(0,Ft.jsx)("button",{onClick:c.reconnectPrinter,disabled:c.isConnecting,className:"w-full py-2 px-4 rounded-lg font-medium ".concat(c.isConnecting?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-orange-600 text-white hover:bg-orange-700"),children:c.isConnecting?"Reconnecting...":"Reconnect"})]}):(0,Ft.jsx)("button",{onClick:c.requestPrinter,disabled:c.isConnecting,className:"w-full py-2 px-4 rounded-lg font-medium ".concat(c.isConnecting?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:c.isConnecting?"Connecting...":"Connect Printer"}),c.connected&&(0,Ft.jsx)("button",{onClick:c.testPrint,className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 font-medium",children:"Test Print"}),(0,Ft.jsx)("div",{className:"text-xs text-gray-500 bg-gray-50 p-3 rounded-lg",children:"webusb"===s?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)("div",{className:"font-medium mb-1",children:"WebUSB Requirements:"}),(0,Ft.jsxs)("ul",{className:"list-disc list-inside space-y-1 mb-3",children:[(0,Ft.jsx)("li",{children:"Star TSP III in ESC/POS mode"}),(0,Ft.jsx)("li",{children:"USB cable connected"}),(0,Ft.jsx)("li",{children:"Chrome or Edge browser"}),(0,Ft.jsx)("li",{children:"HTTPS connection (or localhost)"})]}),(0,Ft.jsx)("div",{className:"font-medium mb-1",children:'If "Access Denied" error:'}),(0,Ft.jsxs)("ol",{className:"list-decimal list-inside space-y-1 text-xs",children:[(0,Ft.jsx)("li",{children:"Disconnect USB cable from printer"}),(0,Ft.jsx)("li",{children:"Close any printer software or POS apps"}),(0,Ft.jsx)("li",{children:"Reconnect USB cable"}),(0,Ft.jsx)("li",{children:'Click "Connect Printer" again'}),(0,Ft.jsx)("li",{children:'If still failing, try "Reconnect" button'})]})]}):(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)("div",{className:"font-medium mb-1",children:"Star WebPRNT Requirements:"}),(0,Ft.jsxs)("ul",{className:"list-disc list-inside space-y-1 mb-3",children:[(0,Ft.jsx)("li",{children:"Download & install Star WebPRNT Browser"}),(0,Ft.jsx)("li",{children:"Configure TSP III in WebPRNT Browser"}),(0,Ft.jsx)("li",{children:"Start WebPRNT Browser service"}),(0,Ft.jsx)("li",{children:"Any modern web browser"})]}),(0,Ft.jsx)("div",{className:"font-medium mb-1",children:"Setup Steps:"}),(0,Ft.jsxs)("ol",{className:"list-decimal list-inside space-y-1 text-xs",children:[(0,Ft.jsx)("li",{children:"Download Star WebPRNT Browser from Star Micronics"}),(0,Ft.jsx)("li",{children:"Install and configure your TSP III printer"}),(0,Ft.jsx)("li",{children:"Start the WebPRNT Browser application"}),(0,Ft.jsx)("li",{children:'Click "Test Print" to verify connection'})]})]})})]})]})})]})},It="".concat("https://pos-refactor.preview.emergentagent.com","/api"),Ut=(0,a.createContext)(),Bt=e=>{let{children:t}=e;const[n,r]=(0,a.useState)(null),[s,l]=(0,a.useState)(localStorage.getItem("token"));(0,a.useEffect)((()=>{s&&(At.defaults.headers.common.Authorization="Bearer ".concat(s),i())}),[s]);const i=async()=>{try{const e=await At.get("".concat(It,"/auth/me"));r(e.data)}catch(e){o()}},o=()=>{localStorage.removeItem("token"),l(null),r(null),delete At.defaults.headers.common.Authorization};return(0,Ft.jsx)(Ut.Provider,{value:{user:n,login:async e=>{try{const t=await At.post("".concat(It,"/auth/login"),{pin:e}),{access_token:n,user:a}=t.data;return localStorage.setItem("token",n),l(n),r(a),At.defaults.headers.common.Authorization="Bearer ".concat(n),{success:!0}}catch(a){var t,n;return{success:!1,error:(null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Login failed"}}},logout:o,verifyPin:async e=>{try{return{success:!0,user:(await At.post("".concat(It,"/auth/verify-pin"),{pin:e})).data.user}}catch(r){var t,n;return{success:!1,error:(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Invalid PIN"}}},isAuthenticated:!!n},children:t})},qt=()=>{const e=(0,a.useContext)(Ut);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},$t=()=>{const[e,t]=(0,a.useState)(""),[n,r]=(0,a.useState)(""),[s,l]=(0,a.useState)(!1),{login:i}=qt(),o=n=>{e.length<4&&t(e+n)};return(0,a.useEffect)((()=>{4===e.length&&(async()=>{if(4!==e.length)return void r("Please enter a 4-digit PIN");l(!0),r("");const n=await i(e);n.success||(r(n.error),t("")),l(!1)})()}),[e]),(0,Ft.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 to-purple-700 flex items-center justify-center p-4",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[(0,Ft.jsxs)("div",{className:"text-center mb-8",children:[(0,Ft.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Restaurant POS"}),(0,Ft.jsx)("p",{className:"text-gray-600",children:"Enter your 4-digit PIN"})]}),(0,Ft.jsx)("div",{className:"flex justify-center mb-8",children:(0,Ft.jsx)("div",{className:"flex space-x-3",children:[0,1,2,3].map((t=>(0,Ft.jsx)("div",{className:"w-4 h-4 rounded-full border-2 ".concat(t<e.length?"bg-blue-600 border-blue-600":"border-gray-300")},t)))})}),(0,Ft.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[[1,2,3,4,5,6,7,8,9].map((e=>(0,Ft.jsx)("button",{onClick:()=>o(e.toString()),className:"h-16 bg-gray-100 hover:bg-gray-200 rounded-xl text-2xl font-semibold text-gray-800 transition-colors",disabled:s,children:e},e))),(0,Ft.jsx)("button",{onClick:()=>{t(""),r("")},className:"h-16 bg-red-100 hover:bg-red-200 rounded-xl text-sm font-semibold text-red-600 transition-colors",disabled:s,children:"Clear"}),(0,Ft.jsx)("button",{onClick:()=>o("0"),className:"h-16 bg-gray-100 hover:bg-gray-200 rounded-xl text-2xl font-semibold text-gray-800 transition-colors",disabled:s,children:"0"}),(0,Ft.jsx)("button",{onClick:()=>{t(e.slice(0,-1))},className:"h-16 bg-gray-100 hover:bg-gray-200 rounded-xl text-sm font-semibold text-gray-600 transition-colors",disabled:s,children:"\u2190"})]}),n&&(0,Ft.jsx)("div",{className:"text-red-600 text-center text-sm mb-4",children:n}),s&&(0,Ft.jsx)("div",{className:"text-center text-blue-600 text-sm",children:"Logging in..."}),(0,Ft.jsxs)("div",{className:"text-center text-xs text-gray-500 mt-8",children:[(0,Ft.jsx)("strong",{children:"Demo PIN:"})," 1234 (Manager) | 5678 (Employee)"]})]})})},Ht=e=>{let{isOpen:t,onClose:n,onSuccess:r,title:s="Enter PIN to Continue"}=e;const[l,i]=(0,a.useState)(""),[o,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(!1),{verifyPin:m}=qt(),p=e=>{l.length<4&&i(l+e)};return(0,a.useEffect)((()=>{4===l.length&&(async()=>{if(4!==l.length)return void c("Please enter a 4-digit PIN");u(!0),c("");const e=await m(l);e.success?(r(e.user),n(),i("")):(c(e.error),i("")),u(!1)})()}),[l]),t?(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[(0,Ft.jsx)("div",{className:"text-center mb-8",children:(0,Ft.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:s})}),(0,Ft.jsx)("div",{className:"flex justify-center mb-8",children:(0,Ft.jsx)("div",{className:"flex space-x-3",children:[0,1,2,3].map((e=>(0,Ft.jsx)("div",{className:"w-4 h-4 rounded-full border-2 ".concat(e<l.length?"bg-blue-600 border-blue-600":"border-gray-300")},e)))})}),(0,Ft.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[[1,2,3,4,5,6,7,8,9].map((e=>(0,Ft.jsx)("button",{onClick:()=>p(e.toString()),className:"h-12 bg-gray-100 hover:bg-gray-200 rounded-xl text-xl font-semibold text-gray-800 transition-colors",disabled:d,children:e},e))),(0,Ft.jsx)("button",{onClick:()=>{i(""),c("")},className:"h-12 bg-red-100 hover:bg-red-200 rounded-xl text-sm font-semibold text-red-600 transition-colors",disabled:d,children:"Clear"}),(0,Ft.jsx)("button",{onClick:()=>p("0"),className:"h-12 bg-gray-100 hover:bg-gray-200 rounded-xl text-xl font-semibold text-gray-800 transition-colors",disabled:d,children:"0"}),(0,Ft.jsx)("button",{onClick:()=>{i(l.slice(0,-1))},className:"h-12 bg-gray-100 hover:bg-gray-200 rounded-xl text-sm font-semibold text-gray-600 transition-colors",disabled:d,children:"\u2190"})]}),o&&(0,Ft.jsx)("div",{className:"text-red-600 text-center text-sm mb-4",children:o}),(0,Ft.jsx)("div",{className:"flex space-x-3",children:(0,Ft.jsx)("button",{onClick:n,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400",children:"Cancel"})})]})}):null},Wt=e=>new Date(e),Vt=e=>Wt(e).toLocaleDateString(),Qt=e=>Wt(e).toLocaleTimeString(),Gt=e=>Wt(e).toLocaleString(),Yt=e=>{const t=new Date,n=Wt(e);if(isNaN(n.getTime()))return"Invalid date";const r=Math.abs(t-n),a=Math.floor(r/6e4),s=Math.floor(a/60),l=Math.floor(s/24),i=Math.floor(l/30);return a<1?"just now":a<60?"".concat(a," min ago"):s<24?"".concat(s," hour").concat(s>1?"s":""," ago"):l<30?"".concat(l," day").concat(l>1?"s":""," ago"):"".concat(i," month").concat(i>1?"s":""," ago")},Kt=e=>{const t=new Date,n=Wt(e),r=Math.floor((t-n)/6e4);return r>=45?"bg-red-100 border-red-500 text-red-800":r>=30?"bg-orange-100 border-orange-500 text-orange-800":r>=20?"bg-yellow-100 border-yellow-500 text-yellow-800":"bg-white border-gray-200"},Xt=e=>{let{onBack:t}=e;const[n,r]=(0,a.useState)([]),[s,l]=(0,a.useState)(!0),[i,o]=(0,a.useState)(""),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(!1),[p,f]=(0,a.useState)(null),[h,x]=(0,a.useState)({}),[g,b]=(0,a.useState)([]);(0,a.useEffect)((()=>{y()}),[]);const y=async()=>{try{const e=await At.get("".concat(It,"/customers"));r(e.data)}catch(e){console.error("Error fetching customers:",e)}finally{l(!1)}},v=async e=>{d(e),m(!0),await(async e=>{try{const[t,n]=await Promise.all([At.get("".concat(It,"/customers/").concat(e,"/stats")),At.get("".concat(It,"/customers/").concat(e,"/orders"))]);x(t.data),b(n.data)}catch(t){console.error("Error fetching customer details:",t)}})(e.id)},j=e=>{if(!e)return"Never ordered";const t=Wt(e),n=new Date,r=Math.abs(n-t),a=Math.floor(r/864e5);return 0===a?"Today":1===a?"1 day ago":"".concat(a," days ago")};return s?(0,Ft.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Ft.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):(0,Ft.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Ft.jsx)("div",{className:"bg-white shadow-sm border-b p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ft.jsxs)("button",{onClick:t,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800",children:[(0,Ft.jsx)("span",{children:"\u2190"}),(0,Ft.jsx)("span",{children:"Back"})]}),(0,Ft.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Customer Management"})]}),(0,Ft.jsx)("div",{className:"flex items-center space-x-4",children:(0,Ft.jsx)("button",{onClick:()=>f({}),className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700",children:"Add Customer"})})]})}),(0,Ft.jsxs)("div",{className:"p-6",children:[(0,Ft.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Customers"}),(0,Ft.jsx)("input",{type:"text",placeholder:"Search by name, phone, email, or address...",value:i,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,Ft.jsxs)("div",{className:"text-center",children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:n.length}),(0,Ft.jsx)("div",{className:"text-sm text-gray-600",children:"Total Customers"})]})]})}),(0,Ft.jsx)("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:(0,Ft.jsx)("div",{className:"overflow-x-auto",children:(0,Ft.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ft.jsx)("thead",{className:"bg-gray-50",children:(0,Ft.jsxs)("tr",{children:[(0,Ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),(0,Ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,Ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Orders"}),(0,Ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Spent"}),(0,Ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Order"}),(0,Ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Ft.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:(i?n.filter((e=>e.name.toLowerCase().includes(i.toLowerCase())||e.phone.includes(i)||e.email.toLowerCase().includes(i.toLowerCase())||e.address.toLowerCase().includes(i.toLowerCase()))):n).map((e=>(0,Ft.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>v(e),children:[(0,Ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),e.address&&(0,Ft.jsx)("div",{className:"text-sm text-gray-500",children:e.address})]})}),(0,Ft.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Ft.jsx)("div",{className:"text-sm text-gray-900",children:e.phone}),e.email&&(0,Ft.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]}),(0,Ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ft.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.total_orders||0})}),(0,Ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ft.jsxs)("span",{className:"text-sm font-medium text-green-600",children:["$",(e.total_spent||0).toFixed(2)]})}),(0,Ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ft.jsx)("span",{className:"text-sm text-gray-500",children:j(e.last_order_date)})}),(0,Ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Ft.jsx)("button",{onClick:t=>{t.stopPropagation(),(e=>{f(e)})(e)},className:"text-purple-600 hover:text-purple-900",children:"Edit"})})]},e.id)))})]})})})]}),u&&c&&(0,Ft.jsx)(Zt,{customer:c,stats:h,orders:g,onClose:()=>{m(!1),d(null)},onClose:()=>m(!1)}),p&&(0,Ft.jsx)(en,{customer:p,onSave:async e=>{try{p?await At.put("".concat(It,"/customers/").concat(p.id),e):await At.post("".concat(It,"/customers"),e),await y(),f(null)}catch(t){console.error("Error saving customer:",t),alert("Error saving customer")}},onClose:()=>f(null)})]})},Jt=e=>{if(!e)return"Not provided";const t=e.replace(/\D/g,"");return 10===t.length?"(".concat(t.slice(0,3),")").concat(t.slice(3,6),"-").concat(t.slice(6)):e},Zt=e=>{let{customer:t,stats:n,orders:r,onClose:a,onEdit:s}=e;return(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-4xl w-full max-h-96 overflow-y-auto",children:[(0,Ft.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:t.name}),(0,Ft.jsx)("p",{className:"text-gray-600",children:Jt(t.phone)})]}),(0,Ft.jsxs)("div",{className:"flex space-x-2",children:[(0,Ft.jsx)("button",{onClick:s,className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700",children:"Edit"}),(0,Ft.jsx)("button",{onClick:a,className:"text-gray-500 hover:text-gray-700 text-xl",children:"\xd7"})]})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h4",{className:"font-medium text-gray-700 mb-3",children:"Customer Information"}),(0,Ft.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Ft.jsxs)("p",{children:[(0,Ft.jsx)("span",{className:"font-medium",children:"Email:"})," ",t.email||"Not provided"]}),(0,Ft.jsxs)("p",{children:[(0,Ft.jsx)("span",{className:"font-medium",children:"Address:"})," ",t.address||"Not provided"]}),(0,Ft.jsxs)("p",{children:[(0,Ft.jsx)("span",{className:"font-medium",children:"Apartment:"})," ",t.apartment||"Not provided"]}),(0,Ft.jsxs)("p",{children:[(0,Ft.jsx)("span",{className:"font-medium",children:"City:"})," ",t.city||"Not provided"]}),(0,Ft.jsxs)("p",{children:[(0,Ft.jsx)("span",{className:"font-medium",children:"State:"})," ",t.state||"Not provided"]}),(0,Ft.jsxs)("p",{children:[(0,Ft.jsx)("span",{className:"font-medium",children:"ZIP Code:"})," ",t.zip_code||"Not provided"]}),(0,Ft.jsxs)("p",{children:[(0,Ft.jsx)("span",{className:"font-medium",children:"Notes:"})," ",t.notes||"None"]}),(0,Ft.jsxs)("p",{children:[(0,Ft.jsx)("span",{className:"font-medium",children:"Customer Since:"})," ",Vt(t.created_at)]})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h4",{className:"font-medium text-gray-700 mb-3",children:"Statistics"}),(0,Ft.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Ft.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:n.total_orders||0}),(0,Ft.jsx)("div",{className:"text-blue-700",children:"Total Orders"})]}),(0,Ft.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg",children:[(0,Ft.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["$",(n.total_spent||0).toFixed(2)]}),(0,Ft.jsx)("div",{className:"text-green-700",children:"Total Spent"})]}),(0,Ft.jsxs)("div",{className:"bg-purple-50 p-3 rounded-lg",children:[(0,Ft.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:["$",(n.average_order_value||0).toFixed(2)]}),(0,Ft.jsx)("div",{className:"text-purple-700",children:"Avg Order"})]}),(0,Ft.jsxs)("div",{className:"bg-orange-50 p-3 rounded-lg",children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:null!==n.days_since_last_order?n.days_since_last_order:"N/A"}),(0,Ft.jsx)("div",{className:"text-orange-700",children:"Days Since Last"})]})]})]})]}),(0,Ft.jsxs)("div",{className:"mt-6",children:[(0,Ft.jsx)("h4",{className:"font-medium text-gray-700 mb-3",children:"Recent Orders"}),(0,Ft.jsx)("div",{className:"max-h-48 overflow-y-auto",children:r.length>0?(0,Ft.jsx)("div",{className:"space-y-2",children:r.slice(0,10).map((e=>(0,Ft.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("span",{className:"font-medium",children:e.order_number}),(0,Ft.jsx)("span",{className:"text-gray-500 text-sm ml-2",children:Gt(e.created_at)})]}),(0,Ft.jsxs)("div",{className:"text-right",children:[(0,Ft.jsxs)("div",{className:"font-medium text-green-600",children:["$",e.total.toFixed(2)]}),(0,Ft.jsx)("div",{className:"text-xs text-gray-500",children:e.order_type.replace("_"," ")})]})]},e.id)))}):(0,Ft.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No orders found"})})]})]})})},en=e=>{let{customer:t,onSave:n,onClose:r}=e;const[s,l]=(0,a.useState)({name:t.name||"",phone:t.phone||"",email:t.email||"",address:t.address||"",apartment:t.apartment||"",city:t.city||"",state:t.state||"",zip_code:t.zip_code||"",notes:t.notes||""}),i=(e,t)=>{l((n=>d(d({},n),{},{[e]:t})))},o=async e=>{try{const t=(await At.get("".concat(It,"/customers/").concat(e))).data;l((e=>d(d({},e),{},{name:t.name||e.name,address:t.address||e.address,apartment:t.apartment||e.apartment,city:t.city||e.city,state:t.state||e.state,zip_code:t.zip_code||e.zip_code,email:t.email||e.email,notes:t.notes||e.notes})))}catch(t){console.log("Customer not found by phone in modal")}},c=async e=>{try{const t=await At.get("".concat(It,"/customers")),n=t.data.find((t=>t.address&&t.address.toLowerCase().includes(e.toLowerCase())&&t.address.length>0));n&&l((e=>d(d({},e),{},{name:n.name||e.name,phone:n.phone||e.phone,apartment:n.apartment||e.apartment,city:n.city||e.city,state:n.state||e.state,zip_code:n.zip_code||e.zip_code,email:n.email||e.email,notes:n.notes||e.notes})))}catch(t){console.log("Error looking up customer by address in modal:",t)}};return(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[(0,Ft.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Ft.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:t.id?"Edit Customer":"Add New Customer"}),(0,Ft.jsx)("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 text-xl",children:"\xd7"})]}),(0,Ft.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s.name.trim()&&s.phone.trim()?n(s):alert("Name and phone are required")},className:"space-y-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),(0,Ft.jsx)("input",{type:"text",value:s.name,onChange:e=>i("name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone *"}),(0,Ft.jsx)("input",{type:"tel",value:s.phone,onChange:e=>(async e=>{l((t=>d(d({},t),{},{phone:e}))),e.length>=10&&await o(e)})(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,Ft.jsx)("input",{type:"email",value:s.email,onChange:e=>i("email",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Ft.jsxs)("div",{className:"md:col-span-2",children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address"}),(0,Ft.jsx)("textarea",{value:s.address,onChange:e=>(async e=>{l((t=>d(d({},t),{},{address:e}))),e.length>=10&&await c(e)})(e.target.value),rows:"2",placeholder:"Street address",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Apartment/Unit"}),(0,Ft.jsx)("input",{type:"text",value:s.apartment,onChange:e=>i("apartment",e.target.value),placeholder:"Apt, Suite, Unit",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Ft.jsxs)("div",{className:"md:col-span-2",children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),(0,Ft.jsx)("input",{type:"text",value:s.city,onChange:e=>i("city",e.target.value),placeholder:"City",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),(0,Ft.jsx)("input",{type:"text",value:s.state,onChange:e=>i("state",e.target.value),placeholder:"State",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),(0,Ft.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),(0,Ft.jsx)("input",{type:"text",value:s.zip_code,onChange:e=>i("zip_code",e.target.value),placeholder:"ZIP Code",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]})}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),(0,Ft.jsx)("textarea",{value:s.notes,onChange:e=>i("notes",e.target.value),rows:"2",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Special dietary requirements, preferences, etc."})]}),(0,Ft.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Ft.jsx)("button",{type:"button",onClick:r,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400",children:"Cancel"}),(0,Ft.jsx)("button",{type:"submit",className:"flex-1 bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700",children:t.id?"Update":"Create"})]})]})]})})},tn=e=>{let{onBack:t}=e;const[n,r]=(0,a.useState)([]),[s,l]=(0,a.useState)(!0),[i,o]=(0,a.useState)("all"),[c,d]=(0,a.useState)("all"),[u,m]=(0,a.useState)(""),[p,f]=(0,a.useState)(null),[h,x]=(0,a.useState)(!1);(0,a.useEffect)((()=>{g()}),[]);const g=async()=>{try{const e=await At.get("".concat(It,"/orders"));r(e.data)}catch(e){console.error("Error fetching order history:",e)}finally{l(!1)}},b=()=>{let e=n;"all"!==i&&(e=e.filter((e=>e.status===i)));const t=new Date,r=new Date(t.getFullYear(),t.getMonth(),t.getDate()),a=new Date(r.getTime()-864e5),s=new Date(r.getTime()-6048e5);return"today"===c?e=e.filter((e=>Wt(e.created_at)>=r)):"yesterday"===c?e=e.filter((e=>{const t=Wt(e.created_at);return t>=a&&t<r})):"week"===c&&(e=e.filter((e=>Wt(e.created_at)>=s))),u&&(e=e.filter((e=>e.order_number.toLowerCase().includes(u.toLowerCase())||e.customer_name.toLowerCase().includes(u.toLowerCase())||e.customer_phone.includes(u)))),e.sort(((e,t)=>Wt(t.created_at)-Wt(e.created_at)))},y=b();return s?(0,Ft.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Ft.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,Ft.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Ft.jsx)("div",{className:"bg-white shadow-sm border-b p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ft.jsxs)("button",{onClick:t,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800",children:[(0,Ft.jsx)("span",{children:"\u2190"}),(0,Ft.jsx)("span",{children:"Back"})]}),(0,Ft.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Order History & Transactions"})]}),(0,Ft.jsx)("div",{className:"flex items-center space-x-6",children:(0,Ft.jsxs)("div",{className:"text-center",children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:b().length}),(0,Ft.jsx)("div",{className:"text-sm text-gray-600",children:"Orders"})]})})]})}),(0,Ft.jsxs)("div",{className:"p-6",children:[(0,Ft.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),(0,Ft.jsx)("input",{type:"text",placeholder:"Order #, Customer name, Phone",value:u,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),(0,Ft.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Ft.jsx)("option",{value:"all",children:"All Time"}),(0,Ft.jsx)("option",{value:"today",children:"Today"}),(0,Ft.jsx)("option",{value:"yesterday",children:"Yesterday"}),(0,Ft.jsx)("option",{value:"week",children:"Last 7 Days"})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,Ft.jsxs)("select",{value:i,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Ft.jsx)("option",{value:"all",children:"All Orders"}),(0,Ft.jsx)("option",{value:"paid",children:"Paid"}),(0,Ft.jsx)("option",{value:"delivered",children:"Delivered"}),(0,Ft.jsx)("option",{value:"cancelled",children:"Cancelled"}),(0,Ft.jsx)("option",{value:"pending",children:"Pending"}),(0,Ft.jsx)("option",{value:"preparing",children:"Preparing"}),(0,Ft.jsx)("option",{value:"ready",children:"Ready"}),(0,Ft.jsx)("option",{value:"out_for_delivery",children:"Out for Delivery"})]})]}),(0,Ft.jsx)("div",{className:"flex items-end",children:(0,Ft.jsx)("button",{onClick:g,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Refresh"})})]})}),(0,Ft.jsx)("div",{className:"bg-white rounded-2xl shadow-lg",children:(0,Ft.jsxs)("div",{className:"p-6",children:[(0,Ft.jsxs)("h3",{className:"text-xl font-bold text-gray-800 mb-6",children:["Orders (",y.length,")"]}),0===y.length?(0,Ft.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,Ft.jsx)("p",{children:"No orders found matching your criteria"})}):(0,Ft.jsx)("div",{className:"overflow-x-auto",children:(0,Ft.jsxs)("table",{className:"w-full table-auto",children:[(0,Ft.jsx)("thead",{children:(0,Ft.jsxs)("tr",{className:"bg-gray-50",children:[(0,Ft.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Order #"}),(0,Ft.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Date & Time"}),(0,Ft.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Customer"}),(0,Ft.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Type"}),(0,Ft.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Items"}),(0,Ft.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Total"}),(0,Ft.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Payment"}),(0,Ft.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Status"}),(0,Ft.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Actions"})]})}),(0,Ft.jsx)("tbody",{children:y.map((e=>{var t,n;return(0,Ft.jsxs)("tr",{className:"border-b hover:bg-gray-50 cursor-pointer",onClick:()=>(e=>{f(e),x(!0)})(e),children:[(0,Ft.jsx)("td",{className:"px-4 py-3",children:(0,Ft.jsx)("div",{className:"font-medium text-blue-600",children:e.order_number})}),(0,Ft.jsx)("td",{className:"px-4 py-3",children:(0,Ft.jsxs)("div",{className:"text-sm",children:[(0,Ft.jsx)("div",{children:Vt(e.created_at)}),(0,Ft.jsx)("div",{className:"text-gray-500",children:Qt(e.created_at)})]})}),(0,Ft.jsx)("td",{className:"px-4 py-3",children:(0,Ft.jsxs)("div",{className:"text-sm",children:[(0,Ft.jsx)("div",{className:"font-medium",children:e.customer_name||"Walk-in"}),e.customer_phone&&(0,Ft.jsx)("div",{className:"text-gray-500",children:e.customer_phone})]})}),(0,Ft.jsx)("td",{className:"px-4 py-3",children:(0,Ft.jsxs)("div",{className:"text-sm",children:[(0,Ft.jsx)("div",{className:"font-medium",children:e.order_type.replace("_"," ").toUpperCase()}),e.table_number&&(0,Ft.jsx)("div",{className:"text-gray-500",children:vn(e)})]})}),(0,Ft.jsx)("td",{className:"px-4 py-3",children:(0,Ft.jsxs)("div",{className:"text-sm",children:[(0,Ft.jsxs)("div",{children:[e.items.length," items"]}),(0,Ft.jsxs)("div",{className:"text-gray-500",children:[e.items.slice(0,2).map((e=>e.menu_item_name)).join(", "),e.items.length>2&&"..."]})]})}),(0,Ft.jsxs)("td",{className:"px-4 py-3",children:[(0,Ft.jsxs)("div",{className:"font-medium text-green-600",children:["$",e.total.toFixed(2)]}),e.cash_received&&(0,Ft.jsxs)("div",{className:"text-xs text-gray-500",children:["Cash: $",e.cash_received.toFixed(2),e.change_amount>0&&(0,Ft.jsxs)("div",{children:["Change: $",e.change_amount.toFixed(2)]})]})]}),(0,Ft.jsx)("td",{className:"px-4 py-3",children:(0,Ft.jsxs)("div",{className:"text-sm",children:[(0,Ft.jsx)("div",{className:"font-medium",children:(null===(t=e.payment_method)||void 0===t?void 0:t.toUpperCase())||"Pending"}),(0,Ft.jsx)("div",{className:"text-gray-500",children:e.payment_status})]})}),(0,Ft.jsx)("td",{className:"px-4 py-3",children:(0,Ft.jsx)("span",{className:"inline-block px-2 py-1 text-xs font-medium rounded-full ".concat((n=e.status,{draft:"bg-gray-100 text-gray-800",pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",preparing:"bg-orange-100 text-orange-800",ready:"bg-green-100 text-green-800",out_for_delivery:"bg-purple-100 text-purple-800",delivered:"bg-green-200 text-green-900",paid:"bg-emerald-200 text-emerald-900",cancelled:"bg-red-100 text-red-800"}[n]||"bg-gray-100 text-gray-800")),children:e.status.replace("_"," ").toUpperCase()})}),(0,Ft.jsx)("td",{className:"px-4 py-3",children:(0,Ft.jsx)("div",{className:"flex space-x-2",children:"paid"===e.status&&(0,Ft.jsx)("button",{onClick:t=>{t.stopPropagation(),console.log("Print receipt for:",e),alert("Receipt for ".concat(e.order_number," sent to printer"))},className:"text-green-600 hover:text-green-800 text-sm",children:"Print"})})})]},e.id)}))})]})})]})})]}),h&&p&&(0,Ft.jsx)(un,{order:p,onClose:()=>{x(!1),f(null)}})]})},nn=e=>{let{onOrderClick:t,refreshTrigger:n}=e;const[r,s]=(0,a.useState)([]),[l,i]=(0,a.useState)(!0),[o,c]=(0,a.useState)(new Date),[d,u]=(0,a.useState)("all"),[m,p]=(0,a.useState)(new Set),[f,h]=(0,a.useState)(!1),[x,g]=(0,a.useState)(!1);(0,a.useEffect)((()=>{b();const e=setInterval(b,3e4);return()=>clearInterval(e)}),[n]),(0,a.useEffect)((()=>{const e=setInterval((()=>{c(new Date)}),3e4);return()=>clearInterval(e)}),[]);const b=async()=>{try{const e=await At.get("".concat(It,"/orders/active"));s(e.data)}catch(e){console.error("Error fetching orders:",e)}finally{i(!1)}},y=e=>{const t=new Set(m);t.has(e)?t.delete(e):t.add(e),p(t)},v=()=>{g(!x),p(new Set)},j=e=>({confirmed:"preparing",preparing:"ready",ready:"out_for_delivery",out_for_delivery:"delivered"}[e]),N="all"===d?r:r.filter((e=>e.order_type===d));return l?(0,Ft.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[(0,Ft.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Active Orders"}),(0,Ft.jsx)("div",{className:"flex justify-center py-8",children:(0,Ft.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]}):(0,Ft.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[(0,Ft.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Ft.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Active Orders"}),(0,Ft.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ft.jsx)("div",{className:"flex items-center space-x-2",children:x?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Ft.jsx)("input",{type:"checkbox",checked:m.size>0&&m.size===r.filter((e=>"paid"!==e.status&&"delivered"!==e.status&&"cancelled"!==e.status)).length,onChange:()=>{const e=r.filter((e=>"paid"!==e.status&&"delivered"!==e.status&&"cancelled"!==e.status));m.size===e.length?p(new Set):p(new Set(e.map((e=>e.id))))},className:"rounded border-gray-300 text-red-600 focus:ring-red-500"}),(0,Ft.jsx)("span",{className:"text-sm text-gray-700",children:"Select All"})]}),m.size>0&&(0,Ft.jsxs)("button",{onClick:()=>{0!==m.size?h(!0):alert("Please select orders to cancel")},className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 text-sm font-medium",children:["Cancel Selected (",m.size,")"]}),(0,Ft.jsx)("button",{onClick:v,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 text-sm font-medium",children:"Done"})]}):(0,Ft.jsx)("button",{onClick:v,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 text-sm font-medium",children:"Select"})}),(0,Ft.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ft.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Filter:"}),(0,Ft.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"px-3 py-1 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Ft.jsx)("option",{value:"all",children:"All Orders"}),(0,Ft.jsx)("option",{value:"dine_in",children:"Dine In"}),(0,Ft.jsx)("option",{value:"takeout",children:"Takeout"}),(0,Ft.jsx)("option",{value:"delivery",children:"Delivery"}),(0,Ft.jsx)("option",{value:"phone_order",children:"Phone Order"})]})]})]})]}),0===N.length?(0,Ft.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,Ft.jsx)("p",{children:"No active orders"})}):(0,Ft.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:N.map((e=>{return(0,Ft.jsxs)("div",{className:"border-2 rounded-xl p-4 transition-all hover:shadow-md ".concat(Kt(e.created_at)," ").concat(m.has(e.id)?"ring-2 ring-red-500":""," ").concat(x?"":"cursor-pointer"),onClick:()=>(e=>{x?y(e.id):t(e)})(e),children:[(0,Ft.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Ft.jsxs)("div",{className:"flex items-start space-x-3",children:[x&&"paid"!==e.status&&"delivered"!==e.status&&"cancelled"!==e.status&&(0,Ft.jsx)("input",{type:"checkbox",checked:m.has(e.id),onChange:()=>y(e.id),onClick:e=>e.stopPropagation(),className:"mt-1 rounded border-gray-300 text-red-600 focus:ring-red-500"}),(0,Ft.jsxs)("div",{className:"flex-1",children:[(0,Ft.jsx)("h4",{className:"font-bold text-lg",children:e.order_number}),(0,Ft.jsx)("p",{className:"text-sm text-gray-600",children:Qt(e.created_at)}),(0,Ft.jsxs)("p",{className:"text-xs font-semibold text-orange-600",children:["\u23f1\ufe0f ",Yt(e.created_at)]})]})]}),(0,Ft.jsxs)("div",{className:"flex items-center space-x-2",children:["pending"!==e.status&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)("span",{className:"inline-block w-3 h-3 rounded-full ".concat((r=e.status,{confirmed:"bg-blue-500",preparing:"bg-orange-500",ready:"bg-green-500",out_for_delivery:"bg-purple-500"}[r]||"bg-gray-500"))}),(0,Ft.jsx)("span",{className:"text-xs font-medium capitalize",children:e.status.replace("_"," ")})]}),"pending"===e.status&&(0,Ft.jsx)("span",{className:"inline-block px-2 py-1 bg-yellow-100 text-yellow-800 text-xs font-medium rounded-full",children:"PENDING"})]})]}),(0,Ft.jsxs)("div",{className:"mb-3",children:[(0,Ft.jsxs)("p",{className:"text-sm font-medium",children:[e.order_type.replace("_"," ").toUpperCase(),"dine_in"===e.order_type&&" - ".concat(vn(e)),"delivery"===e.order_type&&e.customer_address&&" - ".concat(e.customer_address.substring(0,30),"...")]}),e.customer_name&&(0,Ft.jsx)("p",{className:"text-sm text-gray-600",children:e.customer_name})]}),(0,Ft.jsxs)("div",{className:"mb-3",children:[(0,Ft.jsxs)("div",{className:"text-sm mb-2",children:[e.items.slice(0,2).map(((e,t)=>(0,Ft.jsx)("div",{className:"flex justify-between",children:(0,Ft.jsxs)("span",{children:[e.quantity,"x ",e.menu_item_name]})},t))),e.items.length>2&&(0,Ft.jsxs)("p",{className:"text-gray-500",children:["+",e.items.length-2," more items"]})]}),(0,Ft.jsxs)("div",{className:"text-xs text-gray-600 space-y-1",children:[(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{children:"Subtotal:"}),(0,Ft.jsxs)("span",{children:["$",e.subtotal.toFixed(2)]})]}),e.tax>0&&(0,Ft.jsxs)("div",{className:"flex justify-between text-green-600",children:[(0,Ft.jsx)("span",{children:"Tax:"}),(0,Ft.jsxs)("span",{children:["$",e.tax.toFixed(2)]})]}),e.service_charges>0&&(0,Ft.jsxs)("div",{className:"flex justify-between text-blue-600",children:[(0,Ft.jsx)("span",{children:"Service Charges:"}),(0,Ft.jsxs)("span",{children:["$",e.service_charges.toFixed(2)]})]}),e.discounts>0&&(0,Ft.jsxs)("div",{className:"flex justify-between text-red-600",children:[(0,Ft.jsx)("span",{children:"Discounts:"}),(0,Ft.jsxs)("span",{children:["-$",e.discounts.toFixed(2)]})]}),e.tip>0&&(0,Ft.jsxs)("div",{className:"flex justify-between text-purple-600",children:[(0,Ft.jsx)("span",{children:"Tip:"}),(0,Ft.jsxs)("span",{children:["$",e.tip.toFixed(2)]})]})]})]}),(0,Ft.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ft.jsxs)("span",{className:"font-bold text-lg border-t pt-2",children:["Total: $",e.total.toFixed(2)]}),(0,Ft.jsx)("div",{className:"flex space-x-2",children:"delivery"===e.order_type&&"pending"!==e.status&&j(e.status)&&(0,Ft.jsx)("button",{onClick:t=>{t.stopPropagation(),(async(e,t)=>{try{await At.put("".concat(It,"/orders/").concat(e,"/status"),{status:t}),b()}catch(n){console.error("Error updating order status:",n)}})(e.id,j(e.status))},className:"bg-blue-600 text-white px-3 py-1 rounded-lg text-sm hover:bg-blue-700 transition-colors",children:(n=e.status,{confirmed:"Start Prep",preparing:"Ready",ready:"Out for Delivery",out_for_delivery:"Delivered"}[n])})})]})]},e.id);var n,r}))}),f&&(0,Ft.jsx)(rn,{selectedOrders:Array.from(m),onCancel:()=>h(!1),onConfirm:async(e,t)=>{try{const n=Array.from(m).map((n=>At.post("".concat(It,"/orders/").concat(n,"/cancel"),{reason:e,notes:t})));await Promise.all(n),alert("".concat(m.size," order(s) cancelled successfully")),p(new Set),h(!1),b()}catch(n){console.error("Error cancelling orders:",n),alert("Error cancelling some orders. Please try again.")}}})]})},rn=e=>{let{selectedOrders:t,onCancel:n,onConfirm:r}=e;const[s,l]=(0,a.useState)("customer_canceled"),[i,o]=(0,a.useState)("");return(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[(0,Ft.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Ft.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Cancel Orders"}),(0,Ft.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 text-xl",children:"\xd7"})]}),(0,Ft.jsxs)("div",{className:"mb-4",children:[(0,Ft.jsxs)("p",{className:"text-gray-600 mb-4",children:["You are about to cancel ",t.length," order(s). Please select a reason:"]}),(0,Ft.jsx)("div",{className:"space-y-3",children:[{value:"customer_canceled",label:"Customer Canceled"},{value:"wrong_order",label:"Wrong Order"},{value:"other",label:"Other"}].map((e=>(0,Ft.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,Ft.jsx)("input",{type:"radio",value:e.value,checked:s===e.value,onChange:e=>l(e.target.value),className:"text-red-600 focus:ring-red-500"}),(0,Ft.jsx)("span",{className:"text-gray-700",children:e.label})]},e.value)))})]}),"other"===s&&(0,Ft.jsxs)("div",{className:"mb-4",children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Please specify the reason:"}),(0,Ft.jsx)("textarea",{value:i,onChange:e=>o(e.target.value),rows:"3",placeholder:"Enter the reason for cancellation...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),(0,Ft.jsxs)("div",{className:"flex space-x-3",children:[(0,Ft.jsx)("button",{onClick:n,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400",children:"Cancel"}),(0,Ft.jsx)("button",{onClick:()=>{const e="other"===s?i:"";"other"!==s||i.trim()?r(s,e):alert("Please provide a reason for cancellation")},className:"flex-1 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700",children:"Confirm Cancellation"})]})]})})},an=()=>{const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)(!0),[s,l]=(0,a.useState)(!1);(0,a.useEffect)((()=>{s&&i()}),[s]);const i=async()=>{try{const e=await At.get("".concat(It,"/time/active-employees"));t(e.data.active_employees)}catch(e){console.error("Error fetching active employees:",e)}finally{r(!1)}};return(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)("button",{onClick:()=>l(!0),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Employee Status"}),s&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-md w-full max-h-96 overflow-y-auto",children:[(0,Ft.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ft.jsx)("h3",{className:"text-lg font-bold",children:"Active Employees"}),(0,Ft.jsx)("button",{onClick:()=>l(!1),className:"text-gray-500 hover:text-gray-700 text-xl",children:"\xd7"})]}),n?(0,Ft.jsx)("div",{className:"flex justify-center py-8",children:(0,Ft.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):0===e.length?(0,Ft.jsx)("p",{className:"text-center text-gray-500 py-8",children:"No employees currently clocked in"}):(0,Ft.jsx)("div",{className:"space-y-3",children:e.map((e=>(0,Ft.jsx)("div",{className:"bg-gray-50 rounded-lg p-3",children:(0,Ft.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h4",{className:"font-medium",children:e.full_name}),(0,Ft.jsxs)("p",{className:"text-sm text-gray-600",children:["Clocked in: ",new Date(e.clock_in_time).toLocaleTimeString()]})]}),(0,Ft.jsxs)("div",{className:"text-right",children:[(0,Ft.jsxs)("p",{className:"text-sm font-medium text-green-600",children:[e.active_hours.toFixed(1),"h"]}),(0,Ft.jsx)("p",{className:"text-xs text-gray-500",children:"Active"})]})]})},e.user_id)))})]})})]})},sn=()=>{const[e,t]=(0,a.useState)(!1),[n,r]=(0,a.useState)(!1),[s,l]=(0,a.useState)(!1),[i,o]=(0,a.useState)(null),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)(null);(0,a.useEffect)((()=>{p()}),[]);const p=async()=>{try{const e=await At.get("".concat(It,"/time/entries"));d(e.data);const t=(new Date).toISOString().split("T")[0],n=e.data.find((e=>e.date===t&&!e.clock_out));m(n)}catch(e){console.error("Error checking clock status:",e)}};return(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)("button",{onClick:()=>(o(u?"out":"in"),void l(!0)),className:"px-4 py-2 rounded-lg transition-colors ".concat(u?"bg-red-600 text-white hover:bg-red-700":"bg-blue-600 text-white hover:bg-blue-700"),disabled:e||n,children:e||n?"Processing...":u?"Clock Out":"Clock In"}),(0,Ft.jsx)(Ht,{isOpen:s,onClose:()=>l(!1),onSuccess:async e=>{try{if("in"===i)t(!0),await At.post("".concat(It,"/time/clock-in")),alert("Clocked in successfully!");else{r(!0);const e=await At.post("".concat(It,"/time/clock-out"));alert("Clocked out successfully! Total hours: ".concat(e.data.total_hours.toFixed(2)))}p(),l(!1)}catch(s){var n,a;alert((null===(n=s.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.detail)||"Error processing clock action")}finally{t(!1),r(!1)}},title:"in"===i?"Clock In":"Clock Out"})]})},ln=e=>{var t,n,r,s;let{onTableSelect:l}=e;const[i,o]=(0,a.useState)([]),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(null),[p,f]=(0,a.useState)(null),[h,x]=(0,a.useState)(!1),[g,b]=(0,a.useState)(!1),[y,v]=(0,a.useState)(null),[j,N]=(0,a.useState)(null),[w,_]=(0,a.useState)(null),[k,S]=(0,a.useState)(null),[C,E]=(0,a.useState)("select-source"),[T,P]=(0,a.useState)(!1),[O,A]=(0,a.useState)([]),[z,R]=(0,a.useState)(!1);(0,a.useEffect)((()=>{F()}),[]);const F=async()=>{try{const e=await At.get("".concat(It,"/tables"));o(e.data)}catch(e){console.error("Error fetching tables:",e)}},D=async(e,t)=>{try{const n={status:t};"available"===t&&(n.current_order_id=null),await At.put("".concat(It,"/tables/").concat(e),n),F()}catch(n){console.error("Error updating table:",n)}},L=async(e,t)=>{try{await At.post("".concat(It,"/tables/").concat(e,"/merge"),{new_table_id:t}),F(),M(),x(!1),alert("Orders merged successfully!")}catch(a){var n,r;alert((null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.detail)||"Error merging orders")}},M=()=>{d(!1),m(null),f(null),E("select-source"),x(!1)},I=async e=>{if(f(e),"occupied"===e.status)try{const t=await At.get("".concat(It,"/orders/").concat(u.current_order_id)),n=await At.get("".concat(It,"/orders/").concat(e.current_order_id));v(u),N(e),_(t.data),S(n.data),b(!0)}catch(t){console.error("Error fetching orders for merge:",t),x(!0)}else(async(e,n)=>{try{await At.post("".concat(It,"/tables/").concat(e,"/move"),{new_table_id:n}),F(),M(),alert("Order moved successfully!")}catch(t){var r,a;alert((null===(r=t.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.detail)||"Error moving order")}})(u.id,e.id)},U=i.filter((e=>"occupied"===e.status)),B=i.filter((e=>"available"===e.status));return(0,Ft.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[(0,Ft.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Ft.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Table Management"}),(0,Ft.jsx)("div",{className:"flex space-x-2",children:U.length>0&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)("button",{onClick:()=>{d(!0),E("select-source")},className:"bg-purple-600 text-white px-3 py-1 rounded-lg text-sm hover:bg-purple-700",children:"Move Order"}),(0,Ft.jsx)("button",{onClick:()=>{R(!0),A([])},className:"bg-red-600 text-white px-3 py-1 rounded-lg text-sm hover:bg-red-700",children:"Cancel Table"})]})})]}),(0,Ft.jsx)("div",{className:"grid grid-cols-5 gap-3",children:i.map((e=>{return(0,Ft.jsx)("div",{className:"border-2 rounded-xl p-4 cursor-pointer transition-all hover:shadow-md ".concat((t=e.status,{available:"bg-green-100 border-green-500 text-green-800",occupied:"bg-red-100 border-red-500 text-red-800",needs_cleaning:"bg-yellow-100 border-yellow-500 text-yellow-800",reserved:"bg-blue-100 border-blue-500 text-blue-800",problem:"bg-gray-100 border-gray-500 text-gray-800"}[t]||"bg-gray-100 border-gray-300")),onClick:()=>l(e),children:(0,Ft.jsxs)("div",{className:"text-center",children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold mb-1",children:yn(e)}),(0,Ft.jsx)("div",{className:"text-xs capitalize",children:e.status.replace("_"," ")})]})},e.id);var t}))}),c&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:["select-source"===C&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Select Table to Move"}),(0,Ft.jsx)("div",{className:"grid grid-cols-3 gap-2 mb-4",children:U.map((e=>(0,Ft.jsx)("button",{onClick:()=>(e=>{m(e),E("select-destination")})(e),className:"bg-red-100 border-2 border-red-500 text-red-800 p-3 rounded-lg hover:bg-red-200",children:yn(e)},e.id)))}),0===U.length&&(0,Ft.jsx)("p",{className:"text-center text-gray-500 py-4",children:"No occupied tables to move"})]}),"select-destination"===C&&u&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)("h3",{className:"text-lg font-bold mb-4",children:["Move ",yn(u)," to:"]}),(0,Ft.jsxs)("div",{className:"mb-4",children:[(0,Ft.jsx)("h4",{className:"text-md font-semibold mb-2 text-green-600",children:"Available Tables"}),(0,Ft.jsx)("div",{className:"grid grid-cols-3 gap-2 mb-4",children:B.map((e=>(0,Ft.jsx)("button",{onClick:()=>I(e),className:"bg-green-100 border-2 border-green-500 text-green-800 p-3 rounded-lg hover:bg-green-200",children:yn(e)},e.id)))})]}),(0,Ft.jsxs)("div",{className:"mb-4",children:[(0,Ft.jsx)("h4",{className:"text-md font-semibold mb-2 text-red-600",children:"Occupied Tables (Merge)"}),(0,Ft.jsx)("div",{className:"grid grid-cols-3 gap-2 mb-4",children:U.filter((e=>e.id!==u.id)).map((e=>(0,Ft.jsx)("button",{onClick:()=>I(e),className:"bg-red-100 border-2 border-red-500 text-red-800 p-3 rounded-lg hover:bg-red-200",children:yn(e)},e.id)))})]}),(0,Ft.jsx)("button",{onClick:()=>E("select-source"),className:"w-full bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 mb-2",children:"\u2190 Back"})]}),(0,Ft.jsx)("button",{onClick:M,className:"w-full bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400",children:"Cancel"})]})}),h&&u&&p&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[(0,Ft.jsx)("h3",{className:"text-lg font-bold mb-4 text-orange-600",children:"\u26a0\ufe0f Table Occupied"}),(0,Ft.jsxs)("p",{className:"mb-4",children:[yn(p)," is already occupied with an order. Do you want to ",(0,Ft.jsx)("strong",{children:"merge"})," the orders from ",yn(u),"into ",yn(p),"?"]}),(0,Ft.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:(0,Ft.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,Ft.jsx)("strong",{children:"Note:"})," This will combine all items from both tables into one order on ",yn(p),". ",yn(u)," will become available."]})}),(0,Ft.jsxs)("div",{className:"flex space-x-3",children:[(0,Ft.jsx)("button",{onClick:()=>x(!1),className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400",children:"Cancel"}),(0,Ft.jsx)("button",{onClick:()=>L(u.id,p.id),className:"flex-1 bg-orange-600 text-white py-2 px-4 rounded-lg hover:bg-orange-700",children:"Merge Orders"})]})]})}),g&&y&&j&&w&&k&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Ft.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Ft.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\u26a0\ufe0f Merge Table Orders"}),(0,Ft.jsx)("button",{onClick:()=>b(!1),className:"text-gray-500 hover:text-gray-700 text-xl",children:"\xd7"})]}),(0,Ft.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:(0,Ft.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ft.jsx)("span",{className:"text-yellow-600 text-lg",children:"\u26a0\ufe0f"}),(0,Ft.jsxs)("p",{className:"text-yellow-800 font-medium",children:["Moving ",yn(y)," order to ",yn(j)," (occupied). Orders will be merged together."]})]})}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,Ft.jsxs)("div",{className:"bg-orange-50 rounded-lg p-4",children:[(0,Ft.jsxs)("h3",{className:"text-lg font-semibold text-orange-800 mb-3",children:[yn(y)," Order"]}),(0,Ft.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:(null===(t=w.items)||void 0===t?void 0:t.length)>0?w.items.map(((e,t)=>(0,Ft.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-orange-200",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("span",{className:"font-medium",children:e.menu_item_name}),(0,Ft.jsxs)("span",{className:"text-sm text-orange-600 ml-2",children:["x",e.quantity]})]}),(0,Ft.jsxs)("span",{className:"font-medium",children:["$",(e.price*e.quantity).toFixed(2)]})]},t))):(0,Ft.jsx)("p",{className:"text-orange-600 italic",children:"No items found"})}),(0,Ft.jsx)("div",{className:"border-t border-orange-200 pt-2 mt-2",children:(0,Ft.jsxs)("div",{className:"flex justify-between font-bold text-orange-800",children:[(0,Ft.jsx)("span",{children:"Order Subtotal:"}),(0,Ft.jsxs)("span",{children:["$",(null===(n=w.subtotal)||void 0===n?void 0:n.toFixed(2))||"0.00"]})]})})]}),(0,Ft.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,Ft.jsxs)("h3",{className:"text-lg font-semibold text-blue-800 mb-3",children:[yn(j)," Order"]}),(0,Ft.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:(null===(r=k.items)||void 0===r?void 0:r.length)>0?k.items.map(((e,t)=>(0,Ft.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-blue-200",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("span",{className:"font-medium",children:e.menu_item_name}),(0,Ft.jsxs)("span",{className:"text-sm text-blue-600 ml-2",children:["x",e.quantity]})]}),(0,Ft.jsxs)("span",{className:"font-medium",children:["$",(e.price*e.quantity).toFixed(2)]})]},t))):(0,Ft.jsx)("p",{className:"text-blue-600 italic",children:"No items found"})}),(0,Ft.jsx)("div",{className:"border-t border-blue-200 pt-2 mt-2",children:(0,Ft.jsxs)("div",{className:"flex justify-between font-bold text-blue-800",children:[(0,Ft.jsx)("span",{children:"Order Subtotal:"}),(0,Ft.jsxs)("span",{children:["$",(null===(s=k.subtotal)||void 0===s?void 0:s.toFixed(2))||"0.00"]})]})})]})]}),(0,Ft.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-green-800 mb-3",children:"\ud83d\udcca Merged Order Total"}),(0,Ft.jsxs)("div",{className:"space-y-2",children:[(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{children:"Combined Subtotal:"}),(0,Ft.jsxs)("span",{children:["$",((w.subtotal||0)+(k.subtotal||0)).toFixed(2)]})]}),(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{children:"Estimated Tax (8%):"}),(0,Ft.jsxs)("span",{children:["$",(.08*((w.subtotal||0)+(k.subtotal||0))).toFixed(2)]})]}),(0,Ft.jsxs)("div",{className:"flex justify-between text-lg font-bold text-green-800 border-t border-green-300 pt-2",children:[(0,Ft.jsx)("span",{children:"Final Total:"}),(0,Ft.jsxs)("span",{children:["$",(1.08*((w.subtotal||0)+(k.subtotal||0))).toFixed(2)]})]})]})]}),(0,Ft.jsxs)("div",{className:"flex space-x-4",children:[(0,Ft.jsx)("button",{onClick:()=>b(!1),className:"flex-1 bg-gray-300 text-gray-700 py-3 px-6 rounded-lg font-medium hover:bg-gray-400 transition-colors",children:"Cancel"}),(0,Ft.jsx)("button",{onClick:()=>{L(y.id,j.id),b(!1)},className:"flex-1 bg-orange-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-orange-700 transition-colors",children:"Confirm Merge Tables"})]})]})}),z&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-2xl w-full max-h-96 overflow-y-auto",children:[(0,Ft.jsx)("h3",{className:"text-lg font-bold mb-4 text-red-600",children:"Select Tables to Cancel"}),(0,Ft.jsx)("p",{className:"mb-4 text-gray-600",children:"Select one or more occupied tables to cancel their orders and free them up."}),(0,Ft.jsx)("div",{className:"grid grid-cols-3 gap-3 mb-6",children:U.map((e=>(0,Ft.jsx)("div",{onClick:()=>{const t=O.includes(e.id);A(t?t=>t.filter((t=>t!==e.id)):t=>[...t,e.id])},className:"p-4 rounded-lg border-2 cursor-pointer transition-all ".concat(O.includes(e.id)?"border-red-500 bg-red-50 text-red-700":"border-gray-300 bg-gray-50 text-gray-700 hover:border-red-300"),children:(0,Ft.jsxs)("div",{className:"text-center",children:[(0,Ft.jsx)("div",{className:"text-xl font-bold",children:yn(e)}),(0,Ft.jsx)("div",{className:"text-sm",children:"Occupied"}),O.includes(e.id)&&(0,Ft.jsx)("div",{className:"text-xs text-red-600 mt-1",children:"\u2713 Selected"})]})},e.id)))}),0===U.length&&(0,Ft.jsx)("p",{className:"text-center text-gray-500 py-4",children:"No occupied tables to cancel"}),(0,Ft.jsxs)("div",{className:"flex space-x-3",children:[(0,Ft.jsx)("button",{onClick:()=>{R(!1),A([])},className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400",children:"Cancel"}),O.length>0&&(0,Ft.jsxs)("button",{onClick:()=>{R(!1),P(!0)},className:"flex-1 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700",children:["Cancel Selected (",O.length,")"]})]})]})}),T&&O.length>0&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[(0,Ft.jsx)("h3",{className:"text-lg font-bold mb-4 text-red-600",children:"Confirm Table Cancellation"}),(0,Ft.jsxs)("p",{className:"mb-4",children:["Are you sure you want to cancel ",O.length," table(s)? This will cancel the associated orders and free up the tables."]}),(0,Ft.jsxs)("div",{className:"mb-4 bg-gray-50 rounded-lg p-3",children:[(0,Ft.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Tables to cancel:"}),(0,Ft.jsx)("div",{className:"text-sm text-gray-600",children:O.map((e=>{const t=i.find((t=>t.id===e));return t?yn(t):""})).filter(Boolean).join(", ")})]}),(0,Ft.jsxs)("div",{className:"flex space-x-3",children:[(0,Ft.jsx)("button",{onClick:()=>{P(!1),A([])},className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400",children:"Cancel"}),(0,Ft.jsx)("button",{onClick:async()=>{try{for(const e of O){const t=i.find((t=>t.id===e));t&&t.current_order_id&&await At.post("".concat(It,"/orders/").concat(t.current_order_id,"/cancel"),{reason:"other",notes:"".concat(yn(t)," cancelled via table management")}),await D(e,"available")}P(!1),A([]),alert("".concat(O.length," table(s) cancelled successfully"))}catch(e){console.error("Error cancelling tables:",e),alert("Error cancelling tables")}},className:"flex-1 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700",children:"Confirm Cancel"})]})]})})]})},on=e=>{let{isOpen:t,order:n,onClose:r,onPaymentComplete:s}=e;const[l,i]=(0,a.useState)("card"),[o,c]=(0,a.useState)(""),[u,m]=(0,a.useState)(""),[p,f]=(0,a.useState)(!0),[h,x]=(0,a.useState)(!1),[g,b]=(0,a.useState)(!1),[y,v]=(0,a.useState)(null),{printOrderReceipt:j,connected:N,openPrinterManager:w}=Lt();return t&&n?(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[(0,Ft.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Process Payment"}),(0,Ft.jsx)("div",{className:"mb-4",children:(0,Ft.jsxs)("h4",{className:"font-medium mb-2",children:["Order Total: $",n.total.toFixed(2)]})}),(0,Ft.jsxs)("div",{className:"mb-4",children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method"}),(0,Ft.jsxs)("div",{className:"flex space-x-2",children:[(0,Ft.jsx)("button",{onClick:()=>i("card"),className:"flex-1 py-2 px-4 rounded-lg border ".concat("card"===l?"bg-blue-600 text-white":"bg-white text-gray-700 border-gray-300"),children:"Card"}),(0,Ft.jsx)("button",{onClick:()=>i("cash"),className:"flex-1 py-2 px-4 rounded-lg border ".concat("cash"===l?"bg-blue-600 text-white":"bg-white text-gray-700 border-gray-300"),children:"Cash"})]})]}),"cash"===l&&(0,Ft.jsxs)("div",{className:"mb-4",children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cash Received"}),(0,Ft.jsx)("input",{type:"number",step:"0.01",value:o,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"}),o&&(0,Ft.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Change: $",("cash"===l&&o?Math.max(0,parseFloat(o)-n.total):0).toFixed(2)]})]}),(0,Ft.jsxs)("div",{className:"mb-6",children:[(0,Ft.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Ft.jsx)("input",{type:"checkbox",checked:p,onChange:e=>f(e.target.checked),className:"mr-2"}),(0,Ft.jsx)("label",{className:"text-sm",children:"Print Receipt"})]}),p&&(0,Ft.jsx)("div",{className:"mb-2 p-2 bg-gray-50 rounded-lg",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{className:"text-xs",children:[(0,Ft.jsx)("span",{className:"font-medium",children:"Printer: "}),(0,Ft.jsx)("span",{className:N?"text-green-600":"text-red-600",children:N?"Connected":"Not Connected"})]}),!N&&(0,Ft.jsx)("button",{onClick:w,className:"text-xs bg-blue-600 text-white px-2 py-1 rounded hover:bg-blue-700",children:"Setup"})]})}),(0,Ft.jsxs)("div",{className:"mb-2",children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Receipt (optional)"}),(0,Ft.jsx)("input",{type:"email",value:u,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"customer@email.com"})]})]}),g&&y&&(0,Ft.jsx)("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsx)("span",{className:"text-sm text-green-700",children:"Payment successful!"}),(0,Ft.jsx)("button",{onClick:async()=>{if(y)try{await j(y)}catch(e){alert("Print failed. Please check printer connection.")}},className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700",children:"\ud83d\udda8\ufe0f Print Receipt"})]})}),(0,Ft.jsxs)("div",{className:"flex space-x-3",children:[(0,Ft.jsx)("button",{onClick:r,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400",disabled:h,children:"Cancel"}),(0,Ft.jsx)("button",{onClick:async()=>{x(!0);try{await At.put("".concat(It,"/orders/").concat(n.id,"/status"),{status:"pending"}),alert("Order marked as pay later - moved to active orders"),s(),r()}catch(a){var e,t;alert((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Error processing pay later")}finally{x(!1)}},className:"flex-1 bg-yellow-600 text-white py-2 px-4 rounded-lg hover:bg-yellow-700",disabled:h,children:"Pay Later"}),(0,Ft.jsx)("button",{onClick:async()=>{if("cash"===l&&parseFloat(o)<n.total)alert("Cash received is less than total amount");else{x(!0);try{const e={payment_method:l,cash_received:"cash"===l?parseFloat(o):null,email_receipt:u||null,print_receipt:p},t=await At.post("".concat(It,"/orders/").concat(n.id,"/pay"),e),i=d(d({},n),{},{payment_method:l,change_amount:t.data.change_amount||0,paid_at:(new Date).toISOString()});if(v(i),alert("Payment successful! ".concat("cash"===l?"Change: $".concat(t.data.change_amount.toFixed(2)):"")),p&&N)try{await j(i)}catch(a){console.error("Auto-print failed:",a)}p&&(b(!0),setTimeout((()=>b(!1)),1e4)),setTimeout((()=>{s(),r(),b(!1),v(null)}),g?3e3:1e3)}catch(a){var e,t;alert((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Payment failed")}finally{x(!1)}}},className:"flex-1 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700",disabled:h||"cash"===l&&(!o||parseFloat(o)<n.total),children:h?"Processing...":"Pay Now"})]})]})}):null},cn=e=>{let{isOpen:t,onClose:n,onRemove:r}=e;const[s,l]=(0,a.useState)("wrong_item"),[i,o]=(0,a.useState)("");return t?(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[(0,Ft.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Remove Item - Reason Required"}),(0,Ft.jsxs)("div",{className:"mb-4",children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason"}),(0,Ft.jsxs)("select",{value:s,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Ft.jsx)("option",{value:"wrong_item",children:"Wrong Item Selected"}),(0,Ft.jsx)("option",{value:"customer_changed_mind",children:"Customer Changed Mind"}),(0,Ft.jsx)("option",{value:"other",children:"Other"})]})]}),(0,Ft.jsxs)("div",{className:"mb-6",children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (optional)"}),(0,Ft.jsx)("textarea",{value:i,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3",placeholder:"Additional details..."})]}),(0,Ft.jsxs)("div",{className:"flex space-x-3",children:[(0,Ft.jsx)("button",{onClick:n,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400",children:"Cancel"}),(0,Ft.jsx)("button",{onClick:()=>{r({reason:s,notes:i}),l("wrong_item"),o(""),n()},className:"flex-1 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700",children:"Remove Item"})]})]})}):null},dn=e=>{let{selectedTable:t,editingOrder:n,editingActiveOrder:r,onBack:s,fromTableManagement:l=!1}=e;const{printOrderReceipt:i,connected:o,openPrinterManager:c}=Lt(),[u,m]=(0,a.useState)([]),[p,f]=(0,a.useState)([]),[h,x]=(0,a.useState)([]),[g,b]=(0,a.useState)([]),[y,v]=(0,a.useState)("all"),[j,N]=(0,a.useState)([]),[w,_]=(0,a.useState)(null),[k,S]=(0,a.useState)({name:"",phone:"",address:"",apartment:"",city:"",state:"",zip_code:""}),[C,E]=(0,a.useState)(1),[T,P]=(0,a.useState)([]),[O,A]=(0,a.useState)([]),[z,R]=(0,a.useState)([]),[F,D]=(0,a.useState)([]),L=async(e,t)=>{try{await At.put("".concat(It,"/orders/").concat(e,"/table"),{table_id:t}),alert("Table assigned successfully!")}catch(n){console.error("Error assigning table to order:",n),alert("Failed to assign table to order")}},[M,I]=(0,a.useState)(!1),[U,B]=(0,a.useState)(l||t?"dine_in":"takeout"),[q,$]=(0,a.useState)(0),[H,W]=(0,a.useState)(!1),[V,Q]=(0,a.useState)(null),[G,Y]=(0,a.useState)({}),[K,X]=(0,a.useState)(!1),[J,Z]=(0,a.useState)(!1),[ee,te]=(0,a.useState)(null),[ne,re]=(0,a.useState)(""),[ae,se]=(0,a.useState)(!1),[le,ie]=(0,a.useState)(!1),[oe,ce]=(0,a.useState)([]),[de,ue]=(0,a.useState)(""),[me,pe]=(0,a.useState)(!1),[fe,he]=(0,a.useState)(t||null),[xe,ge]=(0,a.useState)([]),[be,ye]=(0,a.useState)(!1),[ve,je]=(0,a.useState)(null),[Ne,we]=(0,a.useState)(null),[_e,ke]=(0,a.useState)(!1),[Se,Ce]=(0,a.useState)(null),[Ee,Te]=(0,a.useState)([]),[Pe,Oe]=(0,a.useState)(!1),[Ae,ze]=(0,a.useState)([]),[Re,Fe]=(0,a.useState)([]),[De,Le]=(0,a.useState)(!1),[Me,Ie]=(0,a.useState)(null),Ue=async e=>{try{const t=(await At.get("".concat(It,"/customers/").concat(e))).data;S((e=>d(d({},e),{},{name:t.name||e.name,address:t.address||e.address,apartment:t.apartment||e.apartment}))),I(!0)}catch(t){console.log("Customer not found by phone, continuing with manual entry")}},Be=async e=>{try{const t=await At.get("".concat(It,"/customers")),n=t.data.find((t=>t.address&&t.address.toLowerCase().includes(e.toLowerCase())&&t.address.length>0));n&&(S((e=>d(d({},e),{},{name:n.name||e.name,phone:n.phone||e.phone,apartment:n.apartment||e.apartment}))),I(!0))}catch(t){console.log("Error looking up customer by address:",t)}};(0,a.useEffect)((()=>{n?$e():r&&He(),We(),Ve(),Qe(),qe(),Ge()}),[n,r]),(0,a.useEffect)((()=>{const e=e=>{"taxChargesDataChanged"===e.key&&(console.log("Tax and charges data changed, refreshing..."),Ge())};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)}),[]),(0,a.useEffect)((()=>{const e=setInterval((()=>{const e=localStorage.getItem("taxChargesDataChanged"),t=localStorage.getItem("lastTaxChargesCheck")||"0";e&&e!==t&&(console.log("Tax and charges data changed within same window, refreshing..."),Ge(),localStorage.setItem("lastTaxChargesCheck",e))}),1e3);return()=>clearInterval(e)}),[]);const qe=async()=>{try{const e=await At.get("".concat(It,"/tables"));ge(e.data)}catch(e){console.error("Error fetching tables:",e)}},$e=async()=>{try{const e=(await At.get("".concat(It,"/orders/").concat(n.current_order_id))).data;if(_(e),N(e.items),S({name:e.customer_name,phone:e.customer_phone,address:e.customer_address,apartment:e.customer_apartment||"",city:e.customer_city||"",state:e.customer_state||"",zip_code:e.customer_zip_code||""}),B(e.order_type),e.table_id){const t=await At.get("".concat(It,"/tables")),n=t.data.find((t=>t.id===e.table_id));n&&he(n)}}catch(e){console.error("Error loading existing order:",e)}},He=async()=>{const e=r;_(e),N(e.items);let t={name:e.customer_name,phone:e.customer_phone,address:e.customer_address,apartment:e.customer_apartment||"",city:e.customer_city||"",state:e.customer_state||"",zip_code:e.customer_zip_code||""};if(e.customer_id&&!e.customer_apartment&&!e.customer_city&&!e.customer_state&&!e.customer_zip_code)try{const n=(await At.get("".concat(It,"/customers/").concat(e.customer_id))).data;t={name:n.name||e.customer_name,phone:n.phone||e.customer_phone,address:n.address||e.customer_address,apartment:n.apartment||e.customer_apartment||"",city:n.city||e.customer_city||"",state:n.state||e.customer_state||"",zip_code:n.zip_code||e.customer_zip_code||""}}catch(n){console.log("Customer record not found, using order data")}if(S(t),B(e.order_type),Te(e.applied_discount_ids||[]),"delivery"!==e.order_type&&"takeout"!==e.order_type&&"phone_order"!==e.order_type||!(e.customer_name||e.customer_phone||e.customer_address)||I(!0),e.table_id||e.table_number)try{const t=(await At.get("".concat(It,"/tables"))).data;let n=null;e.table_id&&(n=t.find((t=>t.id===e.table_id))),!n&&e.table_number&&(n=t.find((t=>t.number===e.table_number))),n&&he(n)}catch(n){console.error("Error loading assigned table:",n)}else he(null)},We=async()=>{try{const e=await At.get("".concat(It,"/menu/items"));m(e.data)}catch(e){console.error("Error fetching menu items:",e)}},Ve=async()=>{try{const e=await At.get("".concat(It,"/menu/categories"));b(e.data.categories)}catch(e){console.error("Error fetching categories:",e)}},Qe=async()=>{try{const[e,t]=await Promise.all([At.get("".concat(It,"/modifiers/groups")),At.get("".concat(It,"/modifiers"))]);f(e.data),x(t.data)}catch(e){console.error("Error fetching modifier data:",e)}},Ge=async()=>{try{const[e,t,n,r]=await Promise.all([At.get("".concat(It,"/tax-charges/tax-rates")),At.get("".concat(It,"/tax-charges/service-charges")),At.get("".concat(It,"/tax-charges/gratuity-rules")),At.get("".concat(It,"/tax-charges/discount-policies"))]);P(e.data.length>0?e.data:Ye()),A(t.data.length>0?t.data:Ke()),R(n.data.length>0?n.data:Xe()),D(r.data.length>0?r.data:Je())}catch(e){console.error("Error fetching tax/charges data:",e),P(Ye()),A(Ke()),R(Xe()),D(Je()),console.log("Using default tax and charges settings")}},Ye=()=>[{id:crypto.randomUUID(),name:"NYC Sales Tax",type:"percentage",rate:8.25,description:"New York City Sales Tax",category:"sales",applies_to:"subtotal",jurisdiction:"city",tax_id:"NYC-ST-001",active:!0,inclusive:!1},{id:crypto.randomUUID(),name:"State Tax",type:"percentage",rate:4,description:"New York State Tax",category:"sales",applies_to:"subtotal",jurisdiction:"state",tax_id:"NYS-ST-001",active:!0,inclusive:!1}],Ke=()=>[{id:crypto.randomUUID(),name:"Large Party Service Charge",type:"percentage",amount:18,description:"Automatic service charge for parties of 6 or more",applies_to:"subtotal",conditions:["party_size"],party_size_threshold:"6",order_types:["dine_in"],active:!0,mandatory:!0},{id:crypto.randomUUID(),name:"Delivery Fee",type:"fixed",amount:3.5,description:"Standard delivery fee",applies_to:"subtotal",conditions:["order_type"],order_types:["delivery"],active:!0,mandatory:!0}],Xe=()=>[{id:crypto.randomUUID(),name:"Automatic Gratuity - Large Parties",type:"percentage",amount:20,description:"Automatic 20% gratuity for parties of 8+",trigger_condition:"party_size",party_size_min:"8",applies_to_order_types:["dine_in"],auto_apply:!0,customer_can_modify:!0,active:!0},{id:crypto.randomUUID(),name:"High-Value Order Gratuity",type:"percentage",amount:15,description:"Suggested 15% gratuity for orders over $200",trigger_condition:"order_amount",order_amount_min:"200",applies_to_order_types:["dine_in","delivery"],auto_apply:!1,customer_can_modify:!0,active:!0}],Je=()=>[{id:crypto.randomUUID(),name:"Employee Discount",type:"percentage",amount:25,description:"25% discount for staff members",category:"employee",conditions:["requires_code"],discount_code:"STAFF25",stackable:!1,active:!0,max_uses_per_day:"50"},{id:crypto.randomUUID(),name:"Senior Citizen Discount",type:"percentage",amount:10,description:"10% discount for seniors (65+)",category:"senior",conditions:["time_based"],valid_days:["monday","tuesday","wednesday","thursday"],valid_hours_start:"14:00",valid_hours_end:"17:00",stackable:!0,active:!0}],Ze=(e,t)=>{if(t<=0)return void et(e);const n=[...j];n[e].quantity=t;const r=n[e].modifiers.reduce(((e,t)=>e+t.price),0);n[e].total_price=(n[e].base_price+r)*t,N(n)},et=e=>{te(e),Z(!0)},tt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee;const t=j.reduce(((e,t)=>e+t.total_price),0),n=T.filter((e=>!!e.active&&(!e.applies_to_order_types||0===e.applies_to_order_types.length||e.applies_to_order_types.includes(U)))),r=O.filter((e=>!!e.active&&(!e.applies_to_order_types||0===e.applies_to_order_types.length||e.applies_to_order_types.includes(U)))),a=z.filter((e=>!!e.active&&(!e.applies_to_order_types||0===e.applies_to_order_types.length||e.applies_to_order_types.includes(U))));F.filter((e=>e.active));let s=0;const l=[];for(const p of n){let e=0;"percentage"===p.type?e=t*(p.rate/100):"fixed"===p.type&&(e=p.rate),l.push({name:p.name,type:"tax",amount:e,rate:p.rate,taxType:p.type}),s+=e}let i=0;const o=[];for(const p of r){if(p.applies_to_order_types&&p.applies_to_order_types.length>0&&!p.applies_to_order_types.includes(U))continue;let e;if(e=!1===p.applies_to_subtotal?t+s:t,p.minimum_order_amount&&p.minimum_order_amount>0&&e<p.minimum_order_amount)continue;if(p.maximum_order_amount&&p.maximum_order_amount>0&&e>p.maximum_order_amount)continue;let n=0;"percentage"===p.type?n=!1===p.applies_to_subtotal?(t+s)*(p.amount/100):t*(p.amount/100):"fixed"===p.type&&(n=p.amount),o.push({name:p.name,type:"service_charge",amount:n,rate:p.amount,chargeType:p.type}),i+=n}let c=0;const d=[];for(const p of a){if(p.minimum_order_amount>0&&t<p.minimum_order_amount)continue;if(p.maximum_order_amount>0&&t>p.maximum_order_amount)continue;if(p.party_size_minimum>0&&C<p.party_size_minimum)continue;let e=0;"percentage"===p.type?e=t*(p.amount/100):"fixed"===p.type&&(e=p.amount),d.push({name:p.name,type:"gratuity",amount:e,rate:p.amount,gratuityType:p.type,conditions:{minimum_order:p.minimum_order_amount,maximum_order:p.maximum_order_amount,party_size_min:p.party_size_minimum}}),c+=e}let u=0;const m=[];if(e&&e.length>0)for(const p of e){const e=F.find((e=>e.id===p));if(e&&e.active){let n=!0;if(e.minimum_order_amount>0&&t<e.minimum_order_amount&&(n=!1),e.applies_to_order_types&&e.applies_to_order_types.length>0&&!e.applies_to_order_types.includes(U)&&(n=!1),n){let n=0;n="percentage"===e.type?t*(e.amount/100):e.amount,u+=n,m.push({name:e.name,type:e.type,rate:e.amount,amount:n})}}}return{subtotal:t,taxes:s,serviceCharges:i,gratuity:c,discounts:u,total:t+s+i+c-u,breakdown:{taxes:l,serviceCharges:o,gratuity:d,discounts:m}}},nt=async()=>{if(0!==j.length){if(k.phone&&k.name&&!w)try{await At.get("".concat(It,"/customers/").concat(k.phone))}catch(n){var e;if(404===(null===(e=n.response)||void 0===e?void 0:e.status))try{const e={name:k.name,phone:k.phone,address:k.address||"",email:"",notes:"Auto-created from order on ".concat((new Date).toLocaleDateString())};await At.post("".concat(It,"/customers"),e),console.log("New customer auto-created successfully")}catch(r){console.error("Error auto-creating customer:",r)}}try{const e={customer_name:k.name,customer_phone:k.phone,customer_address:k.address,table_id:(null===fe||void 0===fe?void 0:fe.id)||(null===t||void 0===t?void 0:t.id)||null,party_size:C,items:j.map((e=>({menu_item_id:e.menu_item_id,quantity:e.quantity,modifiers:e.modifiers,special_instructions:""}))),order_type:U,tip:0,delivery_instructions:"",order_notes:ne,applied_discount_ids:Ee},n=await At.post("".concat(It,"/orders"),e);return _(n.data),n.data}catch(n){return console.error("Error creating order:",n),alert("Error creating order. Please try again."),null}}else alert("Please add items to your order")},rt=async()=>{if(w)try{const e={customer_name:k.name,customer_phone:k.phone,customer_address:k.address,table_id:(null===t||void 0===t?void 0:t.id)||w.table_id,party_size:C,items:j.map((e=>({menu_item_id:e.menu_item_id,quantity:e.quantity,modifiers:e.modifiers,special_instructions:""}))),order_type:U,tip:0,delivery_instructions:"",order_notes:ne,applied_discount_ids:Ee},n=(await At.put("".concat(It,"/orders/").concat(w.id),e)).data;return _(n),n}catch(e){throw console.error("Error updating order:",e),e}},at=async()=>{if(w)try{const e=await At.get("".concat(It,"/orders/").concat(w.id,"/available-discounts"));ze(e.data)}catch(e){console.error("Error fetching available discounts:",e)}},[st,lt]=(0,a.useState)({subtotal:0,taxes:0,serviceCharges:0,gratuity:0,discounts:0,total:0,breakdown:{taxes:[],serviceCharges:[],gratuity:[],discounts:[]}});(0,a.useEffect)((()=>{if(j.length>0){console.log("\ud83d\udd0d DEBUG: Updating totals for cart:",j);const e=tt();console.log("\ud83d\udd0d DEBUG: Calculated totals with detailed breakdown:",e),lt(e)}else lt({subtotal:0,taxes:0,serviceCharges:0,gratuity:0,discounts:0,total:0,breakdown:{taxes:[],serviceCharges:[],gratuity:[],discounts:[]}})}),[j,w,r,n,T,O,z,F,U]);const it="all"===y?u:u.filter((e=>e.category===y)),{subtotal:ot,taxes:ct,serviceCharges:dt,gratuity:ut,discounts:mt,total:pt,breakdown:ft}=st;return(0,Ft.jsxs)("div",{className:"bg-gray-50 min-h-screen",children:[(0,Ft.jsx)("div",{className:"bg-white shadow-sm border-b p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("button",{onClick:s,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800",children:[(0,Ft.jsx)("span",{children:"\u2190"}),(0,Ft.jsx)("span",{children:"Back"})]}),(0,Ft.jsx)("h1",{className:"text-xl font-bold",children:n?"Edit ".concat(yn(n)," Order"):r?"Edit Order ".concat(r.order_number):t?"New Order - ".concat(yn(t)):"New Order"}),(0,Ft.jsxs)("div",{className:"text-right",children:[(0,Ft.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["$",pt.toFixed(2)]}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-600",children:[j.length," items"]})]})]})}),(0,Ft.jsxs)("div",{className:"flex h-screen",children:[(0,Ft.jsxs)("div",{className:"flex-1 p-6",children:[!l&&(0,Ft.jsx)("div",{className:"mb-6",children:(0,Ft.jsx)("div",{className:"flex space-x-2",children:[{value:"dine_in",label:"Dine In"},{value:"takeout",label:"Takeout"},{value:"delivery",label:"Delivery"}].map((e=>(0,Ft.jsx)("button",{onClick:()=>B(e.value),className:"px-4 py-2 rounded-lg font-medium ".concat(U===e.value?"bg-blue-600 text-white":"bg-white text-gray-700 border hover:bg-gray-50"),children:e.label},e.value)))})}),l&&(0,Ft.jsx)("div",{className:"mb-6",children:(0,Ft.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[(0,Ft.jsx)("span",{className:"text-blue-800 font-medium",children:"Order Type: Dine In"}),(0,Ft.jsx)("span",{className:"text-blue-600 text-sm ml-2",children:"(Table Management Mode)"})]})}),"dine_in"===U&&!l&&(0,Ft.jsxs)("div",{className:"mb-6 bg-white rounded-xl p-4",children:[(0,Ft.jsx)("h3",{className:"font-bold text-lg mb-4",children:"Selected Table"}),!1,fe?(0,Ft.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg border border-blue-200",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("span",{className:"font-medium",children:yn(fe)}),(0,Ft.jsxs)("span",{className:"text-sm text-gray-600 ml-2",children:["(",fe.status,")"]})]}),!l&&!r&&(0,Ft.jsx)("button",{onClick:()=>pe(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 text-sm font-medium",children:"Change Table"}),r&&(0,Ft.jsx)("span",{className:"text-sm text-green-600 font-medium",children:"(Assigned Table)"})]}):r&&w&&w.table_id?(0,Ft.jsx)("div",{className:"text-center bg-green-50 border border-green-200 rounded-lg p-3",children:(0,Ft.jsxs)("span",{className:"text-green-700 font-medium",children:["Table ",w.table_number," (Already Assigned)"]})}):l?(0,Ft.jsx)("div",{className:"text-center bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,Ft.jsx)("span",{className:"text-blue-700 font-medium",children:"Table Management Mode - Loading..."})}):(0,Ft.jsx)("div",{className:"text-center",children:(0,Ft.jsx)("button",{onClick:()=>pe(!0),className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 text-lg font-medium",children:"Choose Table"})})]}),"delivery"===U&&(0,Ft.jsx)("div",{className:"mb-6 bg-white rounded-xl p-4",children:M?(0,Ft.jsxs)("div",{children:[(0,Ft.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ft.jsx)("h3",{className:"font-bold text-lg",children:"Customer Information"}),(0,Ft.jsx)("button",{onClick:()=>se(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 text-sm font-medium",children:"Edit Customer"})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Name"}),(0,Ft.jsx)("input",{type:"text",placeholder:"Customer Name",value:k.name,onChange:e=>S(d(d({},k),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),(0,Ft.jsx)("input",{type:"tel",placeholder:"Phone Number",value:k.phone,onChange:e=>(async e=>{S((t=>d(d({},t),{},{phone:e}))),e.length>=10&&await Ue(e)})(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Party Size"}),(0,Ft.jsx)("input",{type:"number",min:"1",max:"50",placeholder:"Number of people",value:C,onChange:e=>E(parseInt(e.target.value)||1),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Ft.jsxs)("div",{className:"md:col-span-2",children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address"}),(0,Ft.jsx)("input",{type:"text",placeholder:"Street Address",value:k.address,onChange:e=>(async e=>{S((t=>d(d({},t),{},{address:e}))),e.length>=10&&await Be(e)})(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Apartment/Unit"}),(0,Ft.jsx)("input",{type:"text",placeholder:"Apt, Suite, Unit",value:k.apartment,onChange:e=>S(d(d({},k),{},{apartment:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[(0,Ft.jsxs)("div",{className:"md:col-span-2",children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),(0,Ft.jsx)("input",{type:"text",placeholder:"City",value:k.city,onChange:e=>S(d(d({},k),{},{city:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),(0,Ft.jsx)("input",{type:"text",placeholder:"State",value:k.state,onChange:e=>S(d(d({},k),{},{state:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,Ft.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),(0,Ft.jsx)("input",{type:"text",placeholder:"ZIP Code",value:k.zip_code,onChange:e=>S(d(d({},k),{},{zip_code:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})})]}):(0,Ft.jsxs)("div",{className:"text-center",children:[(0,Ft.jsx)("h3",{className:"font-semibold text-lg mb-4 text-gray-700",children:"Customer Information"}),(0,Ft.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[(0,Ft.jsxs)("button",{onClick:()=>{(async()=>{try{const e=await At.get("".concat(It,"/customers"));ce(e.data)}catch(e){console.error("Error fetching customers:",e),ce([])}})(),ie(!0)},className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 text-lg font-medium flex items-center justify-center",children:[(0,Ft.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ft.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Select Existing Customer"]}),(0,Ft.jsxs)("button",{onClick:()=>se(!0),className:"bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 text-lg font-medium flex items-center justify-center",children:[(0,Ft.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ft.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add New Customer"]})]})]})}),(0,Ft.jsx)("div",{className:"mb-6",children:(0,Ft.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,Ft.jsx)("button",{onClick:()=>v("all"),className:"px-4 py-2 rounded-lg ".concat("all"===y?"bg-blue-600 text-white":"bg-white text-gray-700 border hover:bg-gray-50"),children:"All"}),g.map((e=>(0,Ft.jsx)("button",{onClick:()=>v(e),className:"px-4 py-2 rounded-lg ".concat(y===e?"bg-blue-600 text-white":"bg-white text-gray-700 border hover:bg-gray-50"),children:e},e)))]})}),(0,Ft.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:it.map((e=>(0,Ft.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm hover:shadow-md transition-shadow",children:[e.image_url&&(0,Ft.jsx)("img",{src:e.image_url,alt:e.name,className:"w-full h-32 object-cover rounded-lg mb-3"}),(0,Ft.jsx)("h3",{className:"font-semibold text-gray-800 mb-1",children:e.name}),(0,Ft.jsx)("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:e.description}),(0,Ft.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ft.jsxs)("span",{className:"text-lg font-bold text-green-600",children:["$",e.price.toFixed(2)]}),(0,Ft.jsx)("button",{onClick:()=>(e=>{if(e.modifier_groups&&e.modifier_groups.length>0)Q(e),Y({}),W(!0);else{const t={menu_item_id:e.id,menu_item_name:e.name,quantity:1,base_price:e.price,modifiers:[],total_price:e.price},n=j.findIndex((t=>t.menu_item_id===e.id&&0===t.modifiers.length));if(n>=0){const e=[...j];e[n].quantity+=1,e[n].total_price=e[n].base_price*e[n].quantity,N(e)}else N([...j,t])}})(e),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add"})]})]},e.id)))})]}),(0,Ft.jsxs)("div",{className:"w-96 bg-white shadow-lg p-6 overflow-y-auto",children:[(0,Ft.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Order Summary"}),(0,Ft.jsx)("div",{className:"space-y-3 mb-6",children:j.map(((e,t)=>(0,Ft.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,Ft.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,Ft.jsx)("h4",{className:"font-medium",children:e.menu_item_name}),(0,Ft.jsx)("button",{onClick:()=>et(t),className:"text-red-600 hover:text-red-800 text-sm",children:"\xd7"})]}),e.modifiers.length>0&&(0,Ft.jsx)("div",{className:"text-xs text-gray-600 mb-2",children:e.modifiers.map((e=>e.name)).join(", ")}),(0,Ft.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ft.jsx)("button",{onClick:()=>Ze(t,e.quantity-1),className:"w-6 h-6 bg-gray-200 rounded text-sm hover:bg-gray-300",children:"-"}),(0,Ft.jsx)("span",{className:"w-8 text-center",children:e.quantity}),(0,Ft.jsx)("button",{onClick:()=>Ze(t,e.quantity+1),className:"w-6 h-6 bg-gray-200 rounded text-sm hover:bg-gray-300",children:"+"})]}),(0,Ft.jsxs)("span",{className:"font-medium",children:["$",e.total_price.toFixed(2)]})]})]},t)))}),(0,Ft.jsxs)("div",{className:"border-t pt-4 space-y-2 mb-6",children:[(0,Ft.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Ft.jsx)("span",{children:"Subtotal:"}),(0,Ft.jsxs)("span",{children:["$",ot.toFixed(2)]})]}),ft.taxes.map(((e,t)=>(0,Ft.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,Ft.jsxs)("span",{children:[e.name," (","percentage"===e.taxType?"".concat(e.rate,"%"):"$".concat(e.rate),"):"]}),(0,Ft.jsxs)("span",{children:["$",e.amount.toFixed(2)]})]},t))),ft.serviceCharges.map(((e,t)=>(0,Ft.jsxs)("div",{className:"flex justify-between text-sm text-blue-600",children:[(0,Ft.jsxs)("span",{children:[e.name," (","percentage"===e.chargeType?"".concat(e.rate,"%"):"$".concat(e.rate),"):"]}),(0,Ft.jsxs)("span",{children:["$",e.amount.toFixed(2)]})]},t))),ft.gratuity.map(((e,t)=>(0,Ft.jsxs)("div",{className:"flex justify-between text-sm text-green-600",children:[(0,Ft.jsxs)("span",{children:[e.name," (","percentage"===e.gratuityType?"".concat(e.rate,"%"):"$".concat(e.rate),"):"]}),(0,Ft.jsxs)("span",{children:["$",e.amount.toFixed(2)]})]},t))),ft.discounts.map(((e,t)=>(0,Ft.jsxs)("div",{className:"flex justify-between text-sm text-red-600",children:[(0,Ft.jsxs)("span",{children:[e.name," (","percentage"===e.type?"".concat(e.rate,"%"):"$".concat(e.rate),"):"]}),(0,Ft.jsxs)("span",{children:["-$",e.amount.toFixed(2)]})]},t))),(0,Ft.jsxs)("div",{className:"flex justify-between font-bold text-lg border-t pt-2",children:[(0,Ft.jsx)("span",{children:"Total:"}),(0,Ft.jsxs)("span",{children:["$",pt.toFixed(2)]})]})]}),(0,Ft.jsxs)("div",{className:"mb-4",children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Notes"}),(0,Ft.jsx)("textarea",{value:ne,onChange:e=>re(e.target.value),placeholder:"Add special instructions or comments for this order...",rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),(0,Ft.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"These notes will appear on the receipt"})]}),(0,Ft.jsxs)("div",{className:"space-y-3",children:[(r||n)&&(0,Ft.jsx)("button",{onClick:async()=>{await at(),await(async()=>{if(w)try{const e=await At.get("".concat(It,"/orders/").concat(w.id,"/available-service-charges"));Fe(e.data)}catch(e){console.error("Error fetching available service charges:",e)}})(),Oe(!0)},className:"w-full bg-purple-600 text-white py-3 px-4 rounded-lg hover:bg-purple-700 font-semibold",children:"Manage Discounts & Charges"}),(0,Ft.jsx)("button",{onClick:async()=>{let e=w;(e||(e=await nt(),e))&&X(!0)},className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 text-lg font-semibold",children:"Checkout"}),(0,Ft.jsx)("button",{onClick:async()=>{let e=w;if(e)try{await rt(),alert("Order updated successfully!"),s()}catch(l){var t,n;console.error("Error updating order:",l),alert((null===(t=l.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Error updating order")}else{if(e=await nt(),!e)return;try{await At.post("".concat(It,"/orders/").concat(e.id,"/send")),alert("Order sent successfully!"),s()}catch(l){var r,a;console.error("Error sending order:",l),alert((null===(r=l.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.detail)||"Error sending order")}}},className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 font-semibold",children:"Send"}),(0,Ft.jsx)("button",{onClick:async()=>{if(o)try{const e=tt(),n=w||d(d({},e),{},{items:j,customer_name:k.name,customer_phone:k.phone,customer_address:k.address,order_type:U,table_number:(null===fe||void 0===fe?void 0:fe.number)||(null===t||void 0===t?void 0:t.number),created_at:(new Date).toISOString(),order_number:"TEMP-".concat(Date.now())});await i(n)}catch(e){console.error("Print receipt error:",e),alert("Failed to print receipt. Please check printer connection.")}else{window.confirm("Printer not connected. Would you like to set up the printer now?")&&c()}},className:"w-full bg-gray-600 text-white py-3 px-4 rounded-lg hover:bg-gray-700 font-semibold",children:"Print Receipt"})]})]})]}),H&&V&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-md w-full max-h-96 overflow-y-auto",children:[(0,Ft.jsxs)("h3",{className:"text-lg font-bold mb-4",children:["Customize ",V.name]}),V.modifier_groups&&V.modifier_groups.length>0?V.modifier_groups.map((e=>{const t=p.find((t=>t.id===e));if(!t)return null;const n=h.filter((t=>t.group_id===e));return(0,Ft.jsxs)("div",{className:"mb-4",children:[(0,Ft.jsxs)("h4",{className:"font-medium mb-2",children:[t.name," ",t.required&&(0,Ft.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Ft.jsx)("div",{className:"space-y-2",children:n.map((n=>(0,Ft.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Ft.jsx)("input",{type:1===t.max_selections?"radio":"checkbox",name:"group-".concat(e),onChange:r=>{const a=d({},G);a[e]||(a[e]=[]),1===t.max_selections?a[e]=r.target.checked?[n.id]:[]:r.target.checked?a[e].push(n.id):a[e]=a[e].filter((e=>e!==n.id)),Y(a)}}),(0,Ft.jsx)("span",{className:"flex-1",children:n.name}),n.price>0&&(0,Ft.jsxs)("span",{className:"text-green-600",children:["+$",n.price.toFixed(2)]})]},n.id)))})]},e)})):(0,Ft.jsx)("p",{className:"text-gray-500 mb-4",children:"No modifiers available for this item."}),(0,Ft.jsxs)("div",{className:"flex space-x-3 mt-6",children:[(0,Ft.jsx)("button",{onClick:()=>W(!1),className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400",children:"Cancel"}),(0,Ft.jsx)("button",{onClick:()=>{if(!V)return;const e=[];let t=0;Object.entries(G).forEach((n=>{let[r,a]=n;a.forEach((n=>{const r=h.find((e=>e.id===n));r&&(e.push({modifier_id:r.id,name:r.name,price:r.price}),t+=r.price)}))}));const n={menu_item_id:V.id,menu_item_name:V.name,quantity:1,base_price:V.price,modifiers:e,total_price:V.price+t};N([...j,n]),W(!1),Q(null)},className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700",children:"Add to Cart"})]})]})}),(0,Ft.jsx)(on,{isOpen:K,order:w||d(d({},st),{},{id:"temp"}),onClose:()=>X(!1),onPaymentComplete:()=>{X(!1),s()}}),(0,Ft.jsx)(cn,{isOpen:J,onClose:()=>Z(!1),onRemove:async e=>{if(w)try{if(await At.delete("".concat(It,"/orders/").concat(w.id,"/items/").concat(ee),{data:e}),r){const e=(await At.get("".concat(It,"/orders/").concat(w.id))).data;_(e),N(e.items),0===e.items.length&&(Ce(e),ke(!0))}else if(n){const e=(await At.get("".concat(It,"/orders/").concat(n.current_order_id))).data;_(e),N(e.items),0===e.items.length&&(Ce(e),ke(!0))}}catch(t){console.error("Error removing item from order:",t),alert("Failed to remove item from order")}else{const e=j.filter(((e,t)=>t!==ee));N(e)}}}),ae&&(0,Ft.jsx)(en,{customer:{},onSave:async e=>{try{const t=(await At.post("".concat(It,"/customers"),e)).data;S({name:t.name,phone:t.phone,address:t.address,apartment:t.apartment||"",city:t.city||"",state:t.state||"",zip_code:t.zip_code||""}),I(!0),se(!1)}catch(t){console.error("Error creating customer:",t),alert("Failed to create customer")}},onClose:()=>se(!1)}),le&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[80vh] overflow-hidden",children:[(0,Ft.jsx)("div",{className:"p-6 border-b",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsx)("h2",{className:"text-xl font-semibold",children:"Select Existing Customer"}),(0,Ft.jsx)("button",{onClick:()=>ie(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\xd7"})]})}),(0,Ft.jsxs)("div",{className:"p-6",children:[(0,Ft.jsx)("div",{className:"mb-4",children:(0,Ft.jsx)("input",{type:"text",placeholder:"Search customers by name or phone...",value:de,onChange:e=>ue(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})}),(0,Ft.jsx)("div",{className:"max-h-96 overflow-y-auto",children:0===oe.filter((e=>e.name.toLowerCase().includes(de.toLowerCase())||e.phone.includes(de))).length?(0,Ft.jsx)("div",{className:"text-center py-8",children:(0,Ft.jsx)("span",{className:"text-gray-500",children:de?"No customers found matching your search.":"No customers found."})}):(0,Ft.jsx)("div",{className:"grid grid-cols-1 gap-3",children:oe.filter((e=>e.name.toLowerCase().includes(de.toLowerCase())||e.phone.includes(de))).map((e=>{var t;return(0,Ft.jsx)("div",{onClick:()=>(e=>{S({name:e.name,phone:e.phone,address:e.address,apartment:e.apartment||"",city:e.city||"",state:e.state||"",zip_code:e.zip_code||""}),I(!0),ie(!1),ue("")})(e),className:"p-4 border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 cursor-pointer transition-colors",children:(0,Ft.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Ft.jsxs)("div",{className:"flex-1",children:[(0,Ft.jsx)("h3",{className:"font-medium text-gray-900",children:e.name}),(0,Ft.jsx)("p",{className:"text-sm text-gray-600",children:e.phone}),e.address&&(0,Ft.jsxs)("p",{className:"text-sm text-gray-500",children:[e.apartment&&"".concat(e.apartment," "),e.address,e.city&&", ".concat(e.city),e.state&&", ".concat(e.state),e.zip_code&&" ".concat(e.zip_code)]})]}),(0,Ft.jsx)("div",{className:"text-right",children:e.total_orders>0&&(0,Ft.jsxs)("div",{className:"text-xs text-gray-500",children:[e.total_orders," orders \u2022 $",(null===(t=e.total_spent)||void 0===t?void 0:t.toFixed(2))||"0.00"]})})]})},e.id)}))})})]}),(0,Ft.jsx)("div",{className:"p-6 border-t bg-gray-50",children:(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("button",{onClick:()=>{ie(!1),se(!0)},className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700",children:"Add New Customer"}),(0,Ft.jsx)("button",{onClick:()=>ie(!1),className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400",children:"Cancel"})]})})]})}),me&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-md w-full max-h-96 overflow-y-auto",children:[(0,Ft.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Ft.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Select Table"}),(0,Ft.jsx)("button",{onClick:()=>pe(!1),className:"text-gray-500 hover:text-gray-700 text-xl",children:"\xd7"})]}),(0,Ft.jsx)("div",{className:"grid grid-cols-2 gap-3",children:xe.map((e=>(0,Ft.jsxs)("button",{onClick:()=>{"occupied"===e.status?(Ie(e),Le(!0)):"cleaning"===e.status?alert("".concat(yn(e)," is currently being cleaned. Please select another table.")):(he(e),pe(!1),r&&w&&L(w.id,e.id))},className:"p-4 rounded-lg border-2 text-center font-medium transition-colors ".concat("available"===e.status?"border-green-500 bg-green-50 text-green-700 hover:bg-green-100":"occupied"===e.status?"border-orange-500 bg-orange-50 text-orange-700 hover:bg-orange-100":"border-red-500 bg-red-50 text-red-700 cursor-not-allowed"),disabled:!1,children:[(0,Ft.jsx)("div",{className:"text-lg font-bold",children:yn(e)}),(0,Ft.jsx)("div",{className:"text-sm capitalize",children:e.status}),"occupied"===e.status&&(0,Ft.jsx)("div",{className:"text-xs mt-1 bg-orange-200 px-2 py-1 rounded",children:"\u26a0\ufe0f Occupied - Click for options"}),"cleaning"===e.status&&(0,Ft.jsx)("div",{className:"text-xs mt-1 bg-red-200 px-2 py-1 rounded",children:"\ud83e\uddf9 Being cleaned"}),"available"===e.status&&(0,Ft.jsx)("div",{className:"text-xs mt-1 bg-green-200 px-2 py-1 rounded",children:"\u2705 Available"})]},e.id)))})]})}),be&&ve&&(0,Ft.jsx)(mn,{occupiedTable:ve,currentCart:j,currentOrderInfo:{orderType:U,customerInfo:k,orderNotes:ne,tip:q},onConfirmMerge:async()=>{try{if(pe(!1),0===j.length)return alert("No items in cart to merge"),void ye(!1);const e={customer_name:k.name,customer_phone:k.phone,customer_address:k.address,customer_apartment:k.apartment,customer_city:k.city,customer_state:k.state,customer_zip_code:k.zip_code,order_type:U,table_number:ve.number,items:j.map((e=>({menu_item_id:e.menu_item_id||e.id,menu_item_name:e.menu_item_name||e.name,quantity:e.quantity,price:e.base_price||e.price,modifiers:e.modifiers||e.selectedModifiers||[]}))),tip:q,order_notes:ne,status:"pending"},t=j.reduce(((e,t)=>e+(t.total_price||t.price*t.quantity||0)),0);e.subtotal=t;const n=(await At.post("".concat(It,"/orders"),e)).data.id;await At.put("".concat(It,"/orders/").concat(n,"/status"),{status:"confirmed"});const r=(await At.post("".concat(It,"/tables"),{number:9999,capacity:1,status:"occupied",current_order_id:n})).data.id;await At.post("".concat(It,"/tables/").concat(r,"/merge"),{new_table_id:ve.id}),await At.delete("".concat(It,"/tables/").concat(r)),alert("Order successfully merged with ".concat(yn(ve),"!")),N([]),S({name:"",phone:"",address:"",apartment:""}),re(""),$(0),he(ve),ye(!1)}catch(n){var e,t;console.error("Error merging orders:",n),alert((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to merge orders")}},onCancel:()=>{ye(!1),je(null)}}),_e&&Se&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ft.jsx)("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:(0,Ft.jsxs)("div",{className:"text-center",children:[(0,Ft.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-yellow-100 mb-4",children:(0,Ft.jsx)("span",{className:"text-yellow-600 text-2xl",children:"\u26a0\ufe0f"})}),(0,Ft.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Order is Now Empty"}),(0,Ft.jsxs)("p",{className:"text-sm text-gray-500 mb-6",children:["You've removed all items from Order #",Se.order_number,". What would you like to do with this empty order?"]}),(0,Ft.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,Ft.jsx)("button",{onClick:async()=>{try{await At.post("".concat(It,"/orders/").concat(Se.id,"/cancel"),{reason:"empty_order",notes:"Order cancelled because all items were removed"}),alert("Order cancelled successfully"),ke(!1),Ce(null),s&&s(),n&&l&&setTimeout((()=>{window.location.reload()}),1e3)}catch(r){var e,t;console.error("Error cancelling empty order:",r),alert("Failed to cancel order: ".concat((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||r.message))}},className:"w-full bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors font-medium",children:"Cancel Order"}),(0,Ft.jsx)("button",{onClick:()=>{ke(!1),Ce(null)},className:"w-full bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors font-medium",children:"Keep Order (Add Items Later)"})]}),(0,Ft.jsxs)("div",{className:"mt-4 text-xs text-gray-400",children:["Order Info: ","dine_in"===Se.order_type?vn(Se):Se.order_type,Se.customer_name&&" \u2022 ".concat(Se.customer_name)]})]})})}),Pe&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-4xl w-full max-h-96 overflow-y-auto",children:[(0,Ft.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Ft.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Manage Order Discounts & Charges"}),(0,Ft.jsx)("button",{onClick:()=>Oe(!1),className:"text-gray-500 hover:text-gray-700 text-xl",children:"\xd7"})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Applied Discounts"}),(0,Ft.jsx)("div",{className:"space-y-2 mb-4",children:Ee.length>0?Ee.map((e=>{const t=F.find((t=>t.id===e));return t?(0,Ft.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:(0,Ft.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"font-medium text-green-800",children:t.name}),(0,Ft.jsxs)("div",{className:"text-sm text-green-600",children:["percentage"===t.type?"".concat(t.amount,"%"):"$".concat(t.amount.toFixed(2)),t.description&&" - ".concat(t.description)]})]}),(0,Ft.jsx)("button",{onClick:()=>(async e=>{try{const t=await At.post("".concat(It,"/orders/").concat(w.id,"/remove-discount"),{discount_id:e});_(t.data),Te(t.data.applied_discount_ids||[]),await at(),alert("Discount removed successfully!")}catch(r){var t,n;console.error("Error removing discount:",r),alert("Failed to remove discount: "+((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||r.message))}})(e),className:"bg-red-500 text-white px-3 py-1 rounded text-sm hover:bg-red-600",children:"Remove"})]})},e):null})):(0,Ft.jsx)("p",{className:"text-gray-500 text-sm",children:"No discounts applied"})}),(0,Ft.jsx)("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Available Discounts"}),(0,Ft.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Ae.length>0?Ae.map((e=>(0,Ft.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:(0,Ft.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"font-medium text-gray-800",children:e.name}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-600",children:["percentage"===e.type?"".concat(e.amount,"%"):"$".concat(e.amount.toFixed(2)),e.description&&" - ".concat(e.description)]})]}),(0,Ft.jsx)("button",{onClick:()=>(async e=>{try{const t=await At.post("".concat(It,"/orders/").concat(w.id,"/apply-discount"),{discount_id:e});_(t.data),Te(t.data.applied_discount_ids||[]),await at(),alert("Discount applied successfully!")}catch(r){var t,n;console.error("Error applying discount:",r),alert("Failed to apply discount: "+((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||r.message))}})(e.id),className:"bg-green-500 text-white px-3 py-1 rounded text-sm hover:bg-green-600",children:"Apply"})]})},e.id))):(0,Ft.jsx)("p",{className:"text-gray-500 text-sm",children:"No available discounts for this order"})})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Available Service Charges"}),(0,Ft.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:Re.length>0?Re.map((e=>(0,Ft.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,Ft.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"font-medium text-blue-800",children:e.name}),(0,Ft.jsxs)("div",{className:"text-sm text-blue-600",children:["percentage"===e.type?"".concat(e.amount,"%"):"$".concat(e.amount.toFixed(2)),e.description&&" - ".concat(e.description)]}),(0,Ft.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Applies to: ",e.applies_to_subtotal?"Subtotal":"Total with Tax"]})]}),(0,Ft.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs",children:"Auto-Applied"})]})},e.id))):(0,Ft.jsx)("p",{className:"text-gray-500 text-sm",children:"No additional service charges available"})}),(0,Ft.jsx)("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,Ft.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,Ft.jsx)("strong",{children:"Note:"})," Service charges are automatically applied based on order conditions. Only non-mandatory service charges can be manually managed here. Taxes cannot be modified."]})})]})]}),(0,Ft.jsx)("div",{className:"mt-6 flex justify-end",children:(0,Ft.jsx)("button",{onClick:()=>Oe(!1),className:"bg-gray-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700",children:"Close"})})]})}),De&&Me&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-lg w-full",children:[(0,Ft.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ft.jsx)("h3",{className:"text-xl font-bold text-orange-600",children:"\u26a0\ufe0f Table Assignment Conflict"}),(0,Ft.jsx)("button",{onClick:()=>{Le(!1),Ie(null)},className:"text-gray-500 hover:text-gray-700 text-xl",children:"\xd7"})]}),(0,Ft.jsxs)("div",{className:"mb-6",children:[(0,Ft.jsx)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-4",children:(0,Ft.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ft.jsx)("div",{className:"flex-shrink-0",children:(0,Ft.jsx)("span",{className:"text-2xl",children:"\ud83c\udf7d\ufe0f"})}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsxs)("h4",{className:"font-semibold text-orange-800",children:[yn(Me)," is Currently Occupied"]}),(0,Ft.jsx)("p",{className:"text-sm text-orange-600 mt-1",children:"This table has an active order. Choose how you'd like to proceed:"})]})]})}),j.length>0&&(0,Ft.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 mb-4",children:[(0,Ft.jsx)("h5",{className:"font-medium text-gray-700 mb-2",children:"Your Current Order:"}),(0,Ft.jsxs)("div",{className:"space-y-1",children:[j.slice(0,3).map(((e,t)=>(0,Ft.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Ft.jsxs)("span",{children:[e.quantity,"\xd7 ",e.menu_item_name]}),(0,Ft.jsxs)("span",{children:["$",(e.total_price||0).toFixed(2)]})]},t))),j.length>3&&(0,Ft.jsxs)("div",{className:"text-xs text-gray-500",children:["+",j.length-3," more items"]})]}),(0,Ft.jsxs)("div",{className:"border-t pt-2 mt-2 flex justify-between font-medium",children:[(0,Ft.jsx)("span",{children:"Subtotal:"}),(0,Ft.jsxs)("span",{children:["$",j.reduce(((e,t)=>e+(t.total_price||0)),0).toFixed(2)]})]})]})]}),(0,Ft.jsxs)("div",{className:"space-y-3",children:[(0,Ft.jsx)("button",{onClick:()=>{Le(!1),je(Me),ye(!0)},className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors text-left",children:(0,Ft.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ft.jsx)("span",{className:"text-lg",children:"\ud83d\udd04"}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"font-semibold",children:"Merge with Existing Order"}),(0,Ft.jsx)("div",{className:"text-sm opacity-90",children:"Add your items to the current table's order"})]})]})}),(0,Ft.jsx)("button",{onClick:async()=>{Le(!1),Ie(null);const e=xe.filter((e=>"available"===e.status));if(e.length>0){const t=e[0];window.confirm("Would you like to use ".concat(yn(t)," instead? It's currently available."))&&(he(t),pe(!1),r&&w&&L(w.id,t.id))}else alert("No tables are currently available. You can merge with an existing order or wait for a table to become available.")},className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 transition-colors text-left",children:(0,Ft.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ft.jsx)("span",{className:"text-lg",children:"\ud83c\udfaf"}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"font-semibold",children:"Select Different Table"}),(0,Ft.jsx)("div",{className:"text-sm opacity-90",children:"Choose an available table instead"})]})]})}),(0,Ft.jsx)("button",{onClick:()=>{window.confirm("\u26a0\ufe0f MANAGER OVERRIDE\n\n"+"This will forcefully assign ".concat(yn(Me)," to your new order. ")+"The existing order will be moved to a temporary holding state.\n\nOnly use this option if the table is actually empty or if you're resolving a data issue.\n\nContinue with manager override?")&&(he(Me),pe(!1),Le(!1),Ie(null),console.warn("Manager override: Table ".concat(yn(Me)," forcefully reassigned")),r&&w&&L(w.id,Me.id))},className:"w-full bg-red-600 text-white py-3 px-4 rounded-lg hover:bg-red-700 transition-colors text-left",children:(0,Ft.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ft.jsx)("span",{className:"text-lg",children:"\u26a1"}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"font-semibold",children:"Manager Override"}),(0,Ft.jsx)("div",{className:"text-sm opacity-90",children:"Force assign table (use with caution)"})]})]})}),(0,Ft.jsx)("button",{onClick:()=>{Le(!1),Ie(null)},className:"w-full bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancel - Keep Current Selection"})]}),(0,Ft.jsx)("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,Ft.jsxs)("p",{className:"text-xs text-blue-700",children:[(0,Ft.jsx)("strong",{children:"\ud83d\udca1 Tip:"}),' The merge option is recommended when customers want to add items to an existing order. Use "Select Different Table" for new customers who need their own separate check.']})})]})})]})},un=e=>{let{order:t,onClose:n}=e;const{printOrderReceipt:r,connected:a,openPrinterManager:s}=Lt();if(!t)return null;return(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-lg w-full max-h-96 overflow-y-auto",children:[(0,Ft.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Ft.jsxs)("h3",{className:"text-xl font-bold",children:["Order ",t.order_number]}),(0,Ft.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ft.jsxs)("button",{onClick:async()=>{if(a)try{await r(t)}catch(e){alert("Failed to print receipt. Please check printer connection.")}else{window.confirm("Printer not connected. Would you like to set up the printer now?")&&s()}},className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 flex items-center space-x-1",children:[(0,Ft.jsx)("span",{children:"\ud83d\udda8\ufe0f"}),(0,Ft.jsx)("span",{children:"Print"})]}),(0,Ft.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 text-xl",children:"\xd7"})]})]}),(0,Ft.jsxs)("div",{className:"space-y-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Order Details"}),(0,Ft.jsxs)("p",{children:[(0,Ft.jsx)("strong",{children:"Type:"})," ",t.order_type.replace("_"," ").toUpperCase()]}),(0,Ft.jsxs)("p",{children:[(0,Ft.jsx)("strong",{children:"Status:"})," ",t.status.replace("_"," ").toUpperCase()]}),(0,Ft.jsxs)("p",{children:[(0,Ft.jsx)("strong",{children:"Time:"})," ",Gt(t.created_at)]}),t.table_number&&(0,Ft.jsxs)("p",{children:[(0,Ft.jsx)("strong",{children:"Table:"})," ",t.table_number]})]}),t.customer_name&&(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Customer Information"}),(0,Ft.jsxs)("p",{children:[(0,Ft.jsx)("strong",{children:"Name:"})," ",t.customer_name]}),t.customer_phone&&(0,Ft.jsxs)("p",{children:[(0,Ft.jsx)("strong",{children:"Phone:"})," ",t.customer_phone]}),t.customer_address&&(0,Ft.jsxs)("p",{children:[(0,Ft.jsx)("strong",{children:"Address:"})," ",t.customer_address]})]}),t.order_notes&&(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Order Notes"}),(0,Ft.jsx)("p",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:t.order_notes})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Items"}),t.items.map(((e,t)=>(0,Ft.jsxs)("div",{className:"border-b pb-2 mb-2",children:[(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsxs)("span",{children:[e.quantity,"x ",e.menu_item_name]}),(0,Ft.jsxs)("span",{children:["$",e.total_price.toFixed(2)]})]}),e.modifiers&&e.modifiers.length>0&&(0,Ft.jsx)("div",{className:"text-sm text-gray-600 ml-4",children:e.modifiers.map((e=>e.name)).join(", ")})]},t)))]}),(0,Ft.jsxs)("div",{className:"border-t pt-4",children:[(0,Ft.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Ft.jsx)("span",{children:"Subtotal:"}),(0,Ft.jsxs)("span",{children:["$",t.subtotal.toFixed(2)]})]}),(0,Ft.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Ft.jsx)("span",{children:"Tax:"}),(0,Ft.jsxs)("span",{children:["$",t.tax.toFixed(2)]})]}),t.service_charges>0&&(0,Ft.jsxs)("div",{className:"flex justify-between text-sm text-blue-600",children:[(0,Ft.jsx)("span",{children:"Service Charges:"}),(0,Ft.jsxs)("span",{children:["$",t.service_charges.toFixed(2)]})]}),t.discounts>0&&(0,Ft.jsxs)("div",{className:"flex justify-between text-sm text-red-600",children:[(0,Ft.jsx)("span",{children:"Discounts:"}),(0,Ft.jsxs)("span",{children:["-$",t.discounts.toFixed(2)]})]}),t.tip>0&&(0,Ft.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Ft.jsx)("span",{children:"Tip:"}),(0,Ft.jsxs)("span",{children:["$",t.tip.toFixed(2)]})]}),(0,Ft.jsxs)("div",{className:"flex justify-between font-bold text-lg border-t pt-2 mt-2",children:[(0,Ft.jsx)("span",{children:"Total:"}),(0,Ft.jsxs)("span",{children:["$",t.total.toFixed(2)]})]}),t.payment_method&&(0,Ft.jsxs)("div",{className:"mt-4 pt-4 border-t",children:[(0,Ft.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Payment Information"}),(0,Ft.jsxs)("p",{children:[(0,Ft.jsx)("strong",{children:"Method:"})," ",t.payment_method.toUpperCase()]}),t.change_amount>0&&(0,Ft.jsxs)("p",{children:[(0,Ft.jsx)("strong",{children:"Change Given:"})," $",t.change_amount.toFixed(2)]})]})]})]})]})})},mn=e=>{var t;let{occupiedTable:n,currentCart:r,currentOrderInfo:s,onConfirmMerge:l,onCancel:i}=e;const[o,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(!0),[m,p]=(0,a.useState)(!1);(0,a.useEffect)((()=>{(async()=>{if(null!==n&&void 0!==n&&n.current_order_id)try{const e=await At.get("".concat(It,"/orders/").concat(n.current_order_id));c(e.data)}catch(e){console.error("Error fetching existing order:",e)}u(!1)})()}),[n]);const f=r.reduce(((e,t)=>e+(t.total_price||t.price||0)),0),h=(null===o||void 0===o?void 0:o.subtotal)||0,x=f+h,g=.0825*x,b=x>50?.03*x:0,y=x+g+b+(s.tip||0);return d?(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ft.jsx)("div",{className:"bg-white rounded-xl p-6 max-w-4xl w-full",children:(0,Ft.jsxs)("div",{className:"text-center py-8",children:[(0,Ft.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600 mx-auto mb-4"}),(0,Ft.jsx)("p",{className:"text-lg text-gray-600",children:"Loading existing order details..."}),(0,Ft.jsxs)("p",{className:"text-sm text-gray-400 mt-2",children:["Fetching information for ",(null===n||void 0===n?void 0:n.name)||"Table ".concat(null===n||void 0===n?void 0:n.number)]})]})})}):(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Ft.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Ft.jsxs)("h2",{className:"text-2xl font-bold text-gray-800",children:["\u26a0\ufe0f Merge Orders - ",yn(n)]}),(0,Ft.jsx)("button",{onClick:i,className:"text-gray-500 hover:text-gray-700 text-xl",children:"\xd7"})]}),(0,Ft.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:(0,Ft.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ft.jsx)("span",{className:"text-yellow-600 text-lg",children:"\u26a0\ufe0f"}),(0,Ft.jsxs)("p",{className:"text-yellow-800 font-medium",children:[yn(n)," already has an active order. Your current cart items will be merged with the existing order."]})]})}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,Ft.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-blue-800 mb-3",children:"Your Current Cart"}),(0,Ft.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:r.length>0?r.map(((e,t)=>(0,Ft.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-blue-200",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("span",{className:"font-medium",children:e.menu_item_name||e.name}),(0,Ft.jsxs)("span",{className:"text-sm text-blue-600 ml-2",children:["x",e.quantity]})]}),(0,Ft.jsxs)("span",{className:"font-medium",children:["$",(e.total_price||e.price*e.quantity||0).toFixed(2)]})]},t))):(0,Ft.jsx)("p",{className:"text-blue-600 italic",children:"No items in cart"})}),(0,Ft.jsx)("div",{className:"border-t border-blue-200 pt-2 mt-2",children:(0,Ft.jsxs)("div",{className:"flex justify-between font-bold text-blue-800",children:[(0,Ft.jsx)("span",{children:"Cart Subtotal:"}),(0,Ft.jsxs)("span",{children:["$",f.toFixed(2)]})]})})]}),(0,Ft.jsxs)("div",{className:"bg-orange-50 rounded-lg p-4",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-orange-800 mb-3",children:"Existing Table Order"}),(0,Ft.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:(null===o||void 0===o||null===(t=o.items)||void 0===t?void 0:t.length)>0?o.items.map(((e,t)=>(0,Ft.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-orange-200",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("span",{className:"font-medium",children:e.menu_item_name}),(0,Ft.jsxs)("span",{className:"text-sm text-orange-600 ml-2",children:["x",e.quantity]})]}),(0,Ft.jsxs)("span",{className:"font-medium",children:["$",(e.price*e.quantity).toFixed(2)]})]},t))):(0,Ft.jsx)("p",{className:"text-orange-600 italic",children:"No items found"})}),(0,Ft.jsx)("div",{className:"border-t border-orange-200 pt-2 mt-2",children:(0,Ft.jsxs)("div",{className:"flex justify-between font-bold text-orange-800",children:[(0,Ft.jsx)("span",{children:"Existing Subtotal:"}),(0,Ft.jsxs)("span",{children:["$",h.toFixed(2)]})]})})]})]}),(0,Ft.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-green-800 mb-3",children:"\ud83d\udcca Merged Order Total"}),(0,Ft.jsxs)("div",{className:"space-y-2",children:[(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{children:"Combined Subtotal:"}),(0,Ft.jsxs)("span",{children:["$",x.toFixed(2)]})]}),(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{children:"Estimated Tax (8.25%):"}),(0,Ft.jsxs)("span",{children:["$",g.toFixed(2)]})]}),b>0&&(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{children:"Service Charges:"}),(0,Ft.jsxs)("span",{children:["$",b.toFixed(2)]})]}),s.tip>0&&(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{children:"Tip:"}),(0,Ft.jsxs)("span",{children:["$",s.tip.toFixed(2)]})]}),(0,Ft.jsxs)("div",{className:"flex justify-between text-lg font-bold text-green-800 border-t border-green-300 pt-2",children:[(0,Ft.jsx)("span",{children:"Final Total:"}),(0,Ft.jsxs)("span",{children:["$",y.toFixed(2)]})]})]}),(0,Ft.jsxs)("div",{className:"mt-3 p-2 bg-green-100 rounded text-sm text-green-700",children:[(0,Ft.jsx)("strong",{children:"\ud83d\udca1 Note:"})," These are estimated amounts. Final totals will be calculated dynamically when the merge is completed."]})]}),(s.customerInfo.name||s.orderNotes)&&(0,Ft.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Additional Information"}),s.customerInfo.name&&(0,Ft.jsxs)("p",{children:[(0,Ft.jsx)("strong",{children:"Customer:"})," ",s.customerInfo.name]}),s.orderNotes&&(0,Ft.jsxs)("p",{children:[(0,Ft.jsx)("strong",{children:"Notes:"})," ",s.orderNotes]})]}),(0,Ft.jsxs)("div",{className:"flex space-x-4",children:[(0,Ft.jsx)("button",{onClick:i,disabled:m,className:"flex-1 bg-gray-300 text-gray-700 py-3 px-6 rounded-lg font-medium hover:bg-gray-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),(0,Ft.jsx)("button",{onClick:async()=>{p(!0);try{await l()}catch(e){console.error("Error merging orders:",e),alert("Failed to merge orders. Please try again.")}finally{p(!1)}},disabled:0===r.length||m,className:"flex-1 py-3 px-6 rounded-lg font-medium transition-colors disabled:cursor-not-allowed ".concat(0===r.length||m?"bg-gray-300 text-gray-500":"bg-red-600 text-white hover:bg-red-700"),children:m?(0,Ft.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Ft.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,Ft.jsx)("span",{children:"Merging Orders..."})]}):0===r.length?"No Items to Merge":"Confirm Merge with ".concat((null===n||void 0===n?void 0:n.name)||"Table ".concat(null===n||void 0===n?void 0:n.number))})]})]})})},pn=e=>{let{onBack:t,onDataChange:n}=e;const[r,s]=(0,a.useState)([]),[l,i]=(0,a.useState)([]),[o,c]=(0,a.useState)([]),[u,m]=(0,a.useState)([]),[p,f]=(0,a.useState)(!0),[h,x]=(0,a.useState)("taxes"),[g,b]=(0,a.useState)(!1),[y,v]=(0,a.useState)(!1),[j,N]=(0,a.useState)(!1),[w,_]=(0,a.useState)(!1),[k,S]=(0,a.useState)(null),[C,E]=(0,a.useState)({name:"",type:"percentage",rate:"",description:"",category:"sales",applies_to:"subtotal",jurisdiction:"",tax_id:"",applies_to_order_types:[],active:!0,inclusive:!1}),[T,P]=(0,a.useState)({name:"",type:"percentage",amount:"",description:"",applies_to:"subtotal",conditions:[],minimum_amount:"",maximum_amount:"",party_size_threshold:"",order_types:[],active:!0,mandatory:!1}),[O,A]=(0,a.useState)({name:"",type:"percentage",amount:"",description:"",trigger_condition:"party_size",party_size_min:"6",order_amount_min:"",applies_to_order_types:[],auto_apply:!0,customer_can_modify:!0,active:!0}),[z,R]=(0,a.useState)({name:"",type:"percentage",amount:"",description:"",category:"general",conditions:[],minimum_order_amount:"",valid_days:[],valid_hours_start:"",valid_hours_end:"",max_uses_per_day:"",requires_code:!1,discount_code:"",stackable:!1,active:!0,expiry_date:""}),F=["dine_in","takeout","delivery","phone_order"];(0,a.useEffect)((()=>{D()}),[]);const D=async()=>{try{f(!0);const[e,t,n,r]=await Promise.all([At.get("".concat(It,"/tax-charges/tax-rates")),At.get("".concat(It,"/tax-charges/service-charges")),At.get("".concat(It,"/tax-charges/gratuity-rules")),At.get("".concat(It,"/tax-charges/discount-policies"))]);s(e.data.length>0?e.data:L()),i(t.data.length>0?t.data:M()),c(n.data.length>0?n.data:I()),m(r.data.length>0?r.data:U())}catch(e){console.error("Error fetching tax/charges data:",e),s(L()),i(M()),c(I()),m(U()),alert("Failed to load tax and charges configuration from server. Using default settings.")}finally{f(!1)}},L=()=>[{id:crypto.randomUUID(),name:"NYC Sales Tax",type:"percentage",rate:8.25,description:"New York City Sales Tax",category:"sales",applies_to:"subtotal",jurisdiction:"city",tax_id:"NYC-ST-001",active:!0,inclusive:!1},{id:crypto.randomUUID(),name:"State Tax",type:"percentage",rate:4,description:"New York State Tax",category:"sales",applies_to:"subtotal",jurisdiction:"state",tax_id:"NYS-ST-001",active:!0,inclusive:!1}],M=()=>[{id:crypto.randomUUID(),name:"Large Party Service Charge",type:"percentage",amount:18,description:"Automatic service charge for parties of 6 or more",applies_to:"subtotal",conditions:["party_size"],party_size_threshold:"6",order_types:["dine_in"],active:!0,mandatory:!0},{id:crypto.randomUUID(),name:"Delivery Fee",type:"fixed",amount:3.5,description:"Standard delivery fee",applies_to:"subtotal",conditions:["order_type"],order_types:["delivery"],active:!0,mandatory:!0}],I=()=>[{id:crypto.randomUUID(),name:"Automatic Gratuity - Large Parties",type:"percentage",amount:20,description:"Automatic 20% gratuity for parties of 8+",trigger_condition:"party_size",party_size_min:"8",applies_to_order_types:["dine_in"],auto_apply:!0,customer_can_modify:!0,active:!0},{id:crypto.randomUUID(),name:"High-Value Order Gratuity",type:"percentage",amount:15,description:"Suggested 15% gratuity for orders over $200",trigger_condition:"order_amount",order_amount_min:"200",applies_to_order_types:["dine_in","delivery"],auto_apply:!1,customer_can_modify:!0,active:!0}],U=()=>[{id:crypto.randomUUID(),name:"Employee Discount",type:"percentage",amount:25,description:"25% discount for staff members",category:"employee",conditions:["requires_code"],discount_code:"STAFF25",stackable:!1,active:!0,max_uses_per_day:"50"},{id:crypto.randomUUID(),name:"Senior Citizen Discount",type:"percentage",amount:10,description:"10% discount for seniors (65+)",category:"senior",conditions:["time_based"],valid_days:["monday","tuesday","wednesday","thursday"],valid_hours_start:"14:00",valid_hours_end:"17:00",stackable:!0,active:!0}],B=async(e,t)=>{if(window.confirm("Are you sure you want to delete this item?"))try{let n="";switch(e){case"tax":n="".concat(It,"/tax-charges/tax-rates/").concat(t);break;case"charge":n="".concat(It,"/tax-charges/service-charges/").concat(t);break;case"gratuity":n="".concat(It,"/tax-charges/gratuity-rules/").concat(t);break;case"discount":n="".concat(It,"/tax-charges/discount-policies/").concat(t);break;default:throw new Error("Invalid type")}switch(await At.delete(n),e){case"tax":s((e=>e.filter((e=>e.id!==t))));break;case"charge":i((e=>e.filter((e=>e.id!==t))));break;case"gratuity":c((e=>e.filter((e=>e.id!==t))));break;case"discount":m((e=>e.filter((e=>e.id!==t))))}alert("Item deleted successfully")}catch(a){var n,r;console.error("Error deleting item:",a),alert("Failed to delete item: "+((null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.detail)||a.message))}},q=async(e,t)=>{try{let n="",a=null;switch(e){case"tax":a=r.find((e=>e.id===t)),n="".concat(It,"/tax-charges/tax-rates/").concat(t);break;case"charge":a=l.find((e=>e.id===t)),n="".concat(It,"/tax-charges/service-charges/").concat(t);break;case"gratuity":a=o.find((e=>e.id===t)),n="".concat(It,"/tax-charges/gratuity-rules/").concat(t);break;case"discount":a=u.find((e=>e.id===t)),n="".concat(It,"/tax-charges/discount-policies/").concat(t);break;default:throw new Error("Invalid type")}if(!a)throw new Error("Item not found");const p=d(d({},a),{},{active:!a.active}),f=await At.put(n,p);switch(e){case"tax":s((e=>e.map((e=>e.id===t?f.data:e))));break;case"charge":i((e=>e.map((e=>e.id===t?f.data:e))));break;case"gratuity":c((e=>e.map((e=>e.id===t?f.data:e))));break;case"discount":m((e=>e.map((e=>e.id===t?f.data:e))))}}catch(p){var n,a;console.error("Error toggling active status:",p),alert("Failed to update status: "+((null===(n=p.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.detail)||p.message))}},$=()=>{E({name:"",type:"percentage",rate:"",description:"",category:"sales",applies_to:"subtotal",jurisdiction:"",tax_id:"",applies_to_order_types:[],active:!0,inclusive:!1})},H=()=>{P({name:"",type:"percentage",amount:"",description:"",applies_to:"subtotal",conditions:[],minimum_amount:"",maximum_amount:"",party_size_threshold:"",order_types:[],active:!0,mandatory:!1})},W=()=>{A({name:"",type:"percentage",amount:"",description:"",trigger_condition:"party_size",party_size_min:"8",order_amount_min:"",applies_to_order_types:[],auto_apply:!0,customer_can_modify:!0,active:!0})},V=()=>{R({name:"",type:"percentage",amount:"",description:"",active:!0})},Q={activeTaxes:r.filter((e=>e.active)).length,totalTaxRate:r.filter((e=>e.active&&"percentage"===e.type)).reduce(((e,t)=>e+t.rate),0),activeCharges:l.filter((e=>e.active)).length,activeGratuityRules:o.filter((e=>e.active)).length,activeDiscounts:u.filter((e=>e.active)).length};return p?(0,Ft.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Ft.jsxs)("div",{className:"text-center",children:[(0,Ft.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Ft.jsx)("p",{className:"text-gray-600",children:"Loading tax and charges configuration..."})]})}):(0,Ft.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Ft.jsx)("div",{className:"bg-white shadow-sm border-b p-4",children:(0,Ft.jsx)("div",{className:"flex items-center justify-between",children:(0,Ft.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ft.jsxs)("button",{onClick:t,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800",children:[(0,Ft.jsx)("span",{children:"\u2190"}),(0,Ft.jsx)("span",{children:"Back to Settings"})]}),(0,Ft.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Tax & Charges Settings"})]})})}),(0,Ft.jsx)("div",{className:"bg-white border-b p-6",children:(0,Ft.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,Ft.jsxs)("div",{className:"text-center",children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:Q.activeTaxes}),(0,Ft.jsx)("div",{className:"text-sm text-gray-600",children:"Active Taxes"})]}),(0,Ft.jsxs)("div",{className:"text-center",children:[(0,Ft.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[Q.totalTaxRate.toFixed(2),"%"]}),(0,Ft.jsx)("div",{className:"text-sm text-gray-600",children:"Total Tax Rate"})]}),(0,Ft.jsxs)("div",{className:"text-center",children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:Q.activeCharges}),(0,Ft.jsx)("div",{className:"text-sm text-gray-600",children:"Service Charges"})]}),(0,Ft.jsxs)("div",{className:"text-center",children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:Q.activeGratuityRules}),(0,Ft.jsx)("div",{className:"text-sm text-gray-600",children:"Gratuity Rules"})]}),(0,Ft.jsxs)("div",{className:"text-center",children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-red-600",children:Q.activeDiscounts}),(0,Ft.jsx)("div",{className:"text-sm text-gray-600",children:"Discount Policies"})]})]})}),(0,Ft.jsx)("div",{className:"bg-white border-b",children:(0,Ft.jsx)("div",{className:"flex space-x-8 px-6",children:[{id:"taxes",name:"Tax Rates",icon:"\ud83d\udcb0"},{id:"charges",name:"Service Charges",icon:"\ud83d\udcb3"},{id:"gratuity",name:"Gratuity Rules",icon:"\ud83c\udfaf"},{id:"discounts",name:"Discount Policies",icon:"\ud83c\udff7\ufe0f"}].map((e=>(0,Ft.jsxs)("button",{onClick:()=>x(e.id),className:"flex items-center space-x-2 py-4 px-2 border-b-2 font-medium text-sm ".concat(h===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:[(0,Ft.jsx)("span",{children:e.icon}),(0,Ft.jsx)("span",{children:e.name})]},e.id)))})}),(0,Ft.jsxs)("div",{className:"p-6",children:["taxes"===h&&(0,Ft.jsxs)("div",{className:"space-y-6",children:[(0,Ft.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ft.jsx)("h2",{className:"text-xl font-semibold",children:"Tax Rates Configuration"}),(0,Ft.jsxs)("button",{onClick:()=>b(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[(0,Ft.jsx)("span",{children:"+"}),(0,Ft.jsx)("span",{children:"Add Tax Rate"})]})]}),(0,Ft.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:r.map((e=>(0,Ft.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,Ft.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h3",{className:"font-semibold text-lg text-gray-800",children:e.name}),(0,Ft.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]}),(0,Ft.jsx)("div",{className:"flex space-x-2",children:(0,Ft.jsx)("button",{onClick:()=>q("tax",e.id),className:"px-2 py-1 rounded text-xs font-medium ".concat(e.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.active?"Active":"Inactive"})})]}),(0,Ft.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{className:"text-sm text-gray-600",children:"Rate:"}),(0,Ft.jsx)("span",{className:"text-sm font-medium",children:"percentage"===e.type?"".concat(e.rate,"%"):"$".concat(e.rate)})]}),(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{className:"text-sm text-gray-600",children:"Type:"}),(0,Ft.jsx)("span",{className:"text-sm font-medium",children:e.type})]}),(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{className:"text-sm text-gray-600",children:"Category:"}),(0,Ft.jsx)("span",{className:"text-sm font-medium",children:e.category})]}),(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{className:"text-sm text-gray-600",children:"Applies to:"}),(0,Ft.jsx)("span",{className:"text-sm font-medium",children:e.applies_to})]}),e.jurisdiction&&(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{className:"text-sm text-gray-600",children:"Jurisdiction:"}),(0,Ft.jsx)("span",{className:"text-sm font-medium",children:e.jurisdiction})]})]}),(0,Ft.jsxs)("div",{className:"flex space-x-2",children:[(0,Ft.jsx)("button",{onClick:()=>(e=>{E({name:e.name,type:e.type,rate:e.rate.toString(),description:e.description||"",category:e.category,applies_to:e.applies_to,jurisdiction:e.jurisdiction||"",tax_id:e.tax_id||"",applies_to_order_types:e.applies_to_order_types||[],active:e.active,inclusive:e.inclusive||!1}),S(e),b(!0)})(e),className:"flex-1 bg-blue-50 text-blue-600 px-3 py-2 rounded text-sm font-medium hover:bg-blue-100",children:"Edit"}),(0,Ft.jsx)("button",{onClick:()=>B("tax",e.id),className:"flex-1 bg-red-50 text-red-600 px-3 py-2 rounded text-sm font-medium hover:bg-red-100",children:"Delete"})]})]},e.id)))}),0===r.length&&(0,Ft.jsxs)("div",{className:"text-center py-12",children:[(0,Ft.jsx)("span",{className:"text-6xl mb-4 block",children:"\ud83d\udcb0"}),(0,Ft.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tax rates configured"}),(0,Ft.jsx)("p",{className:"text-gray-500 mb-4",children:"Add your first tax rate to get started"}),(0,Ft.jsx)("button",{onClick:()=>b(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Add Tax Rate"})]})]}),"charges"===h&&(0,Ft.jsxs)("div",{className:"space-y-6",children:[(0,Ft.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ft.jsx)("h2",{className:"text-xl font-semibold",children:"Service Charges & Fees"}),(0,Ft.jsxs)("button",{onClick:()=>v(!0),className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 flex items-center space-x-2",children:[(0,Ft.jsx)("span",{children:"+"}),(0,Ft.jsx)("span",{children:"Add Service Charge"})]})]}),(0,Ft.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:l.map((e=>{var t,n;return(0,Ft.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,Ft.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ft.jsx)("h3",{className:"font-semibold text-lg text-gray-800",children:e.name}),e.mandatory&&(0,Ft.jsx)("span",{className:"bg-orange-100 text-orange-800 px-2 py-1 rounded text-xs font-medium",children:"Mandatory"})]}),(0,Ft.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]}),(0,Ft.jsx)("button",{onClick:()=>q("charge",e.id),className:"px-2 py-1 rounded text-xs font-medium ".concat(e.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.active?"Active":"Inactive"})]}),(0,Ft.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{className:"text-sm text-gray-600",children:"Amount:"}),(0,Ft.jsx)("span",{className:"text-sm font-medium",children:"percentage"===e.type?"".concat(e.amount,"%"):"per_person"===e.type?"$".concat(e.amount,"/person"):"$".concat(e.amount)})]}),(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{className:"text-sm text-gray-600",children:"Applies to:"}),(0,Ft.jsx)("span",{className:"text-sm font-medium",children:e.applies_to})]}),(null===(t=e.conditions)||void 0===t?void 0:t.includes("party_size"))&&e.party_size_threshold&&(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{className:"text-sm text-gray-600",children:"Min Party Size:"}),(0,Ft.jsxs)("span",{className:"text-sm font-medium",children:[e.party_size_threshold,"+ people"]})]}),(null===(n=e.order_types)||void 0===n?void 0:n.length)>0&&(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{className:"text-sm text-gray-600",children:"Order Types:"}),(0,Ft.jsx)("span",{className:"text-sm font-medium",children:e.order_types.join(", ")})]})]}),(0,Ft.jsxs)("div",{className:"flex space-x-2",children:[(0,Ft.jsx)("button",{onClick:()=>(e=>{P({name:e.name,type:e.type,amount:e.amount.toString(),description:e.description||"",applies_to:e.applies_to_subtotal?"subtotal":"total",conditions:e.conditions||[],minimum_amount:e.minimum_order_amount?e.minimum_order_amount.toString():"",maximum_amount:e.maximum_order_amount?e.maximum_order_amount.toString():"",party_size_threshold:e.party_size_threshold||"",order_types:e.applies_to_order_types||[],active:e.active,mandatory:e.mandatory||!1}),S(e),v(!0)})(e),className:"flex-1 bg-purple-50 text-purple-600 px-3 py-2 rounded text-sm font-medium hover:bg-purple-100",children:"Edit"}),(0,Ft.jsx)("button",{onClick:()=>B("charge",e.id),className:"flex-1 bg-red-50 text-red-600 px-3 py-2 rounded text-sm font-medium hover:bg-red-100",children:"Delete"})]})]},e.id)}))}),0===l.length&&(0,Ft.jsxs)("div",{className:"text-center py-12",children:[(0,Ft.jsx)("span",{className:"text-6xl mb-4 block",children:"\ud83d\udcb3"}),(0,Ft.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No service charges configured"}),(0,Ft.jsx)("p",{className:"text-gray-500 mb-4",children:"Add service charges and fees"}),(0,Ft.jsx)("button",{onClick:()=>v(!0),className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700",children:"Add Service Charge"})]})]}),"gratuity"===h&&(0,Ft.jsxs)("div",{className:"space-y-6",children:[(0,Ft.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ft.jsx)("h2",{className:"text-xl font-semibold",children:"Automatic Gratuity Rules"}),(0,Ft.jsxs)("button",{onClick:()=>N(!0),className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 flex items-center space-x-2",children:[(0,Ft.jsx)("span",{children:"+"}),(0,Ft.jsx)("span",{children:"Add Gratuity Rule"})]})]}),(0,Ft.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:o.map((e=>{var t;return(0,Ft.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,Ft.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ft.jsx)("h3",{className:"font-semibold text-lg text-gray-800",children:e.name}),e.auto_apply&&(0,Ft.jsx)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs font-medium",children:"Auto-Apply"})]}),(0,Ft.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]}),(0,Ft.jsx)("button",{onClick:()=>q("gratuity",e.id),className:"px-2 py-1 rounded text-xs font-medium ".concat(e.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.active?"Active":"Inactive"})]}),(0,Ft.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{className:"text-sm text-gray-600",children:"Amount:"}),(0,Ft.jsx)("span",{className:"text-sm font-medium",children:"percentage"===e.type?"".concat(e.amount,"%"):"$".concat(e.amount)})]}),(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{className:"text-sm text-gray-600",children:"Trigger:"}),(0,Ft.jsx)("span",{className:"text-sm font-medium",children:"party_size"===e.trigger_condition?"".concat(e.party_size_min,"+ people"):"order_amount"===e.trigger_condition?"$".concat(e.order_amount_min,"+ order"):"Manual"})]}),(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{className:"text-sm text-gray-600",children:"Customer can modify:"}),(0,Ft.jsx)("span",{className:"text-sm font-medium",children:e.customer_can_modify?"Yes":"No"})]}),(null===(t=e.applies_to_order_types)||void 0===t?void 0:t.length)>0&&(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{className:"text-sm text-gray-600",children:"Order Types:"}),(0,Ft.jsx)("span",{className:"text-sm font-medium",children:e.applies_to_order_types.join(", ")})]})]}),(0,Ft.jsxs)("div",{className:"flex space-x-2",children:[(0,Ft.jsx)("button",{onClick:()=>{return A({name:(t=e).name,type:t.type,amount:t.amount.toString(),description:t.description||"",trigger_condition:t.trigger_condition||"party_size",party_size_min:t.party_size_minimum?t.party_size_minimum.toString():"8",order_amount_min:t.minimum_order_amount?t.minimum_order_amount.toString():"",applies_to_order_types:t.applies_to_order_types||[],auto_apply:t.auto_apply||!0,customer_can_modify:t.customer_can_modify||!0,active:t.active}),S(t),void N(!0);var t},className:"flex-1 bg-orange-50 text-orange-600 px-3 py-2 rounded text-sm font-medium hover:bg-orange-100",children:"Edit"}),(0,Ft.jsx)("button",{onClick:()=>B("gratuity",e.id),className:"flex-1 bg-red-50 text-red-600 px-3 py-2 rounded text-sm font-medium hover:bg-red-100",children:"Delete"})]})]},e.id)}))}),0===o.length&&(0,Ft.jsxs)("div",{className:"text-center py-12",children:[(0,Ft.jsx)("span",{className:"text-6xl mb-4 block",children:"\ud83c\udfaf"}),(0,Ft.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No gratuity rules configured"}),(0,Ft.jsx)("p",{className:"text-gray-500 mb-4",children:"Set up automatic gratuity rules"}),(0,Ft.jsx)("button",{onClick:()=>N(!0),className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700",children:"Add Gratuity Rule"})]})]}),"discounts"===h&&(0,Ft.jsxs)("div",{className:"space-y-6",children:[(0,Ft.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ft.jsx)("h2",{className:"text-xl font-semibold",children:"Discount Policies"}),(0,Ft.jsxs)("button",{onClick:()=>_(!0),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 flex items-center space-x-2",children:[(0,Ft.jsx)("span",{children:"+"}),(0,Ft.jsx)("span",{children:"Add Discount"})]})]}),(0,Ft.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:u.map((e=>{var t;return(0,Ft.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,Ft.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ft.jsx)("h3",{className:"font-semibold text-lg text-gray-800",children:e.name}),e.stackable&&(0,Ft.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs font-medium",children:"Stackable"}),e.requires_code&&(0,Ft.jsx)("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs font-medium",children:"Code Required"})]}),(0,Ft.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]}),(0,Ft.jsx)("button",{onClick:()=>q("discount",e.id),className:"px-2 py-1 rounded text-xs font-medium ".concat(e.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.active?"Active":"Inactive"})]}),(0,Ft.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{className:"text-sm text-gray-600",children:"Discount:"}),(0,Ft.jsx)("span",{className:"text-sm font-medium",children:"percentage"===e.type?"".concat(e.amount,"%"):"$".concat(e.amount)})]}),(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{className:"text-sm text-gray-600",children:"Category:"}),(0,Ft.jsx)("span",{className:"text-sm font-medium",children:e.category})]}),e.discount_code&&(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{className:"text-sm text-gray-600",children:"Code:"}),(0,Ft.jsx)("span",{className:"text-sm font-medium font-mono",children:e.discount_code})]}),(null===(t=e.valid_days)||void 0===t?void 0:t.length)>0&&(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{className:"text-sm text-gray-600",children:"Valid Days:"}),(0,Ft.jsx)("span",{className:"text-sm font-medium",children:e.valid_days.join(", ")})]}),e.valid_hours_start&&e.valid_hours_end&&(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{className:"text-sm text-gray-600",children:"Valid Hours:"}),(0,Ft.jsxs)("span",{className:"text-sm font-medium",children:[e.valid_hours_start," - ",e.valid_hours_end]})]}),e.max_uses_per_day&&(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{className:"text-sm text-gray-600",children:"Daily Limit:"}),(0,Ft.jsxs)("span",{className:"text-sm font-medium",children:[e.max_uses_per_day," uses"]})]})]}),(0,Ft.jsxs)("div",{className:"flex space-x-2",children:[(0,Ft.jsx)("button",{onClick:()=>(e=>{R({name:e.name,type:e.type,amount:e.amount.toString(),description:e.description||"",category:e.category,conditions:e.conditions||[],minimum_order_amount:e.minimum_order_amount||"",valid_days:e.valid_days||[],valid_hours_start:e.valid_hours_start||"",valid_hours_end:e.valid_hours_end||"",max_uses_per_day:e.max_uses_per_day||"",requires_code:e.requires_code||!1,discount_code:e.discount_code||"",stackable:e.stackable||!1,active:e.active,expiry_date:e.expiry_date||""}),S(e),_(!0)})(e),className:"flex-1 bg-red-50 text-red-600 px-3 py-2 rounded text-sm font-medium hover:bg-red-100",children:"Edit"}),(0,Ft.jsx)("button",{onClick:()=>B("discount",e.id),className:"flex-1 bg-gray-50 text-gray-600 px-3 py-2 rounded text-sm font-medium hover:bg-gray-100",children:"Delete"})]})]},e.id)}))}),0===u.length&&(0,Ft.jsxs)("div",{className:"text-center py-12",children:[(0,Ft.jsx)("span",{className:"text-6xl mb-4 block",children:"\ud83c\udff7\ufe0f"}),(0,Ft.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No discount policies configured"}),(0,Ft.jsx)("p",{className:"text-gray-500 mb-4",children:"Create discount policies for your restaurant"}),(0,Ft.jsx)("button",{onClick:()=>_(!0),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:"Add Discount Policy"})]})]})]}),g&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-screen overflow-y-auto",children:[(0,Ft.jsx)("div",{className:"p-6 border-b",children:(0,Ft.jsx)("h2",{className:"text-xl font-semibold",children:k?"Edit Tax Rate":"Add Tax Rate"})}),(0,Ft.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Ft.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tax Name *"}),(0,Ft.jsx)("input",{type:"text",value:C.name,onChange:e=>E(d(d({},C),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Sales Tax, VAT"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tax Rate *"}),(0,Ft.jsxs)("div",{className:"relative",children:[(0,Ft.jsx)("input",{type:"number",step:"0.01",min:"0",value:C.rate,onChange:e=>E(d(d({},C),{},{rate:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"8.25"}),(0,Ft.jsx)("span",{className:"absolute right-3 top-2 text-gray-500",children:"percentage"===C.type?"%":"$"})]})]})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tax Type"}),(0,Ft.jsx)("select",{value:C.type,onChange:e=>E(d(d({},C),{},{type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[{value:"percentage",label:"Percentage",description:"Calculated as % of amount"},{value:"fixed",label:"Fixed Amount",description:"Fixed dollar amount"},{value:"compound",label:"Compound",description:"Tax calculated on tax-inclusive amount"}].map((e=>(0,Ft.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,Ft.jsx)("select",{value:C.category,onChange:e=>E(d(d({},C),{},{category:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[{value:"sales",label:"Sales Tax",description:"Standard sales tax"},{value:"luxury",label:"Luxury Tax",description:"Tax on luxury items"},{value:"service",label:"Service Tax",description:"Tax on services"},{value:"vat",label:"VAT",description:"Value Added Tax"}].map((e=>(0,Ft.jsx)("option",{value:e.value,children:e.label},e.value)))})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,Ft.jsx)("textarea",{value:C.description,onChange:e=>E(d(d({},C),{},{description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",rows:"2",placeholder:"Tax description"})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Applies To"}),(0,Ft.jsxs)("select",{value:C.applies_to,onChange:e=>E(d(d({},C),{},{applies_to:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[(0,Ft.jsx)("option",{value:"subtotal",children:"Subtotal"}),(0,Ft.jsx)("option",{value:"total",children:"Total with other taxes"})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Jurisdiction"}),(0,Ft.jsx)("input",{type:"text",value:C.jurisdiction,onChange:e=>E(d(d({},C),{},{jurisdiction:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., City, State, Federal"})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tax ID"}),(0,Ft.jsx)("input",{type:"text",value:C.tax_id,onChange:e=>E(d(d({},C),{},{tax_id:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Tax identification number"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Apply Tax To"}),(0,Ft.jsxs)("div",{className:"space-y-2",children:[(0,Ft.jsxs)("label",{className:"flex items-center",children:[(0,Ft.jsx)("input",{type:"radio",name:"tax-application",checked:0===(C.applies_to_order_types||[]).length,onChange:()=>E(d(d({},C),{},{applies_to_order_types:[]})),className:"mr-2"}),(0,Ft.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"All Order Types"}),(0,Ft.jsx)("span",{className:"text-xs text-gray-500 ml-2",children:"(Dine-in, Takeout, Delivery, Phone Orders)"})]}),(0,Ft.jsxs)("label",{className:"flex items-center",children:[(0,Ft.jsx)("input",{type:"radio",name:"tax-application",checked:(C.applies_to_order_types||[]).length>0,onChange:()=>{0===(C.applies_to_order_types||[]).length&&E(d(d({},C),{},{applies_to_order_types:["dine_in"]}))},className:"mr-2"}),(0,Ft.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Specific Order Types Only"})]})]}),(C.applies_to_order_types||[]).length>0&&(0,Ft.jsxs)("div",{className:"mt-3 ml-6 space-y-2 bg-gray-50 p-3 rounded-md",children:[(0,Ft.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Select which order types this tax applies to:"}),F.map((e=>(0,Ft.jsxs)("label",{className:"flex items-center",children:[(0,Ft.jsx)("input",{type:"checkbox",checked:(C.applies_to_order_types||[]).includes(e),onChange:t=>{const n=C.applies_to_order_types||[];t.target.checked?E(d(d({},C),{},{applies_to_order_types:[...n,e]})):E(d(d({},C),{},{applies_to_order_types:n.filter((t=>t!==e))}))},className:"mr-2"}),(0,Ft.jsxs)("span",{className:"text-sm text-gray-700 capitalize",children:[e.replace("_","-"),"dine_in"===e&&" (Restaurant)","takeout"===e&&" (To-Go)","delivery"===e&&" (Delivery)","phone_order"===e&&" (Phone)"]})]},e)))]})]}),(0,Ft.jsxs)("div",{className:"flex space-x-4",children:[(0,Ft.jsxs)("label",{className:"flex items-center",children:[(0,Ft.jsx)("input",{type:"checkbox",checked:C.active,onChange:e=>E(d(d({},C),{},{active:e.target.checked})),className:"mr-2"}),(0,Ft.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Active"})]}),(0,Ft.jsxs)("label",{className:"flex items-center",children:[(0,Ft.jsx)("input",{type:"checkbox",checked:C.inclusive,onChange:e=>E(d(d({},C),{},{inclusive:e.target.checked})),className:"mr-2"}),(0,Ft.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Tax Inclusive (included in item prices)"})]})]})]}),(0,Ft.jsxs)("div",{className:"p-6 border-t flex justify-end space-x-3",children:[(0,Ft.jsx)("button",{onClick:()=>{b(!1),S(null),$()},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),(0,Ft.jsxs)("button",{onClick:async()=>{if(!C.name||!C.rate)return void alert("Please fill in tax name and rate");const e=parseFloat(C.rate);if(isNaN(e)||e<0)return void alert("Please enter a valid tax rate");const t={name:C.name,description:C.description,rate:e,type:C.type,category:C.category,applies_to:C.applies_to,jurisdiction:C.jurisdiction,tax_id:C.tax_id,applies_to_order_types:C.applies_to_order_types||[],active:C.active,inclusive:C.inclusive};try{if(k){const e=await At.put("".concat(It,"/tax-charges/tax-rates/").concat(k.id),t);s((t=>t.map((t=>t.id===k.id?e.data:t)))),alert("Tax rate updated successfully")}else{const e=await At.post("".concat(It,"/tax-charges/tax-rates"),t);s((t=>[...t,e.data])),alert("Tax rate added successfully")}b(!1),S(null),$(),n&&n()}catch(l){var r,a;console.error("Error saving tax rate:",l),alert("Failed to save tax rate: "+((null===(r=l.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.detail)||l.message))}},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[k?"Update":"Add"," Tax Rate"]})]})]})}),y&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-screen overflow-y-auto",children:[(0,Ft.jsx)("div",{className:"p-6 border-b",children:(0,Ft.jsx)("h2",{className:"text-xl font-semibold",children:k?"Edit Service Charge":"Add Service Charge"})}),(0,Ft.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Ft.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Charge Name *"}),(0,Ft.jsx)("input",{type:"text",value:T.name,onChange:e=>P(d(d({},T),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Service Charge, Delivery Fee"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount *"}),(0,Ft.jsxs)("div",{className:"relative",children:[(0,Ft.jsx)("input",{type:"number",step:"0.01",min:"0",value:T.amount,onChange:e=>P(d(d({},T),{},{amount:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"18.00"}),(0,Ft.jsx)("span",{className:"absolute right-3 top-2 text-gray-500",children:"percentage"===T.type?"%":"per_person"===T.type?"/person":"$"})]})]})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Charge Type"}),(0,Ft.jsx)("select",{value:T.type,onChange:e=>P(d(d({},T),{},{type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[{value:"percentage",label:"Percentage",description:"% of order amount"},{value:"fixed",label:"Fixed Amount",description:"Fixed dollar amount"},{value:"per_person",label:"Per Person",description:"Amount per person"}].map((e=>(0,Ft.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Applies To"}),(0,Ft.jsxs)("select",{value:T.applies_to,onChange:e=>P(d(d({},T),{},{applies_to:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[(0,Ft.jsx)("option",{value:"subtotal",children:"Subtotal"}),(0,Ft.jsx)("option",{value:"total_with_tax",children:"Total with Tax"})]})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,Ft.jsx)("textarea",{value:T.description,onChange:e=>P(d(d({},T),{},{description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",rows:"2",placeholder:"Charge description"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Conditions"}),(0,Ft.jsxs)("div",{className:"space-y-3",children:[(0,Ft.jsxs)("label",{className:"flex items-center",children:[(0,Ft.jsx)("input",{type:"checkbox",checked:T.conditions.includes("party_size"),onChange:e=>{e.target.checked?P(d(d({},T),{},{conditions:[...T.conditions,"party_size"]})):P(d(d({},T),{},{conditions:T.conditions.filter((e=>"party_size"!==e))}))},className:"mr-2"}),(0,Ft.jsx)("span",{className:"text-sm",children:"Apply based on party size"})]}),T.conditions.includes("party_size")&&(0,Ft.jsxs)("div",{className:"ml-6",children:[(0,Ft.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Minimum party size"}),(0,Ft.jsx)("input",{type:"number",min:"1",value:T.party_size_threshold,onChange:e=>P(d(d({},T),{},{party_size_threshold:e.target.value})),className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"6"})]}),(0,Ft.jsxs)("label",{className:"flex items-center",children:[(0,Ft.jsx)("input",{type:"checkbox",checked:T.conditions.includes("order_cost"),onChange:e=>{e.target.checked?P(d(d({},T),{},{conditions:[...T.conditions,"order_cost"]})):P(d(d({},T),{},{conditions:T.conditions.filter((e=>"order_cost"!==e))}))},className:"mr-2"}),(0,Ft.jsx)("span",{className:"text-sm",children:"Apply based on order total cost"})]}),T.conditions.includes("order_cost")&&(0,Ft.jsxs)("div",{className:"ml-6 space-y-2",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Minimum order amount ($)"}),(0,Ft.jsx)("input",{type:"number",min:"0",step:"0.01",value:T.minimum_amount,onChange:e=>P(d(d({},T),{},{minimum_amount:e.target.value})),className:"w-32 px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"25.00"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Maximum order amount ($) - optional"}),(0,Ft.jsx)("input",{type:"number",min:"0",step:"0.01",value:T.maximum_amount,onChange:e=>P(d(d({},T),{},{maximum_amount:e.target.value})),className:"w-32 px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"100.00"}),(0,Ft.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Leave empty for no maximum"})]})]})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Apply Service Charge To"}),(0,Ft.jsxs)("div",{className:"space-y-2",children:[(0,Ft.jsxs)("label",{className:"flex items-center",children:[(0,Ft.jsx)("input",{type:"radio",name:"charge-application",checked:0===T.order_types.length,onChange:()=>P(d(d({},T),{},{order_types:[]})),className:"mr-2"}),(0,Ft.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"All Order Types"}),(0,Ft.jsx)("span",{className:"text-xs text-gray-500 ml-2",children:"(Dine-in, Takeout, Delivery, Phone Orders)"})]}),(0,Ft.jsxs)("label",{className:"flex items-center",children:[(0,Ft.jsx)("input",{type:"radio",name:"charge-application",checked:T.order_types.length>0,onChange:()=>{0===T.order_types.length&&P(d(d({},T),{},{order_types:["dine_in"]}))},className:"mr-2"}),(0,Ft.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Specific Order Types Only"})]})]}),T.order_types.length>0&&(0,Ft.jsxs)("div",{className:"mt-3 ml-6 space-y-2 bg-gray-50 p-3 rounded-md",children:[(0,Ft.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Select which order types this charge applies to:"}),F.map((e=>(0,Ft.jsxs)("label",{className:"flex items-center",children:[(0,Ft.jsx)("input",{type:"checkbox",checked:T.order_types.includes(e),onChange:t=>{t.target.checked?P(d(d({},T),{},{order_types:[...T.order_types,e]})):P(d(d({},T),{},{order_types:T.order_types.filter((t=>t!==e))}))},className:"mr-2"}),(0,Ft.jsxs)("span",{className:"text-sm text-gray-700 capitalize",children:[e.replace("_","-"),"dine_in"===e&&" (Restaurant)","takeout"===e&&" (To-Go)","delivery"===e&&" (Delivery)","phone_order"===e&&" (Phone)"]})]},e)))]})]}),(0,Ft.jsxs)("div",{className:"flex space-x-4",children:[(0,Ft.jsxs)("label",{className:"flex items-center",children:[(0,Ft.jsx)("input",{type:"checkbox",checked:T.active,onChange:e=>P(d(d({},T),{},{active:e.target.checked})),className:"mr-2"}),(0,Ft.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Active"})]}),(0,Ft.jsxs)("label",{className:"flex items-center",children:[(0,Ft.jsx)("input",{type:"checkbox",checked:T.mandatory,onChange:e=>P(d(d({},T),{},{mandatory:e.target.checked})),className:"mr-2"}),(0,Ft.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Mandatory (cannot be removed)"})]})]})]}),(0,Ft.jsxs)("div",{className:"p-6 border-t flex justify-end space-x-3",children:[(0,Ft.jsx)("button",{onClick:()=>{v(!1),S(null),H()},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),(0,Ft.jsxs)("button",{onClick:async()=>{if(!T.name||!T.amount)return void alert("Please fill in charge name and amount");const e=parseFloat(T.amount);if(isNaN(e)||e<0)return void alert("Please enter a valid charge amount");const t={name:T.name,description:T.description,amount:e,type:T.type,applies_to_subtotal:"subtotal"===T.applies_to,conditions:T.conditions,minimum_order_amount:parseFloat(T.minimum_amount)||0,maximum_order_amount:parseFloat(T.maximum_amount)||0,party_size_threshold:parseInt(T.party_size_threshold)||0,applies_to_order_types:T.order_types||[],active:T.active,mandatory:T.mandatory};try{if(k){const e=await At.put("".concat(It,"/tax-charges/service-charges/").concat(k.id),t);i((t=>t.map((t=>t.id===k.id?e.data:t)))),alert("Service charge updated successfully")}else{const e=await At.post("".concat(It,"/tax-charges/service-charges"),t);i((t=>[...t,e.data])),alert("Service charge added successfully")}await D(),n&&n(),v(!1),S(null),H()}catch(s){var r,a;console.error("Error saving service charge:",s),alert("Failed to save service charge: "+((null===(r=s.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.detail)||s.message))}},className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:[k?"Update":"Add"," Service Charge"]})]})]})}),j&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-screen overflow-y-auto",children:[(0,Ft.jsx)("div",{className:"p-6 border-b",children:(0,Ft.jsx)("h2",{className:"text-xl font-semibold",children:k?"Edit Gratuity Rule":"Add Gratuity Rule"})}),(0,Ft.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Ft.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rule Name *"}),(0,Ft.jsx)("input",{type:"text",value:O.name,onChange:e=>A(d(d({},O),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Large Party Gratuity"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount *"}),(0,Ft.jsxs)("div",{className:"relative",children:[(0,Ft.jsx)("input",{type:"number",step:"0.01",min:"0",value:O.amount,onChange:e=>A(d(d({},O),{},{amount:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"20.00"}),(0,Ft.jsx)("span",{className:"absolute right-3 top-2 text-gray-500",children:"percentage"===O.type?"%":"$"})]})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,Ft.jsx)("textarea",{value:O.description,onChange:e=>A(d(d({},O),{},{description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",rows:"2",placeholder:"Gratuity rule description"})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trigger Condition"}),(0,Ft.jsxs)("select",{value:O.trigger_condition,onChange:e=>A(d(d({},O),{},{trigger_condition:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[(0,Ft.jsx)("option",{value:"party_size",children:"Party Size"}),(0,Ft.jsx)("option",{value:"order_amount",children:"Order Amount"}),(0,Ft.jsx)("option",{value:"manual",children:"Manual Only"})]})]}),(0,Ft.jsx)("div",{children:"party_size"===O.trigger_condition?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Party Size"}),(0,Ft.jsx)("input",{type:"number",min:"1",value:O.party_size_min,onChange:e=>A(d(d({},O),{},{party_size_min:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"6"})]}):"order_amount"===O.trigger_condition?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Order Amount"}),(0,Ft.jsx)("input",{type:"number",step:"0.01",min:"0",value:O.order_amount_min,onChange:e=>A(d(d({},O),{},{order_amount_min:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"200.00"})]}):null})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Applies to Order Types"}),(0,Ft.jsx)("div",{className:"grid grid-cols-2 gap-2",children:F.map((e=>(0,Ft.jsxs)("label",{className:"flex items-center",children:[(0,Ft.jsx)("input",{type:"checkbox",checked:O.applies_to_order_types.includes(e),onChange:t=>{t.target.checked?A(d(d({},O),{},{applies_to_order_types:[...O.applies_to_order_types,e]})):A(d(d({},O),{},{applies_to_order_types:O.applies_to_order_types.filter((t=>t!==e))}))},className:"mr-2"}),(0,Ft.jsx)("span",{className:"text-sm",children:e.replace("_"," ")})]},e)))})]}),(0,Ft.jsxs)("div",{className:"flex space-x-4",children:[(0,Ft.jsxs)("label",{className:"flex items-center",children:[(0,Ft.jsx)("input",{type:"checkbox",checked:O.auto_apply,onChange:e=>A(d(d({},O),{},{auto_apply:e.target.checked})),className:"mr-2"}),(0,Ft.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Auto-apply when conditions are met"})]}),(0,Ft.jsxs)("label",{className:"flex items-center",children:[(0,Ft.jsx)("input",{type:"checkbox",checked:O.customer_can_modify,onChange:e=>A(d(d({},O),{},{customer_can_modify:e.target.checked})),className:"mr-2"}),(0,Ft.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Customer can modify amount"})]}),(0,Ft.jsxs)("label",{className:"flex items-center",children:[(0,Ft.jsx)("input",{type:"checkbox",checked:O.active,onChange:e=>A(d(d({},O),{},{active:e.target.checked})),className:"mr-2"}),(0,Ft.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Active"})]})]})]}),(0,Ft.jsxs)("div",{className:"p-6 border-t flex justify-end space-x-3",children:[(0,Ft.jsx)("button",{onClick:()=>{N(!1),S(null),W()},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),(0,Ft.jsxs)("button",{onClick:async()=>{if(!O.name||!O.amount)return void alert("Please fill in gratuity name and amount");const e=parseFloat(O.amount);if(isNaN(e)||e<0)return void alert("Please enter a valid gratuity amount");const t={name:O.name,description:O.description,amount:e,type:O.type,minimum_order_amount:parseFloat(O.order_amount_min)||0,maximum_order_amount:0,party_size_minimum:parseInt(O.party_size_min)||0,applies_to_order_types:O.applies_to_order_types||[],active:O.active};try{if(k){const e=await At.put("".concat(It,"/tax-charges/gratuity-rules/").concat(k.id),t);c((t=>t.map((t=>t.id===k.id?e.data:t)))),alert("Gratuity rule updated successfully")}else{const e=await At.post("".concat(It,"/tax-charges/gratuity-rules"),t);c((t=>[...t,e.data])),alert("Gratuity rule added successfully")}N(!1),S(null),W(),n&&n()}catch(s){var r,a;console.error("Error saving gratuity rule:",s),alert("Failed to save gratuity rule: "+((null===(r=s.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.detail)||s.message))}},className:"px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700",children:[k?"Update":"Add"," Gratuity Rule"]})]})]})}),w&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-screen overflow-y-auto",children:[(0,Ft.jsx)("div",{className:"p-6 border-b",children:(0,Ft.jsx)("h2",{className:"text-xl font-semibold",children:k?"Edit Discount Policy":"Add Discount Policy"})}),(0,Ft.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Ft.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount Name *"}),(0,Ft.jsx)("input",{type:"text",value:z.name,onChange:e=>R(d(d({},z),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Employee Discount"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount Amount *"}),(0,Ft.jsxs)("div",{className:"relative",children:[(0,Ft.jsx)("input",{type:"number",step:"0.01",min:"0",value:z.amount,onChange:e=>R(d(d({},z),{},{amount:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"25.00"}),(0,Ft.jsx)("span",{className:"absolute right-3 top-2 text-gray-500",children:"percentage"===z.type?"%":"$"})]})]})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount Type"}),(0,Ft.jsxs)("select",{value:z.type,onChange:e=>R(d(d({},z),{},{type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[(0,Ft.jsx)("option",{value:"percentage",children:"Percentage"}),(0,Ft.jsx)("option",{value:"fixed",children:"Fixed Amount"}),(0,Ft.jsx)("option",{value:"buy_one_get_one",children:"Buy One Get One"})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,Ft.jsxs)("select",{value:z.category,onChange:e=>R(d(d({},z),{},{category:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[(0,Ft.jsx)("option",{value:"general",children:"General"}),(0,Ft.jsx)("option",{value:"employee",children:"Employee"}),(0,Ft.jsx)("option",{value:"senior",children:"Senior Citizen"}),(0,Ft.jsx)("option",{value:"student",children:"Student"}),(0,Ft.jsx)("option",{value:"military",children:"Military"})]})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,Ft.jsx)("textarea",{value:z.description,onChange:e=>R(d(d({},z),{},{description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",rows:"2",placeholder:"Discount description"})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Order Amount"}),(0,Ft.jsx)("input",{type:"number",step:"0.01",min:"0",value:z.minimum_order_amount,onChange:e=>R(d(d({},z),{},{minimum_order_amount:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"50.00"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Daily Usage Limit"}),(0,Ft.jsx)("input",{type:"number",min:"1",value:z.max_uses_per_day,onChange:e=>R(d(d({},z),{},{max_uses_per_day:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"50"})]})]}),(0,Ft.jsxs)("div",{className:"space-y-2",children:[(0,Ft.jsxs)("label",{className:"flex items-center",children:[(0,Ft.jsx)("input",{type:"checkbox",checked:z.requires_code,onChange:e=>R(d(d({},z),{},{requires_code:e.target.checked})),className:"mr-2"}),(0,Ft.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Requires discount code"})]}),z.requires_code&&(0,Ft.jsx)("input",{type:"text",value:z.discount_code,onChange:e=>R(d(d({},z),{},{discount_code:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"DISCOUNT CODE"})]}),(0,Ft.jsxs)("div",{className:"flex space-x-4",children:[(0,Ft.jsxs)("label",{className:"flex items-center",children:[(0,Ft.jsx)("input",{type:"checkbox",checked:z.stackable,onChange:e=>R(d(d({},z),{},{stackable:e.target.checked})),className:"mr-2"}),(0,Ft.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Stackable with other discounts"})]}),(0,Ft.jsxs)("label",{className:"flex items-center",children:[(0,Ft.jsx)("input",{type:"checkbox",checked:z.active,onChange:e=>R(d(d({},z),{},{active:e.target.checked})),className:"mr-2"}),(0,Ft.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Active"})]})]})]}),(0,Ft.jsxs)("div",{className:"p-6 border-t flex justify-end space-x-3",children:[(0,Ft.jsx)("button",{onClick:()=>{_(!1),S(null),V()},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),(0,Ft.jsxs)("button",{onClick:async()=>{if(!z.name||!z.amount)return void alert("Please fill in discount name and amount");const e=parseFloat(z.amount);if(isNaN(e)||e<0)return void alert("Please enter a valid discount amount");const t={name:z.name,description:z.description,amount:e,type:z.type,category:z.category,conditions:z.conditions,minimum_order_amount:parseFloat(z.minimum_order_amount)||0,valid_days:z.valid_days,valid_hours_start:z.valid_hours_start,valid_hours_end:z.valid_hours_end,max_uses_per_day:parseInt(z.max_uses_per_day)||0,requires_code:z.requires_code,discount_code:z.discount_code,stackable:z.stackable,active:z.active,expiry_date:z.expiry_date};try{if(k){const e=await At.put("".concat(It,"/tax-charges/discount-policies/").concat(k.id),t);m((t=>t.map((t=>t.id===k.id?e.data:t)))),alert("Discount policy updated successfully")}else{const e=await At.post("".concat(It,"/tax-charges/discount-policies"),t);m((t=>[...t,e.data])),alert("Discount policy added successfully")}_(!1),S(null),V(),n&&n()}catch(s){var r,a;console.error("Error saving discount policy:",s),alert("Failed to save discount policy: "+((null===(r=s.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.detail)||s.message))}},className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:[k?"Update":"Add"," Discount Policy"]})]})]})})]})},fn=e=>{let{onBack:t}=e;const[n,r]=(0,a.useState)([]),[s,l]=(0,a.useState)([]),[i,o]=(0,a.useState)([]),[c,u]=(0,a.useState)(!0),[m,p]=(0,a.useState)("employees"),[f,h]=(0,a.useState)(""),[x,g]=(0,a.useState)("all"),[b,y]=(0,a.useState)(!1),[v,j]=(0,a.useState)(!1),[N,w]=(0,a.useState)(!1),[_,k]=(0,a.useState)(!1),[S,C]=(0,a.useState)(null),[E,T]=(0,a.useState)(null),[P,O]=(0,a.useState)({full_name:"",email:"",phone:"",role:"employee",pin:"",hourly_rate:"15.00",active:!0,hire_date:"",department:"",emergency_contact:"",emergency_phone:""}),[A,z]=(0,a.useState)({employee_id:"",day_of_week:"monday",start_time:"09:00",end_time:"17:00",is_working_day:!0}),[R,F]=(0,a.useState)({employee_id:"",date:(new Date).toISOString().split("T")[0],clock_in:"",clock_out:"",break_minutes:"30",notes:""}),D=[{value:"employee",label:"Employee",permissions:["take_orders","process_payments"]},{value:"manager",label:"Manager",permissions:["take_orders","process_payments","manage_staff","view_reports","manage_inventory"]},{value:"admin",label:"Admin",permissions:["all"]}],L=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];(0,a.useEffect)((()=>{M()}),[]);const M=async()=>{try{u(!0);const[e,t]=await Promise.all([At.get("".concat(It,"/auth/users")),Promise.resolve({data:I()})]);r(e.data),l(t.data),o(U(e.data))}catch(e){console.error("Error fetching staff data:",e),alert("Failed to load staff data")}finally{u(!1)}},I=()=>{const e=[],t=new Date;for(let n=0;n<7;n++){const r=new Date(t);r.setDate(t.getDate()-n),e.push({id:"entry-".concat(n),employee_id:"emp-1",date:r.toISOString().split("T")[0],clock_in:"09:00",clock_out:0===n?null:"17:00",break_minutes:30,total_hours:0===n?null:7.5,notes:""})}return e},U=e=>{const t=[];return e.forEach((e=>{L.forEach(((n,r)=>{t.push({id:"schedule-".concat(e.id,"-").concat(n),employee_id:e.id,day_of_week:n,start_time:r<5?"09:00":"10:00",end_time:r<5?"17:00":"18:00",is_working_day:r<6})}))})),t},B=(e,t)=>{const[n,r]=e.split(":").map(Number),[a,s]=t.split(":").map(Number);return((60*a+s-(60*n+r))/60).toFixed(2)},q=()=>{O({full_name:"",email:"",phone:"",role:"employee",pin:"",hourly_rate:"15.00",active:!0,hire_date:"",department:"",emergency_contact:"",emergency_phone:""})},$=e=>{const t=(new Date).toISOString().split("T")[0],n=s.find((n=>n.employee_id===e.id&&n.date===t));return n&&!n.clock_out?{status:"clocked_in",color:"bg-green-100 text-green-800",time:n.clock_in}:n&&n.clock_out?{status:"clocked_out",color:"bg-gray-100 text-gray-800",time:n.clock_out}:{status:"not_started",color:"bg-yellow-100 text-yellow-800",time:null}},H=n.filter((e=>{const t=e.full_name.toLowerCase().includes(f.toLowerCase())||e.email.toLowerCase().includes(f.toLowerCase()),n="all"===x||e.role===x;return t&&n})),W={total:n.length,active:n.filter((e=>!1!==e.active)).length,managers:n.filter((e=>"manager"===e.role)).length,employees:n.filter((e=>"employee"===e.role)).length,clockedIn:n.filter((e=>"clocked_in"===$(e).status)).length};return c?(0,Ft.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Ft.jsxs)("div",{className:"text-center",children:[(0,Ft.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Ft.jsx)("p",{className:"text-gray-600",children:"Loading staff data..."})]})}):(0,Ft.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Ft.jsx)("div",{className:"bg-white shadow-sm border-b p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ft.jsxs)("button",{onClick:t,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800",children:[(0,Ft.jsx)("span",{children:"\u2190"}),(0,Ft.jsx)("span",{children:"Back to Settings"})]}),(0,Ft.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Staff Management"})]}),(0,Ft.jsx)("div",{className:"flex items-center space-x-4",children:(0,Ft.jsxs)("button",{onClick:()=>y(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[(0,Ft.jsx)("span",{children:"+"}),(0,Ft.jsx)("span",{children:"Add Employee"})]})})]})}),(0,Ft.jsx)("div",{className:"bg-white border-b p-6",children:(0,Ft.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,Ft.jsxs)("div",{className:"text-center",children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-gray-800",children:W.total}),(0,Ft.jsx)("div",{className:"text-sm text-gray-600",children:"Total Staff"})]}),(0,Ft.jsxs)("div",{className:"text-center",children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-green-600",children:W.clockedIn}),(0,Ft.jsx)("div",{className:"text-sm text-gray-600",children:"Clocked In"})]}),(0,Ft.jsxs)("div",{className:"text-center",children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:W.active}),(0,Ft.jsx)("div",{className:"text-sm text-gray-600",children:"Active"})]}),(0,Ft.jsxs)("div",{className:"text-center",children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:W.managers}),(0,Ft.jsx)("div",{className:"text-sm text-gray-600",children:"Managers"})]}),(0,Ft.jsxs)("div",{className:"text-center",children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:W.employees}),(0,Ft.jsx)("div",{className:"text-sm text-gray-600",children:"Employees"})]})]})}),(0,Ft.jsx)("div",{className:"bg-white border-b",children:(0,Ft.jsx)("div",{className:"flex space-x-8 px-6",children:[{id:"employees",name:"Employees",icon:"\ud83d\udc65"},{id:"schedules",name:"Schedules",icon:"\ud83d\udcc5"},{id:"timesheet",name:"Time & Attendance",icon:"\u23f0"},{id:"permissions",name:"Roles & Permissions",icon:"\ud83d\udd10"}].map((e=>(0,Ft.jsxs)("button",{onClick:()=>p(e.id),className:"flex items-center space-x-2 py-4 px-2 border-b-2 font-medium text-sm ".concat(m===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:[(0,Ft.jsx)("span",{children:e.icon}),(0,Ft.jsx)("span",{children:e.name})]},e.id)))})}),(0,Ft.jsxs)("div",{className:"p-6",children:["employees"===m&&(0,Ft.jsxs)("div",{className:"space-y-6",children:[(0,Ft.jsx)("div",{className:"bg-white p-4 rounded-lg border",children:(0,Ft.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[(0,Ft.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center space-y-2 md:space-y-0 md:space-x-4",children:[(0,Ft.jsxs)("div",{className:"relative",children:[(0,Ft.jsx)("input",{type:"text",placeholder:"Search employees...",value:f,onChange:e=>h(e.target.value),className:"w-full md:w-64 px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"}),(0,Ft.jsx)("span",{className:"absolute right-3 top-2.5 text-gray-400",children:"\ud83d\udd0d"})]}),(0,Ft.jsxs)("select",{value:x,onChange:e=>g(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[(0,Ft.jsx)("option",{value:"all",children:"All Roles"}),D.map((e=>(0,Ft.jsx)("option",{value:e.value,children:e.label},e.value)))]})]}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-600",children:[H.length," employees found"]})]})}),(0,Ft.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:H.map((e=>{var t,n;const r=$(e),a=(e=>{const t=(new Date).toLocaleDateString("en-US",{weekday:"long"}).toLowerCase();return i.find((n=>n.employee_id===e&&n.day_of_week===t))})(e.id),o=(e=>{const t=new Date;return t.setDate(t.getDate()-t.getDay()),s.filter((n=>{const r=new Date(n.date);return n.employee_id===e&&r>=t&&n.total_hours})).reduce(((e,t)=>e+parseFloat(t.total_hours||0)),0)})(e.id);return(0,Ft.jsxs)("div",{className:"bg-white border rounded-lg p-6 hover:shadow-lg transition-shadow",children:[(0,Ft.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ft.jsx)("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold text-lg",children:(null===(t=e.full_name)||void 0===t||null===(n=t.charAt(0))||void 0===n?void 0:n.toUpperCase())||"U"}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h3",{className:"font-semibold text-lg text-gray-800",children:e.full_name}),(0,Ft.jsx)("p",{className:"text-sm text-gray-600",children:e.email})]})]}),(0,Ft.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(r.color),children:r.status.replace("_"," ").toUpperCase()})]}),(0,Ft.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{className:"text-sm text-gray-600",children:"Role:"}),(0,Ft.jsx)("span",{className:"text-sm font-medium",children:e.role})]}),(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{className:"text-sm text-gray-600",children:"Hourly Rate:"}),(0,Ft.jsxs)("span",{className:"text-sm font-medium",children:["$",e.hourly_rate||"15.00","/hr"]})]}),(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{className:"text-sm text-gray-600",children:"Weekly Hours:"}),(0,Ft.jsxs)("span",{className:"text-sm font-medium",children:[o.toFixed(1),"h"]})]}),a&&(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{className:"text-sm text-gray-600",children:"Today's Schedule:"}),(0,Ft.jsx)("span",{className:"text-sm font-medium",children:a.is_working_day?"".concat(a.start_time,"-").concat(a.end_time):"Off"})]}),r.time&&(0,Ft.jsxs)("div",{className:"flex justify-between",children:[(0,Ft.jsx)("span",{className:"text-sm text-gray-600",children:"clocked_in"===r.status?"Clocked In:":"Clocked Out:"}),(0,Ft.jsx)("span",{className:"text-sm font-medium",children:r.time})]})]}),(0,Ft.jsxs)("div",{className:"flex space-x-2",children:[(0,Ft.jsx)("button",{onClick:()=>(async e=>{const t=(new Date).toISOString().split("T")[0],n=(new Date).toTimeString().slice(0,5),r=s.find((n=>n.employee_id===e.id&&n.date===t&&!n.clock_out));if(r){const t=s.map((e=>e.id===r.id?d(d({},e),{},{clock_out:n,total_hours:B(e.clock_in,n)}):e));l(t),alert("".concat(e.full_name," clocked out at ").concat(n))}else{const r={id:"entry-".concat(Date.now()),employee_id:e.id,date:t,clock_in:n,clock_out:null,break_minutes:0,total_hours:null,notes:""};l([...s,r]),alert("".concat(e.full_name," clocked in at ").concat(n))}})(e),className:"flex-1 px-3 py-2 rounded text-sm font-medium ".concat("clocked_in"===r.status?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"),children:"clocked_in"===r.status?"Clock Out":"Clock In"}),(0,Ft.jsx)("button",{onClick:()=>(e=>{var t;O({full_name:e.full_name,email:e.email,phone:e.phone||"",role:e.role,pin:"",hourly_rate:(null===(t=e.hourly_rate)||void 0===t?void 0:t.toString())||"15.00",active:!1!==e.active,hire_date:e.hire_date||"",department:e.department||"",emergency_contact:e.emergency_contact||"",emergency_phone:e.emergency_phone||""}),C(e),j(!0)})(e),className:"px-3 py-2 bg-blue-100 text-blue-700 rounded text-sm font-medium hover:bg-blue-200",children:"Edit"}),(0,Ft.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete ".concat(e.full_name,"?")))try{await At.delete("".concat(It,"/auth/users/").concat(e.id)),alert("Employee deleted successfully"),M()}catch(t){console.error("Error deleting employee:",t),alert("Failed to delete employee")}})(e),className:"px-3 py-2 bg-red-100 text-red-700 rounded text-sm font-medium hover:bg-red-200",children:"Delete"})]})]},e.id)}))}),0===H.length&&(0,Ft.jsxs)("div",{className:"text-center py-12",children:[(0,Ft.jsx)("span",{className:"text-6xl mb-4 block",children:"\ud83d\udc65"}),(0,Ft.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No employees found"}),(0,Ft.jsx)("p",{className:"text-gray-500 mb-4",children:"Get started by adding your first employee"}),(0,Ft.jsx)("button",{onClick:()=>y(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Add Employee"})]})]}),"schedules"===m&&(0,Ft.jsxs)("div",{className:"space-y-6",children:[(0,Ft.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ft.jsx)("h2",{className:"text-xl font-semibold",children:"Employee Schedules"}),(0,Ft.jsx)("button",{onClick:()=>w(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Manage Schedules"})]}),(0,Ft.jsx)("div",{className:"bg-white border rounded-lg overflow-x-auto",children:(0,Ft.jsxs)("table",{className:"min-w-full",children:[(0,Ft.jsx)("thead",{className:"bg-gray-50",children:(0,Ft.jsxs)("tr",{children:[(0,Ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),L.map((e=>(0,Ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.slice(0,3)},e))),(0,Ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Weekly Hours"})]})}),(0,Ft.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((e=>{var t,n;const r=i.filter((t=>t.employee_id===e.id)),a=r.filter((e=>e.is_working_day)).reduce(((e,t)=>{const[n,r]=t.start_time.split(":").map(Number),[a,s]=t.end_time.split(":").map(Number);return e+(60*a+s-60*n-r)/60}),0);return(0,Ft.jsxs)("tr",{children:[(0,Ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ft.jsxs)("div",{className:"flex items-center",children:[(0,Ft.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:(null===(t=e.full_name)||void 0===t||null===(n=t.charAt(0))||void 0===n?void 0:n.toUpperCase())||"U"}),(0,Ft.jsxs)("div",{className:"ml-3",children:[(0,Ft.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.full_name}),(0,Ft.jsx)("div",{className:"text-sm text-gray-500",children:e.role})]})]})}),L.map((e=>{const t=r.find((t=>t.day_of_week===e));return(0,Ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:null!==t&&void 0!==t&&t.is_working_day?(0,Ft.jsxs)("div",{className:"text-center",children:[(0,Ft.jsx)("div",{className:"font-medium",children:t.start_time}),(0,Ft.jsx)("div",{className:"text-gray-500",children:"to"}),(0,Ft.jsx)("div",{className:"font-medium",children:t.end_time})]}):(0,Ft.jsx)("div",{className:"text-center text-gray-400",children:"Off"})},e)})),(0,Ft.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[a.toFixed(1),"h"]})]},e.id)}))})]})})]}),"timesheet"===m&&(0,Ft.jsxs)("div",{className:"space-y-6",children:[(0,Ft.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ft.jsx)("h2",{className:"text-xl font-semibold",children:"Time & Attendance"}),(0,Ft.jsx)("button",{onClick:()=>k(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Add Time Entry"})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Ft.jsxs)("div",{className:"bg-white p-4 rounded-lg border",children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-green-600",children:W.clockedIn}),(0,Ft.jsx)("div",{className:"text-sm text-gray-600",children:"Currently Clocked In"})]}),(0,Ft.jsxs)("div",{className:"bg-white p-4 rounded-lg border",children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:s.filter((e=>e.date===(new Date).toISOString().split("T")[0])).length}),(0,Ft.jsx)("div",{className:"text-sm text-gray-600",children:"Today's Entries"})]}),(0,Ft.jsxs)("div",{className:"bg-white p-4 rounded-lg border",children:[(0,Ft.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[s.filter((e=>e.total_hours)).reduce(((e,t)=>e+parseFloat(t.total_hours)),0).toFixed(1),"h"]}),(0,Ft.jsx)("div",{className:"text-sm text-gray-600",children:"Total Hours This Week"})]}),(0,Ft.jsxs)("div",{className:"bg-white p-4 rounded-lg border",children:[(0,Ft.jsxs)("div",{className:"text-2xl font-bold text-orange-600",children:["$",(15*s.filter((e=>e.total_hours)).reduce(((e,t)=>e+parseFloat(t.total_hours)),0)).toFixed(2)]}),(0,Ft.jsx)("div",{className:"text-sm text-gray-600",children:"Estimated Payroll"})]})]}),(0,Ft.jsx)("div",{className:"bg-white border rounded-lg overflow-x-auto",children:(0,Ft.jsxs)("table",{className:"min-w-full",children:[(0,Ft.jsx)("thead",{className:"bg-gray-50",children:(0,Ft.jsxs)("tr",{children:[(0,Ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),(0,Ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,Ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Clock In"}),(0,Ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Clock Out"}),(0,Ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Hours"}),(0,Ft.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,Ft.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.slice(0,20).map((e=>{const t=n.find((t=>t.id===e.employee_id)),r=!e.clock_out;return(0,Ft.jsxs)("tr",{children:[(0,Ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ft.jsx)("div",{className:"text-sm font-medium text-gray-900",children:(null===t||void 0===t?void 0:t.full_name)||"Unknown Employee"})}),(0,Ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.date).toLocaleDateString()}),(0,Ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.clock_in}),(0,Ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.clock_out||(0,Ft.jsx)("span",{className:"text-green-600 font-medium",children:"Active"})}),(0,Ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.total_hours?"".concat(e.total_hours,"h"):(0,Ft.jsx)("span",{className:"text-blue-600",children:"In Progress"})}),(0,Ft.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ft.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(r?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:r?"Clocked In":"Completed"})})]},e.id)}))})]})})]}),"permissions"===m&&(0,Ft.jsxs)("div",{className:"space-y-6",children:[(0,Ft.jsx)("h2",{className:"text-xl font-semibold",children:"Roles & Permissions"}),(0,Ft.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:D.map((e=>{const t=n.filter((t=>t.role===e.value));return(0,Ft.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:e.label}),(0,Ft.jsxs)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-sm font-medium",children:[t.length," people"]})]}),(0,Ft.jsxs)("div",{className:"mb-4",children:[(0,Ft.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Permissions:"}),(0,Ft.jsx)("div",{className:"space-y-1",children:e.permissions.map((e=>(0,Ft.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Ft.jsx)("span",{className:"text-green-500 mr-2",children:"\u2713"}),(0,Ft.jsx)("span",{className:"text-gray-600",children:e.replace("_"," ").replace(/\b\w/g,(e=>e.toUpperCase()))})]},e)))})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Employees:"}),(0,Ft.jsxs)("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:[t.map((e=>(0,Ft.jsx)("div",{className:"text-sm text-gray-600",children:e.full_name},e.id))),0===t.length&&(0,Ft.jsx)("div",{className:"text-sm text-gray-400 italic",children:"No employees with this role"})]})]})]},e.value)}))})]})]}),b&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-screen overflow-y-auto",children:[(0,Ft.jsx)("div",{className:"p-6 border-b",children:(0,Ft.jsx)("h2",{className:"text-xl font-semibold",children:"Add New Employee"})}),(0,Ft.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Ft.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),(0,Ft.jsx)("input",{type:"text",value:P.full_name,onChange:e=>O(d(d({},P),{},{full_name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter full name"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),(0,Ft.jsx)("input",{type:"email",value:P.email,onChange:e=>O(d(d({},P),{},{email:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter email"})]})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,Ft.jsx)("input",{type:"tel",value:P.phone,onChange:e=>O(d(d({},P),{},{phone:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter phone number"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),(0,Ft.jsxs)("select",{value:P.department,onChange:e=>O(d(d({},P),{},{department:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[(0,Ft.jsx)("option",{value:"",children:"Select Department"}),["Kitchen","Service","Bar","Management","Cleaning"].map((e=>(0,Ft.jsx)("option",{value:e,children:e},e)))]})]})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),(0,Ft.jsx)("select",{value:P.role,onChange:e=>O(d(d({},P),{},{role:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:D.map((e=>(0,Ft.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PIN (4 digits) *"}),(0,Ft.jsx)("input",{type:"password",maxLength:"4",value:P.pin,onChange:e=>O(d(d({},P),{},{pin:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"4-digit PIN"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hourly Rate ($)"}),(0,Ft.jsx)("input",{type:"number",step:"0.01",min:"0",value:P.hourly_rate,onChange:e=>O(d(d({},P),{},{hourly_rate:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"15.00"})]})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hire Date"}),(0,Ft.jsx)("input",{type:"date",value:P.hire_date,onChange:e=>O(d(d({},P),{},{hire_date:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),(0,Ft.jsx)("div",{className:"flex items-center",children:(0,Ft.jsxs)("label",{className:"flex items-center",children:[(0,Ft.jsx)("input",{type:"checkbox",checked:P.active,onChange:e=>O(d(d({},P),{},{active:e.target.checked})),className:"mr-2"}),(0,Ft.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Active Employee"})]})})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Emergency Contact"}),(0,Ft.jsx)("input",{type:"text",value:P.emergency_contact,onChange:e=>O(d(d({},P),{},{emergency_contact:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Emergency contact name"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Emergency Phone"}),(0,Ft.jsx)("input",{type:"tel",value:P.emergency_phone,onChange:e=>O(d(d({},P),{},{emergency_phone:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Emergency contact phone"})]})]})]}),(0,Ft.jsxs)("div",{className:"p-6 border-t flex justify-end space-x-3",children:[(0,Ft.jsx)("button",{onClick:()=>{y(!1),q()},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),(0,Ft.jsx)("button",{onClick:async()=>{if(P.full_name&&P.email&&P.pin)if(4===P.pin.length)try{const e={full_name:P.full_name,email:P.email,phone:P.phone||"",role:P.role,pin:P.pin,hourly_rate:parseFloat(P.hourly_rate)||15,active:P.active};console.log("Sending employee data:",e);const t=await At.post("".concat(It,"/auth/register"),e);console.log("Employee creation response:",t),alert("Employee added successfully"),y(!1),q(),M()}catch(e){console.error("Error adding employee:",e);let t="Failed to add employee";t=e.response?e.response.data?"string"===typeof e.response.data?e.response.data:e.response.data.detail?e.response.data.detail:e.response.data.message?e.response.data.message:"Server error: ".concat(e.response.status):"Server error: ".concat(e.response.status):e.request?"Network error: Unable to connect to server":e.message||"Unknown error occurred",alert(t)}else alert("PIN must be exactly 4 digits");else alert("Please fill in all required fields (Name, Email, PIN)")},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Add Employee"})]})]})}),v&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-screen overflow-y-auto",children:[(0,Ft.jsx)("div",{className:"p-6 border-b",children:(0,Ft.jsx)("h2",{className:"text-xl font-semibold",children:"Edit Employee"})}),(0,Ft.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Ft.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),(0,Ft.jsx)("input",{type:"text",value:P.full_name,onChange:e=>O(d(d({},P),{},{full_name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),(0,Ft.jsx)("input",{type:"email",value:P.email,onChange:e=>O(d(d({},P),{},{email:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),(0,Ft.jsx)("select",{value:P.role,onChange:e=>O(d(d({},P),{},{role:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:D.map((e=>(0,Ft.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New PIN (4 digits)"}),(0,Ft.jsx)("input",{type:"password",maxLength:"4",value:P.pin,onChange:e=>O(d(d({},P),{},{pin:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Leave empty to keep current"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hourly Rate ($)"}),(0,Ft.jsx)("input",{type:"number",step:"0.01",min:"0",value:P.hourly_rate,onChange:e=>O(d(d({},P),{},{hourly_rate:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Ft.jsx)("div",{className:"flex items-center",children:(0,Ft.jsxs)("label",{className:"flex items-center",children:[(0,Ft.jsx)("input",{type:"checkbox",checked:P.active,onChange:e=>O(d(d({},P),{},{active:e.target.checked})),className:"mr-2"}),(0,Ft.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Active Employee"})]})})]}),(0,Ft.jsxs)("div",{className:"p-6 border-t flex justify-end space-x-3",children:[(0,Ft.jsx)("button",{onClick:()=>{j(!1),C(null),q()},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),(0,Ft.jsx)("button",{onClick:async()=>{if(P.full_name&&P.email)try{const e={full_name:P.full_name,email:P.email,phone:P.phone||"",role:P.role,hourly_rate:parseFloat(P.hourly_rate)||15,active:P.active};P.pin&&4===P.pin.length&&(e.pin=P.pin),console.log("Updating employee with data:",e);const t=await At.put("".concat(It,"/auth/users/").concat(S.id),e);console.log("Employee update response:",t),alert("Employee updated successfully"),j(!1),C(null),q(),M()}catch(e){console.error("Error updating employee:",e);let t="Failed to update employee";t=e.response?e.response.data?"string"===typeof e.response.data?e.response.data:e.response.data.detail?e.response.data.detail:e.response.data.message?e.response.data.message:"Server error: ".concat(e.response.status):"Server error: ".concat(e.response.status):e.request?"Network error: Unable to connect to server":e.message||"Unknown error occurred",alert(t)}else alert("Please fill in all required fields")},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Update Employee"})]})]})})]})},hn=e=>{let{tables:t,onUpdateTablePosition:n,onSaveFloorPlan:r,onLoadFloorPlan:s}=e;const[l,i]=(0,a.useState)({}),[o,c]=(0,a.useState)([]),[u,m]=(0,a.useState)("select"),[p,f]=(0,a.useState)(null),[h,x]=(0,a.useState)(null),[g,b]=(0,a.useState)(null),[y,v]=(0,a.useState)(!1),[j,N]=(0,a.useState)(!1),[w,_]=(0,a.useState)(!1),[k,S]=(0,a.useState)(""),[C,E]=(0,a.useState)([]),[T,P]=(0,a.useState)({width:800,height:600}),[O,A]=(0,a.useState)(1),[z,R]=(0,a.useState)({x:0,y:0}),F=(0,a.useRef)(null),[D,L]=(0,a.useState)(!1),[M,I]=(0,a.useState)({x:0,y:0});(0,a.useEffect)((()=>{U(),B()}),[]);const U=()=>{const e=s();i(e.tables||{}),c(e.rooms||[]),e.canvasSize&&P(e.canvasSize)},B=()=>{try{const e=JSON.parse(localStorage.getItem("floorPlans")||"{}");E(Object.keys(e))}catch(e){console.error("Error loading saved floor plans:",e)}},q=e=>{const n=l[e.id];if(n)return{x:n.x||0,y:n.y||0};const r=t.findIndex((t=>t.id===e.id));return{x:r%10*80+20,y:80*Math.floor(r/10)+20}},$=e=>{const t=q(e);let n="#f3f4f6",r="#d1d5db";switch(e.status){case"available":n="#dcfce7",r="#16a34a";break;case"occupied":n="#fecaca",r="#dc2626";break;case"needs_cleaning":n="#fef3c7",r="#d97706";break;case"reserved":n="#dbeafe",r="#2563eb"}return{position:"absolute",left:t.x*O+z.x,top:t.y*O+z.y,width:60*O,height:60*O,backgroundColor:n,border:"2px solid ".concat(r),borderRadius:"8px",cursor:"select"===u?"grab":"default",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"".concat(12*O,"px"),fontWeight:"bold",userSelect:"none",zIndex:(null===h||void 0===h?void 0:h.id)===e.id?1e3:1,boxShadow:(null===h||void 0===h?void 0:h.id)===e.id?"0 0 0 3px rgba(59, 130, 246, 0.5)":"none"}};return(0,Ft.jsxs)("div",{className:"bg-white border rounded-lg overflow-hidden",children:[(0,Ft.jsxs)("div",{className:"border-b p-4 bg-gray-50",children:[(0,Ft.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ft.jsx)("h3",{className:"font-semibold text-gray-800",children:"Floor Plan Designer"}),(0,Ft.jsx)("div",{className:"flex bg-white border rounded-lg overflow-hidden",children:[{id:"select",icon:"\ud83d\udc46",label:"Select"},{id:"table",icon:"\ud83e\ude91",label:"Add Table"},{id:"room",icon:"\ud83c\udfe0",label:"Add Room"},{id:"wall",icon:"\ud83e\uddf1",label:"Add Wall"}].map((e=>(0,Ft.jsx)("button",{onClick:()=>m(e.id),className:"px-3 py-2 text-sm font-medium ".concat(u===e.id?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-100"),title:e.label,children:e.icon},e.id)))})]}),(0,Ft.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-2 bg-white border rounded-lg px-2 py-1",children:[(0,Ft.jsx)("button",{onClick:()=>A(Math.max(.25,O-.25)),className:"p-1 hover:bg-gray-100 rounded",children:"\ud83d\udd0d-"}),(0,Ft.jsxs)("span",{className:"text-sm font-medium",children:[Math.round(100*O),"%"]}),(0,Ft.jsx)("button",{onClick:()=>A(Math.min(3,O+.25)),className:"p-1 hover:bg-gray-100 rounded",children:"\ud83d\udd0d+"})]}),(0,Ft.jsx)("button",{onClick:()=>v(!0),className:"bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700 text-sm",children:"\ud83d\udcbe Save"}),(0,Ft.jsx)("button",{onClick:()=>N(!0),className:"bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 text-sm",children:"\ud83d\udcc2 Load"}),(0,Ft.jsx)("button",{onClick:()=>_(!0),className:"bg-purple-600 text-white px-3 py-2 rounded-lg hover:bg-purple-700 text-sm",children:"\ud83d\udce4 Export"})]})]}),(0,Ft.jsxs)("div",{className:"flex items-center justify-between mt-2 text-sm text-gray-600",children:[(0,Ft.jsxs)("div",{children:["Tool: ",(0,Ft.jsx)("span",{className:"font-medium",children:u.charAt(0).toUpperCase()+u.slice(1)}),h&&(0,Ft.jsxs)("span",{className:"ml-4",children:["Selected: ",(0,Ft.jsx)("span",{className:"font-medium",children:h.name||"Table ".concat(h.number)})]})]}),(0,Ft.jsxs)("div",{children:["Tables: ",t.length," | Canvas: ",T.width,"\xd7",T.height," | Zoom: ",Math.round(100*O),"%"]})]})]}),(0,Ft.jsxs)("div",{className:"relative overflow-hidden bg-gray-100",style:{height:"600px"},children:[(0,Ft.jsxs)("div",{ref:F,className:"relative w-full h-full cursor-crosshair",onClick:e=>{if("table"===u){const t=F.current.getBoundingClientRect();e.clientX,t.left,z.x,e.clientY,t.top,z.y;alert("Table addition from canvas coming soon - use Add Table button for now")}},onMouseUp:e=>{if(!p||!D)return;const t=F.current.getBoundingClientRect(),r=(e.clientX-t.left-z.x)/O,a=(e.clientY-t.top-z.y)/O,s={x:Math.max(0,r),y:Math.max(0,a)};i((e=>d(d({},e),{},{[p.id]:d(d({},e[p.id]),s)}))),n(p.id,s),f(null),L(!1)},style:{backgroundImage:"radial-gradient(circle, #e5e7eb 1px, transparent 1px)",backgroundSize:"".concat(20*O,"px ").concat(20*O,"px"),backgroundPosition:"".concat(z.x,"px ").concat(z.y,"px")},children:[(0,Ft.jsx)("div",{className:"absolute inset-0 pointer-events-none"}),o.map((e=>(0,Ft.jsx)("div",{className:"absolute border-2 border-dashed border-gray-400 bg-gray-50 bg-opacity-50 pointer-events-none",style:{left:e.x*O+z.x,top:e.y*O+z.y,width:e.width*O,height:e.height*O},children:(0,Ft.jsx)("div",{className:"absolute top-1 left-2 text-xs font-medium text-gray-600",children:e.name})},e.id))),t.map((e=>{var t;return(0,Ft.jsx)("div",{style:$(e),onMouseDown:t=>((e,t)=>{if("select"!==u)return;f(t),L(!0);const n=F.current.getBoundingClientRect();I({x:e.clientX-n.left,y:e.clientY-n.top})})(t,e),onClick:t=>{t.stopPropagation(),x(e)},className:"transition-all duration-200 hover:shadow-lg",children:(0,Ft.jsxs)("div",{className:"text-center leading-none",children:[(0,Ft.jsx)("div",{className:"font-bold",children:(null===(t=e.name)||void 0===t?void 0:t.slice(0,8))||e.number}),(0,Ft.jsxs)("div",{className:"text-xs opacity-75",children:[e.capacity," seats"]})]})},e.id)})),h&&(0,Ft.jsx)("div",{className:"absolute pointer-events-none border-2 border-blue-500 border-dashed",style:{left:q(h).x*O+z.x-2,top:q(h).y*O+z.y-2,width:64*O,height:64*O,borderRadius:"8px"}})]}),(0,Ft.jsxs)("div",{className:"absolute bottom-4 right-4 bg-white border rounded-lg p-3 shadow-lg",children:[(0,Ft.jsx)("div",{className:"text-sm font-medium mb-2",children:"Status Legend"}),(0,Ft.jsxs)("div",{className:"space-y-1 text-xs",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ft.jsx)("div",{className:"w-3 h-3 bg-green-200 border border-green-600 rounded"}),(0,Ft.jsx)("span",{children:"Available"})]}),(0,Ft.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ft.jsx)("div",{className:"w-3 h-3 bg-red-200 border border-red-600 rounded"}),(0,Ft.jsx)("span",{children:"Occupied"})]}),(0,Ft.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ft.jsx)("div",{className:"w-3 h-3 bg-yellow-200 border border-yellow-600 rounded"}),(0,Ft.jsx)("span",{children:"Cleaning"})]}),(0,Ft.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ft.jsx)("div",{className:"w-3 h-3 bg-blue-200 border border-blue-600 rounded"}),(0,Ft.jsx)("span",{children:"Reserved"})]})]})]})]}),h&&(0,Ft.jsxs)("div",{className:"border-t p-4 bg-gray-50",children:[(0,Ft.jsx)("h4",{className:"font-medium mb-2",children:"Table Properties"}),(0,Ft.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("span",{className:"text-gray-600",children:"Name:"}),(0,Ft.jsx)("div",{className:"font-medium",children:h.name||"Table ".concat(h.number)})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("span",{className:"text-gray-600",children:"Number:"}),(0,Ft.jsx)("div",{className:"font-medium",children:h.number})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("span",{className:"text-gray-600",children:"Capacity:"}),(0,Ft.jsxs)("div",{className:"font-medium",children:[h.capacity," seats"]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("span",{className:"text-gray-600",children:"Status:"}),(0,Ft.jsx)("div",{className:"font-medium",children:h.status})]})]})]}),y&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full",children:[(0,Ft.jsx)("div",{className:"p-6 border-b",children:(0,Ft.jsx)("h2",{className:"text-xl font-semibold",children:"Save Floor Plan"})}),(0,Ft.jsxs)("div",{className:"p-6",children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Floor Plan Name"}),(0,Ft.jsx)("input",{type:"text",value:k,onChange:e=>S(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter floor plan name"})]}),(0,Ft.jsxs)("div",{className:"p-6 border-t flex justify-end space-x-3",children:[(0,Ft.jsx)("button",{onClick:()=>{v(!1),S("")},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),(0,Ft.jsx)("button",{onClick:()=>{(e=>{const t={tables:l,rooms:o,canvasSize:T,createdAt:(new Date).toISOString()};r(t,e),B()})(k||"plan-".concat(Date.now())),v(!1),S("")},className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Save Floor Plan"})]})]})}),j&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full",children:[(0,Ft.jsx)("div",{className:"p-6 border-b",children:(0,Ft.jsx)("h2",{className:"text-xl font-semibold",children:"Load Floor Plan"})}),(0,Ft.jsx)("div",{className:"p-6",children:(0,Ft.jsx)("div",{className:"space-y-2",children:0===C.length?(0,Ft.jsx)("p",{className:"text-gray-500",children:"No saved floor plans found"}):C.map((e=>(0,Ft.jsxs)("button",{onClick:()=>{const t=s(e);i(t.tables||{}),c(t.rooms||[]),t.canvasSize&&P(t.canvasSize),N(!1),alert('Floor plan "'.concat(e,'" loaded successfully'))},className:"w-full text-left p-3 border rounded-lg hover:bg-gray-50",children:[(0,Ft.jsx)("div",{className:"font-medium",children:e}),(0,Ft.jsx)("div",{className:"text-sm text-gray-500",children:(new Date).toLocaleDateString()})]},e)))})}),(0,Ft.jsxs)("div",{className:"p-6 border-t flex justify-end space-x-3",children:[(0,Ft.jsx)("button",{onClick:()=>N(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),(0,Ft.jsxs)("label",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 cursor-pointer",children:["Import File",(0,Ft.jsx)("input",{type:"file",accept:".json",onChange:e=>{const t=e.target.files[0];if(!t)return;const n=new FileReader;n.onload=e=>{try{const t=JSON.parse(e.target.result);i(t.tables||{}),c(t.rooms||[]),t.canvasSize&&P(t.canvasSize),alert("Floor plan imported successfully")}catch(t){alert("Error importing floor plan: Invalid file format")}},n.readAsText(t)},className:"hidden"})]})]})]})}),w&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full",children:[(0,Ft.jsx)("div",{className:"p-6 border-b",children:(0,Ft.jsx)("h2",{className:"text-xl font-semibold",children:"Export Floor Plan"})}),(0,Ft.jsxs)("div",{className:"p-6",children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Export Name"}),(0,Ft.jsx)("input",{type:"text",value:k,onChange:e=>S(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter export filename"}),(0,Ft.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"This will download a JSON file that can be imported into another system."})]}),(0,Ft.jsxs)("div",{className:"p-6 border-t flex justify-end space-x-3",children:[(0,Ft.jsx)("button",{onClick:()=>{_(!1),S("")},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),(0,Ft.jsx)("button",{onClick:()=>{(()=>{const e={tables:l,rooms:o,canvasSize:T,exportedAt:(new Date).toISOString(),version:"1.0"},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="floor-plan-".concat(k||"default",".json"),r.click(),URL.revokeObjectURL(n)})(),_(!1),S("")},className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:"Download Export"})]})]})})]})},xn=e=>{let{onBack:t}=e;const[n,r]=(0,a.useState)([]),[s,l]=(0,a.useState)(!0),[i,o]=(0,a.useState)("management"),[c,u]=(0,a.useState)(!1),[m,p]=(0,a.useState)(!1),[f,h]=(0,a.useState)(!1),[x,g]=(0,a.useState)(null),[b,y]=(0,a.useState)("grid"),[v,j]=(0,a.useState)(""),[N,w]=(0,a.useState)("all"),[_,k]=(0,a.useState)({name:"",capacity:"4"}),[S,C]=(0,a.useState)({startNumber:"",endNumber:"",namePrefix:"",capacity:"4"}),E=[{value:"available",label:"Available",color:"bg-green-100 text-green-800",icon:"\u2705"},{value:"occupied",label:"Occupied",color:"bg-red-100 text-red-800",icon:"\ud83d\udd34"},{value:"needs_cleaning",label:"Needs Cleaning",color:"bg-yellow-100 text-yellow-800",icon:"\ud83e\uddf9"},{value:"reserved",label:"Reserved",color:"bg-blue-100 text-blue-800",icon:"\ud83d\udcc5"}];(0,a.useEffect)((()=>{T()}),[]);const T=async()=>{try{l(!0);const e=await At.get("".concat(It,"/tables"));r(e.data.sort(((e,t)=>e.name.localeCompare(t.name))))}catch(e){console.error("Error fetching tables:",e),alert("Failed to load tables")}finally{l(!1)}},P=async(e,t)=>{try{await At.put("".concat(It,"/tables/").concat(e.id),{status:t,current_order_id:"available"===t?null:e.current_order_id}),T()}catch(n){console.error("Error updating table status:",n),alert("Failed to update table status")}},O=e=>E.find((t=>t.value===e))||E[0],A=e=>e.name&&e.name.trim()?e.name:"Table ".concat(e.number),z=n.filter((e=>{const t=e.name.toLowerCase().includes(v.toLowerCase())||e.capacity.toString().includes(v)||""===v,n="all"===N||e.status===N;return t&&n})),R={total:n.length,available:n.filter((e=>"available"===e.status)).length,occupied:n.filter((e=>"occupied"===e.status)).length,needsCleaning:n.filter((e=>"needs_cleaning"===e.status)).length,reserved:n.filter((e=>"reserved"===e.status)).length,totalCapacity:n.reduce(((e,t)=>e+t.capacity),0)};return s?(0,Ft.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Ft.jsxs)("div",{className:"text-center",children:[(0,Ft.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Ft.jsx)("p",{className:"text-gray-600",children:"Loading tables..."})]})}):(0,Ft.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Ft.jsx)("div",{className:"bg-white shadow-sm border-b p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ft.jsxs)("button",{onClick:t,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800",children:[(0,Ft.jsx)("span",{children:"\u2190"}),(0,Ft.jsx)("span",{children:"Back to Settings"})]}),(0,Ft.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Table Settings"})]}),(0,Ft.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ft.jsxs)("button",{onClick:()=>p(!0),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center space-x-2",children:[(0,Ft.jsx)("span",{children:"+"}),(0,Ft.jsx)("span",{children:"Bulk Add"})]}),(0,Ft.jsxs)("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[(0,Ft.jsx)("span",{children:"+"}),(0,Ft.jsx)("span",{children:"Add Table"})]})]})]})}),(0,Ft.jsx)("div",{className:"bg-white border-b p-6",children:(0,Ft.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[(0,Ft.jsxs)("div",{className:"text-center",children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-gray-800",children:R.total}),(0,Ft.jsx)("div",{className:"text-sm text-gray-600",children:"Total Tables"})]}),(0,Ft.jsxs)("div",{className:"text-center",children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-green-600",children:R.available}),(0,Ft.jsx)("div",{className:"text-sm text-gray-600",children:"Available"})]}),(0,Ft.jsxs)("div",{className:"text-center",children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-red-600",children:R.occupied}),(0,Ft.jsx)("div",{className:"text-sm text-gray-600",children:"Occupied"})]}),(0,Ft.jsxs)("div",{className:"text-center",children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:R.needsCleaning}),(0,Ft.jsx)("div",{className:"text-sm text-gray-600",children:"Cleaning"})]}),(0,Ft.jsxs)("div",{className:"text-center",children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:R.reserved}),(0,Ft.jsx)("div",{className:"text-sm text-gray-600",children:"Reserved"})]}),(0,Ft.jsxs)("div",{className:"text-center",children:[(0,Ft.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:R.totalCapacity}),(0,Ft.jsx)("div",{className:"text-sm text-gray-600",children:"Total Seats"})]})]})}),(0,Ft.jsx)("div",{className:"bg-white border-b",children:(0,Ft.jsx)("div",{className:"flex space-x-8 px-6",children:[{id:"management",name:"Table Management",icon:"\ud83e\ude91"},{id:"layout",name:"Layout View",icon:"\ud83d\uddc2\ufe0f"},{id:"status",name:"Status Control",icon:"\u2699\ufe0f"}].map((e=>(0,Ft.jsxs)("button",{onClick:()=>o(e.id),className:"flex items-center space-x-2 py-4 px-2 border-b-2 font-medium text-sm ".concat(i===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:[(0,Ft.jsx)("span",{children:e.icon}),(0,Ft.jsx)("span",{children:e.name})]},e.id)))})}),(0,Ft.jsxs)("div",{className:"p-6",children:["management"===i&&(0,Ft.jsxs)("div",{className:"space-y-6",children:[(0,Ft.jsx)("div",{className:"bg-white p-4 rounded-lg border",children:(0,Ft.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[(0,Ft.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center space-y-2 md:space-y-0 md:space-x-4",children:[(0,Ft.jsxs)("div",{className:"relative",children:[(0,Ft.jsx)("input",{type:"text",placeholder:"Search tables by name or number...",value:v,onChange:e=>j(e.target.value),className:"w-full md:w-64 px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"}),(0,Ft.jsx)("span",{className:"absolute right-3 top-2.5 text-gray-400",children:"\ud83d\udd0d"})]}),(0,Ft.jsxs)("select",{value:N,onChange:e=>w(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[(0,Ft.jsx)("option",{value:"all",children:"All Status"}),E.map((e=>(0,Ft.jsx)("option",{value:e.value,children:e.label},e.value)))]})]}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-600",children:[z.length," tables found"]})]})}),(0,Ft.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:z.map((e=>{const t=O(e.status);return(0,Ft.jsxs)("div",{className:"bg-white border rounded-lg p-4 hover:shadow-lg transition-shadow",children:[(0,Ft.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:A(e)}),(0,Ft.jsxs)("p",{className:"text-sm text-gray-600",children:[e.capacity," seats"]}),e.name&&e.name.trim()&&(0,Ft.jsxs)("p",{className:"text-xs text-gray-500",children:["#",e.number]})]}),(0,Ft.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(t.color),children:[t.icon," ",t.label]})]}),e.current_order_id&&(0,Ft.jsx)("div",{className:"mb-3 p-2 bg-orange-50 rounded text-sm",children:(0,Ft.jsxs)("span",{className:"text-orange-800",children:["Order: ",e.current_order_id.slice(-8)]})}),(0,Ft.jsxs)("div",{className:"space-y-2",children:[(0,Ft.jsx)("select",{value:e.status,onChange:t=>P(e,t.target.value),className:"w-full px-3 py-1 text-sm border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500",children:E.map((e=>(0,Ft.jsx)("option",{value:e.value,children:e.label},e.value)))}),(0,Ft.jsxs)("div",{className:"flex space-x-2",children:[(0,Ft.jsx)("button",{onClick:()=>(e=>{g(e),k({name:e.name||"",capacity:e.capacity.toString()}),h(!0)})(e),className:"flex-1 bg-blue-50 text-blue-600 px-3 py-2 rounded text-sm font-medium hover:bg-blue-100",children:"Edit"}),(0,Ft.jsx)("button",{onClick:()=>(async e=>{if("occupied"===e.status&&e.current_order_id)alert("Cannot delete table with active order. Please clear the order first.");else if(window.confirm("Are you sure you want to delete ".concat(A(e),"?")))try{await At.delete("".concat(It,"/tables/").concat(e.id)),alert("Table deleted successfully"),T()}catch(t){console.error("Error deleting table:",t),alert("Failed to delete table")}})(e),className:"flex-1 bg-red-50 text-red-600 px-3 py-2 rounded text-sm font-medium hover:bg-red-100",children:"Delete"})]})]})]},e.id)}))}),0===z.length&&(0,Ft.jsxs)("div",{className:"text-center py-12",children:[(0,Ft.jsx)("span",{className:"text-6xl mb-4 block",children:"\ud83e\ude91"}),(0,Ft.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tables found"}),(0,Ft.jsx)("p",{className:"text-gray-500 mb-4",children:"Get started by adding your first table"}),(0,Ft.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,Ft.jsx)("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Add Single Table"}),(0,Ft.jsx)("button",{onClick:()=>p(!0),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Bulk Add Tables"})]})]})]}),"layout"===i&&(0,Ft.jsxs)("div",{className:"space-y-6",children:[(0,Ft.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ft.jsx)("h2",{className:"text-xl font-semibold",children:"Restaurant Layout"}),(0,Ft.jsxs)("div",{className:"flex space-x-2",children:[(0,Ft.jsx)("button",{onClick:()=>y("grid"),className:"px-4 py-2 rounded-lg ".concat("grid"===b?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"),children:"Simple Grid"}),(0,Ft.jsx)("button",{onClick:()=>y("floor"),className:"px-4 py-2 rounded-lg ".concat("floor"===b?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"),children:"Floor Plan Designer"})]})]}),"grid"===b&&(0,Ft.jsx)("div",{className:"bg-white border rounded-lg p-6",children:(0,Ft.jsx)("div",{className:"grid grid-cols-8 gap-4",children:n.map((e=>{const t=O(e.status);return(0,Ft.jsxs)("div",{className:"aspect-square border-2 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:shadow-lg transition-all ".concat("available"===e.status?"border-green-300 bg-green-50":"occupied"===e.status?"border-red-300 bg-red-50":"needs_cleaning"===e.status?"border-yellow-300 bg-yellow-50":"border-blue-300 bg-blue-50"),title:"".concat(A(e)," - ").concat(t.label," - ").concat(e.capacity," seats"),children:[(0,Ft.jsx)("div",{className:"text-sm font-bold text-center px-1",children:e.name&&e.name.trim()?e.name:e.number}),(0,Ft.jsxs)("div",{className:"text-xs",children:[e.capacity," seats"]}),(0,Ft.jsx)("div",{className:"text-lg",children:t.icon})]},e.id)}))})}),"floor"===b&&(0,Ft.jsx)(hn,{tables:n,onUpdateTablePosition:async(e,t)=>{try{const n=JSON.parse(localStorage.getItem("floorPlans")||"{}");n.default||(n.default={}),n.default[e]=t,localStorage.setItem("floorPlans",JSON.stringify(n))}catch(n){console.error("Error updating table position:",n)}},onSaveFloorPlan:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";try{const n=JSON.parse(localStorage.getItem("floorPlans")||"{}");n[t]=e,localStorage.setItem("floorPlans",JSON.stringify(n)),alert('Floor plan "'.concat(t,'" saved successfully'))}catch(n){console.error("Error saving floor plan:",n),alert("Failed to save floor plan")}},onLoadFloorPlan:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";try{return JSON.parse(localStorage.getItem("floorPlans")||"{}")[e]||{}}catch(t){return console.error("Error loading floor plan:",t),{}}}})]}),"status"===i&&(0,Ft.jsxs)("div",{className:"space-y-6",children:[(0,Ft.jsx)("h2",{className:"text-xl font-semibold",children:"Bulk Status Management"}),(0,Ft.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:E.map((e=>{const t=n.filter((t=>t.status===e.value));return(0,Ft.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,Ft.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ft.jsx)("span",{className:"text-2xl",children:e.icon}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h3",{className:"font-semibold text-gray-800",children:e.label}),(0,Ft.jsxs)("p",{className:"text-sm text-gray-600",children:[t.length," tables"]})]})]}),(0,Ft.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(e.color),children:t.length})]}),(0,Ft.jsxs)("div",{className:"space-y-2",children:[t.slice(0,5).map((e=>(0,Ft.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 last:border-b-0",children:[(0,Ft.jsx)("span",{className:"font-medium",children:A(e)}),(0,Ft.jsxs)("span",{className:"text-sm text-gray-600",children:[e.capacity," seats"]})]},e.id))),t.length>5&&(0,Ft.jsxs)("div",{className:"text-sm text-gray-500 text-center pt-2",children:["+",t.length-5," more tables"]})]})]},e.value)}))}),(0,Ft.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,Ft.jsx)("h3",{className:"font-semibold text-gray-800 mb-4",children:"Quick Actions"}),(0,Ft.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Ft.jsx)("button",{onClick:()=>{window.confirm("Mark all available tables as needs cleaning?")&&n.filter((e=>"available"===e.status)).forEach((e=>{P(e,"needs_cleaning")}))},className:"bg-yellow-50 text-yellow-700 border border-yellow-200 px-4 py-3 rounded-lg hover:bg-yellow-100",children:"Mark All for Cleaning"}),(0,Ft.jsx)("button",{onClick:()=>{window.confirm("Mark all cleaning tables as available?")&&n.filter((e=>"needs_cleaning"===e.status)).forEach((e=>{P(e,"available")}))},className:"bg-green-50 text-green-700 border border-green-200 px-4 py-3 rounded-lg hover:bg-green-100",children:"Clean All Done"}),(0,Ft.jsx)("button",{onClick:()=>{window.confirm("Clear all reservations?")&&n.filter((e=>"reserved"===e.status)).forEach((e=>{P(e,"available")}))},className:"bg-blue-50 text-blue-700 border border-blue-200 px-4 py-3 rounded-lg hover:bg-blue-100",children:"Clear Reservations"}),(0,Ft.jsx)("button",{onClick:T,className:"bg-gray-50 text-gray-700 border border-gray-200 px-4 py-3 rounded-lg hover:bg-gray-100",children:"Refresh Status"})]})]})]})]}),c&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full",children:[(0,Ft.jsx)("div",{className:"p-6 border-b",children:(0,Ft.jsx)("h2",{className:"text-xl font-semibold",children:"Add New Table"})}),(0,Ft.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Table Name *"}),(0,Ft.jsx)("input",{type:"text",value:_.name,onChange:e=>k(d(d({},_),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Table 1, Bar 1, Patio A, Outside 1"}),(0,Ft.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Enter a unique name for this table"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacity (seats) *"}),(0,Ft.jsx)("input",{type:"number",min:"1",max:"20",value:_.capacity,onChange:e=>k(d(d({},_),{},{capacity:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Number of seats"})]})]}),(0,Ft.jsxs)("div",{className:"p-6 border-t flex justify-end space-x-3",children:[(0,Ft.jsx)("button",{onClick:()=>{u(!1),k({name:"",capacity:"4"})},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),(0,Ft.jsx)("button",{onClick:async()=>{if(!_.name||!_.capacity)return void alert("Please fill in table name and capacity");const e=parseInt(_.capacity);if(isNaN(e)||e<=0)alert("Please enter a valid capacity");else if(n.some((e=>e.name===_.name.trim())))alert("Table name already exists");else try{await At.post("".concat(It,"/tables"),{name:_.name.trim(),capacity:e}),alert("Table added successfully"),u(!1),k({name:"",capacity:"4"}),T()}catch(a){var t,r;console.error("Error adding table:",a),alert((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to add table")}},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Add Table"})]})]})}),m&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full",children:[(0,Ft.jsx)("div",{className:"p-6 border-b",children:(0,Ft.jsx)("h2",{className:"text-xl font-semibold",children:"Bulk Add Tables"})}),(0,Ft.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Ft.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Number *"}),(0,Ft.jsx)("input",{type:"number",min:"1",value:S.startNumber,onChange:e=>C(d(d({},S),{},{startNumber:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 1"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Number *"}),(0,Ft.jsx)("input",{type:"number",min:"1",value:S.endNumber,onChange:e=>C(d(d({},S),{},{endNumber:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 20"})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name Prefix (Optional)"}),(0,Ft.jsx)("input",{type:"text",value:S.namePrefix,onChange:e=>C(d(d({},S),{},{namePrefix:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Bar, Patio, VIP"}),(0,Ft.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:'Will create names like "Bar 1", "Bar 2", etc. Leave empty for "Table [number]"'})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Default Capacity *"}),(0,Ft.jsx)("input",{type:"number",min:"1",max:"20",value:S.capacity,onChange:e=>C(d(d({},S),{},{capacity:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Default seats per table"})]}),S.startNumber&&S.endNumber&&(0,Ft.jsx)("div",{className:"bg-blue-50 p-3 rounded",children:(0,Ft.jsxs)("p",{className:"text-sm text-blue-800",children:["This will create ",Math.max(0,parseInt(S.endNumber)-parseInt(S.startNumber)+1)," tables",S.namePrefix?' named "'.concat(S.namePrefix," ").concat(S.startNumber,'" through "').concat(S.namePrefix," ").concat(S.endNumber,'"'):" (Tables ".concat(S.startNumber," - ").concat(S.endNumber,")")]})})]}),(0,Ft.jsxs)("div",{className:"p-6 border-t flex justify-end space-x-3",children:[(0,Ft.jsx)("button",{onClick:()=>{p(!1),C({startNumber:"",endNumber:"",namePrefix:"",capacity:"4"})},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),(0,Ft.jsx)("button",{onClick:async()=>{if(!S.startNumber||!S.endNumber||!S.capacity)return void alert("Please fill in start number, end number, and capacity");const e=parseInt(S.startNumber),t=parseInt(S.endNumber),r=parseInt(S.capacity);if(isNaN(e)||isNaN(t)||isNaN(r))alert("Please enter valid numbers");else if(e>t)alert("Start number must be less than or equal to end number");else if(t-e>50)alert("Cannot add more than 50 tables at once");else try{const a=n.map((e=>e.number)),s=[];for(let n=e;n<=t;n++)if(!a.includes(n)){const e=S.namePrefix?"".concat(S.namePrefix," ").concat(n):"";s.push({number:n,name:e,capacity:r})}if(0===s.length)return void alert("All table numbers in this range already exist");for(const e of s)await At.post("".concat(It,"/tables"),e);alert("Successfully added ".concat(s.length," tables")),p(!1),C({startNumber:"",endNumber:"",namePrefix:"",capacity:"4"}),T()}catch(a){console.error("Error bulk adding tables:",a),alert("Failed to add some tables"),T()}},className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Add Tables"})]})]})}),f&&x&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full",children:[(0,Ft.jsx)("div",{className:"p-6 border-b",children:(0,Ft.jsxs)("h2",{className:"text-xl font-semibold",children:["Edit Table: ",x.name]})}),(0,Ft.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Table Name *"}),(0,Ft.jsx)("input",{type:"text",value:_.name,onChange:e=>k(d(d({},_),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Table 1, Bar 1, Patio A, Outside 1"}),(0,Ft.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Table name must be unique"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacity (seats) *"}),(0,Ft.jsx)("input",{type:"number",min:"1",max:"20",value:_.capacity,onChange:e=>k(d(d({},_),{},{capacity:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Number of seats"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Status"}),(0,Ft.jsxs)("div",{className:"px-3 py-2 border rounded-md ".concat(O(x.status).color),children:[O(x.status).icon," ",O(x.status).label]})]})]}),(0,Ft.jsxs)("div",{className:"p-6 border-t flex justify-end space-x-3",children:[(0,Ft.jsx)("button",{onClick:()=>{h(!1),g(null),k({name:"",capacity:"4"})},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),(0,Ft.jsx)("button",{onClick:async()=>{if(!_.name||!_.capacity)return void alert("Please enter a table name and capacity");const e=parseInt(_.capacity);if(isNaN(e)||e<=0)alert("Please enter a valid capacity");else if(n.some((e=>e.id!==x.id&&e.name===_.name.trim())))alert("Table name already exists");else try{await At.put("".concat(It,"/tables/").concat(x.id),{name:_.name.trim(),capacity:e,status:x.status,current_order_id:x.current_order_id}),alert("Table updated successfully"),h(!1),g(null),k({name:"",capacity:"4"}),T()}catch(t){console.error("Error updating table:",t),alert("Failed to update table")}},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Update Table"})]})]})})]})},gn=e=>{let{onBack:t}=e;const[n,r]=(0,a.useState)([]),[s,l]=(0,a.useState)([]),[i,o]=(0,a.useState)([]),[c,u]=(0,a.useState)([]),[m,p]=(0,a.useState)(!0),[f,h]=(0,a.useState)("items"),[x,g]=(0,a.useState)(""),[b,y]=(0,a.useState)("all"),[v,j]=(0,a.useState)(!1),[N,w]=(0,a.useState)(!1),[_,k]=(0,a.useState)(!1),[S,C]=(0,a.useState)(!1),[E,T]=(0,a.useState)(null),[P,O]=(0,a.useState)(null),[A,z]=(0,a.useState)(null),[R,F]=(0,a.useState)({name:"",description:"",price:"",category:"",image_url:"",available:!0,modifier_groups:[]}),[D,L]=(0,a.useState)({name:""}),[M,I]=(0,a.useState)(null),[U,B]=(0,a.useState)({name:"",price:"",group_id:""}),[q,$]=(0,a.useState)({name:"",required:!1,max_selections:1});(0,a.useEffect)((()=>{H()}),[]);const H=async()=>{try{p(!0);const[e,t,n,a]=await Promise.all([At.get("".concat(It,"/menu/items/all")),At.get("".concat(It,"/menu/categories")),At.get("".concat(It,"/modifiers/groups")),At.get("".concat(It,"/modifiers"))]);r(e.data),l(["all",...t.data.categories]),o(n.data),u(a.data)}catch(e){console.error("Error fetching menu data:",e),alert("Failed to load menu data")}finally{p(!1)}},W=n.filter((e=>{const t=e.name.toLowerCase().includes(x.toLowerCase()),n="all"===b||e.category===b;return t&&n}));return m?(0,Ft.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Ft.jsxs)("div",{className:"text-center",children:[(0,Ft.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Ft.jsx)("p",{className:"text-gray-600",children:"Loading menu data..."})]})}):(0,Ft.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Ft.jsx)("div",{className:"bg-white shadow-sm border-b p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ft.jsxs)("button",{onClick:t,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800",children:[(0,Ft.jsx)("span",{children:"\u2190"}),(0,Ft.jsx)("span",{children:"Back to Settings"})]}),(0,Ft.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Menu Management"})]}),(0,Ft.jsx)("div",{className:"flex items-center space-x-4",children:(0,Ft.jsxs)("button",{onClick:()=>j(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[(0,Ft.jsx)("span",{children:"+"}),(0,Ft.jsx)("span",{children:"Add Item"})]})})]})}),(0,Ft.jsx)("div",{className:"bg-white border-b",children:(0,Ft.jsx)("div",{className:"flex space-x-8 px-6",children:[{id:"items",name:"Menu Items",icon:"\ud83c\udf7d\ufe0f"},{id:"categories",name:"Categories",icon:"\ud83d\udcc2"},{id:"modifiers",name:"Modifiers",icon:"\ud83d\udd27"}].map((e=>(0,Ft.jsxs)("button",{onClick:()=>h(e.id),className:"flex items-center space-x-2 py-4 px-2 border-b-2 font-medium text-sm ".concat(f===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:[(0,Ft.jsx)("span",{children:e.icon}),(0,Ft.jsx)("span",{children:e.name})]},e.id)))})}),(0,Ft.jsxs)("div",{className:"p-6",children:["items"===f&&(0,Ft.jsxs)("div",{className:"space-y-6",children:[(0,Ft.jsx)("div",{className:"bg-white p-4 rounded-lg border",children:(0,Ft.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[(0,Ft.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center space-y-2 md:space-y-0 md:space-x-4",children:[(0,Ft.jsxs)("div",{className:"relative",children:[(0,Ft.jsx)("input",{type:"text",placeholder:"Search menu items...",value:x,onChange:e=>g(e.target.value),className:"w-full md:w-64 px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"}),(0,Ft.jsx)("span",{className:"absolute right-3 top-2.5 text-gray-400",children:"\ud83d\udd0d"})]}),(0,Ft.jsx)("select",{value:b,onChange:e=>y(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:s.map((e=>(0,Ft.jsx)("option",{value:e,children:"all"===e?"All Categories":e},e)))})]}),(0,Ft.jsxs)("div",{className:"text-sm text-gray-600",children:[W.length," items found"]})]})}),(0,Ft.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:W.map((e=>(0,Ft.jsx)("div",{className:"bg-white border rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:(0,Ft.jsxs)("div",{className:"p-4",children:[(0,Ft.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,Ft.jsx)("h3",{className:"font-semibold text-lg text-gray-800",children:e.name}),(0,Ft.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(e.available?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.available?"Available":"Unavailable"})]}),(0,Ft.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,Ft.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,Ft.jsxs)("span",{className:"text-lg font-bold text-green-600",children:["$",e.price.toFixed(2)]}),(0,Ft.jsx)("span",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:e.category})]}),e.modifier_groups&&e.modifier_groups.length>0&&(0,Ft.jsx)("div",{className:"mb-3",children:(0,Ft.jsxs)("span",{className:"text-xs text-gray-500",children:["Modifiers: ",e.modifier_groups.length," groups"]})}),(0,Ft.jsxs)("div",{className:"flex space-x-2",children:[(0,Ft.jsx)("button",{onClick:()=>(e=>{F({name:e.name,description:e.description||"",price:e.price.toString(),category:e.category,image_url:e.image_url||"",available:e.available,modifier_groups:e.modifier_groups||[]}),T(e),j(!0)})(e),className:"flex-1 bg-blue-50 text-blue-600 px-3 py-2 rounded text-sm font-medium hover:bg-blue-100",children:"Edit"}),(0,Ft.jsx)("button",{onClick:()=>(async e=>{if(window.confirm('Are you sure you want to delete "'.concat(e.name,'"?')))try{await At.delete("".concat(It,"/menu/items/").concat(e.id)),alert("Menu item deleted successfully"),H()}catch(t){console.error("Error deleting item:",t),alert("Failed to delete menu item")}})(e),className:"flex-1 bg-red-50 text-red-600 px-3 py-2 rounded text-sm font-medium hover:bg-red-100",children:"Delete"})]})]})},e.id)))}),0===W.length&&(0,Ft.jsxs)("div",{className:"text-center py-12",children:[(0,Ft.jsx)("span",{className:"text-6xl mb-4 block",children:"\ud83c\udf7d\ufe0f"}),(0,Ft.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No menu items found"}),(0,Ft.jsx)("p",{className:"text-gray-500 mb-4",children:"Get started by adding your first menu item"}),(0,Ft.jsx)("button",{onClick:()=>j(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Add Menu Item"})]})]}),"categories"===f&&(0,Ft.jsxs)("div",{className:"space-y-6",children:[(0,Ft.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ft.jsx)("h2",{className:"text-xl font-semibold",children:"Menu Categories"}),(0,Ft.jsxs)("button",{onClick:()=>{L({name:""}),I(null),w(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[(0,Ft.jsx)("span",{children:"+"}),(0,Ft.jsx)("span",{children:"Add Category"})]})]}),(0,Ft.jsx)("div",{className:"bg-white border rounded-lg",children:(0,Ft.jsx)("div",{className:"divide-y",children:s.filter((e=>"all"!==e)).map(((e,t)=>{const r=n.filter((t=>t.category===e)).length;return(0,Ft.jsxs)("div",{className:"p-4 flex justify-between items-center",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h3",{className:"font-medium text-gray-900",children:e}),(0,Ft.jsxs)("p",{className:"text-sm text-gray-500",children:[r," items"]})]}),(0,Ft.jsx)("div",{className:"flex space-x-2",children:(0,Ft.jsx)("button",{onClick:()=>{L({name:e}),I(e),w(!0)},className:"text-blue-600 hover:text-blue-800 px-3 py-1 text-sm",children:"Edit"})})]},e)}))})})]}),"modifiers"===f&&(0,Ft.jsxs)("div",{className:"space-y-6",children:[(0,Ft.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ft.jsx)("h2",{className:"text-xl font-semibold",children:"Modifier Groups & Options"}),(0,Ft.jsxs)("div",{className:"flex space-x-2",children:[(0,Ft.jsxs)("button",{onClick:()=>C(!0),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center space-x-2",children:[(0,Ft.jsx)("span",{children:"+"}),(0,Ft.jsx)("span",{children:"Add Group"})]}),(0,Ft.jsxs)("button",{onClick:()=>k(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[(0,Ft.jsx)("span",{children:"+"}),(0,Ft.jsx)("span",{children:"Add Modifier"})]})]})]}),(0,Ft.jsx)("div",{className:"space-y-4",children:i.map((e=>{const t=c.filter((t=>t.group_id===e.id));return(0,Ft.jsxs)("div",{className:"bg-white border rounded-lg",children:[(0,Ft.jsx)("div",{className:"p-4 bg-gray-50 border-b",children:(0,Ft.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h3",{className:"font-medium text-gray-900",children:e.name}),(0,Ft.jsxs)("p",{className:"text-sm text-gray-500",children:[e.required?"Required":"Optional"," \u2022 Max ",e.max_selections," selection",1!==e.max_selections?"s":""," \u2022",t.length," modifier",1!==t.length?"s":""]})]}),(0,Ft.jsx)("button",{onClick:()=>(async e=>{if(window.confirm('Are you sure you want to delete "'.concat(e.name,'" and all its modifiers?')))try{await At.delete("".concat(It,"/modifiers/groups/").concat(e.id)),alert("Modifier group deleted successfully"),H()}catch(t){console.error("Error deleting modifier group:",t),alert("Failed to delete modifier group")}})(e),className:"text-red-600 hover:text-red-800 px-3 py-1 text-sm",children:"Delete Group"})]})}),(0,Ft.jsxs)("div",{className:"divide-y",children:[t.map((e=>(0,Ft.jsxs)("div",{className:"p-4 flex justify-between items-center",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("span",{className:"font-medium",children:e.name}),(0,Ft.jsxs)("span",{className:"ml-2 text-green-600 font-medium",children:["+$",e.price.toFixed(2)]})]}),(0,Ft.jsx)("button",{onClick:()=>(async e=>{if(window.confirm('Are you sure you want to delete "'.concat(e.name,'"?')))try{await At.delete("".concat(It,"/modifiers/").concat(e.id)),alert("Modifier deleted successfully"),H()}catch(t){console.error("Error deleting modifier:",t),alert("Failed to delete modifier")}})(e),className:"text-red-600 hover:text-red-800 px-3 py-1 text-sm",children:"Delete"})]},e.id))),0===t.length&&(0,Ft.jsx)("div",{className:"p-4 text-center text-gray-500",children:"No modifiers in this group"})]})]},e.id)}))}),0===i.length&&(0,Ft.jsxs)("div",{className:"text-center py-12",children:[(0,Ft.jsx)("span",{className:"text-6xl mb-4 block",children:"\ud83d\udd27"}),(0,Ft.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No modifier groups found"}),(0,Ft.jsx)("p",{className:"text-gray-500 mb-4",children:"Create modifier groups to add options to your menu items"}),(0,Ft.jsx)("button",{onClick:()=>C(!0),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Add Modifier Group"})]})]})]}),v&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-screen overflow-y-auto",children:[(0,Ft.jsx)("div",{className:"p-6 border-b",children:(0,Ft.jsx)("h2",{className:"text-xl font-semibold",children:E?"Edit Menu Item":"Add Menu Item"})}),(0,Ft.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),(0,Ft.jsx)("input",{type:"text",value:R.name,onChange:e=>F(d(d({},R),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter item name"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,Ft.jsx)("textarea",{value:R.description,onChange:e=>F(d(d({},R),{},{description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",rows:"3",placeholder:"Enter description"})]}),(0,Ft.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price *"}),(0,Ft.jsx)("input",{type:"number",step:"0.01",value:R.price,onChange:e=>F(d(d({},R),{},{price:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),(0,Ft.jsx)("input",{type:"text",value:R.category,onChange:e=>F(d(d({},R),{},{category:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter category"})]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL"}),(0,Ft.jsx)("input",{type:"url",value:R.image_url,onChange:e=>F(d(d({},R),{},{image_url:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"https://example.com/image.jpg"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Modifier Groups"}),(0,Ft.jsx)("div",{className:"space-y-2",children:i.map((e=>(0,Ft.jsxs)("label",{className:"flex items-center",children:[(0,Ft.jsx)("input",{type:"checkbox",checked:R.modifier_groups.includes(e.id),onChange:t=>{t.target.checked?F(d(d({},R),{},{modifier_groups:[...R.modifier_groups,e.id]})):F(d(d({},R),{},{modifier_groups:R.modifier_groups.filter((t=>t!==e.id))}))},className:"mr-2"}),(0,Ft.jsx)("span",{children:e.name})]},e.id)))})]}),(0,Ft.jsx)("div",{children:(0,Ft.jsxs)("label",{className:"flex items-center",children:[(0,Ft.jsx)("input",{type:"checkbox",checked:R.available,onChange:e=>F(d(d({},R),{},{available:e.target.checked})),className:"mr-2"}),(0,Ft.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Available for ordering"})]})})]}),(0,Ft.jsxs)("div",{className:"p-6 border-t flex justify-end space-x-3",children:[(0,Ft.jsx)("button",{onClick:()=>{j(!1),T(null),F({name:"",description:"",price:"",category:"",image_url:"",available:!0,modifier_groups:[]})},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),(0,Ft.jsxs)("button",{onClick:async()=>{if(R.name&&R.price&&R.category)try{const e=d(d({},R),{},{price:parseFloat(R.price)});E?(await At.put("".concat(It,"/menu/items/").concat(E.id),e),alert("Menu item updated successfully")):(await At.post("".concat(It,"/menu/items"),e),alert("Menu item added successfully")),j(!1),T(null),F({name:"",description:"",price:"",category:"",image_url:"",available:!0,modifier_groups:[]}),H()}catch(e){console.error("Error saving item:",e),alert("Failed to save menu item")}else alert("Please fill in all required fields")},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[E?"Update":"Add"," Item"]})]})]})}),N&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full",children:[(0,Ft.jsx)("div",{className:"p-6 border-b",children:(0,Ft.jsx)("h2",{className:"text-xl font-semibold",children:M?"Edit Category":"Add Category"})}),(0,Ft.jsxs)("div",{className:"p-6",children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category Name"}),(0,Ft.jsx)("input",{type:"text",value:D.name,onChange:e=>L(d(d({},D),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter category name"})]}),(0,Ft.jsxs)("div",{className:"p-6 border-t flex justify-end space-x-3",children:[(0,Ft.jsx)("button",{onClick:()=>{w(!1),L({name:""}),I(null)},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),(0,Ft.jsx)("button",{onClick:async()=>{if(!D.name.trim())return void alert("Please enter a category name");const e=D.name.trim();if(M){if(e===M)return w(!1),L({name:""}),void I(null);if(s.includes(e))return void alert("A category with this name already exists");try{const t=n.filter((e=>e.category===M));for(const n of t)await At.put("".concat(It,"/menu/items/").concat(n.id),d(d({},n),{},{category:e}));r((t=>t.map((t=>t.category===M?d(d({},t),{},{category:e}):t)))),l((t=>t.map((t=>t===M?e:t)))),alert("Category updated successfully")}catch(t){console.error("Error updating category:",t),alert("Failed to update category")}}else{if(s.includes(e))return void alert("A category with this name already exists");l((t=>[...t,e])),alert("Category added successfully. You can now assign menu items to this category.")}w(!1),L({name:""}),I(null)},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:M?"Update Category":"Add Category"})]})]})}),S&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full",children:[(0,Ft.jsx)("div",{className:"p-6 border-b",children:(0,Ft.jsx)("h2",{className:"text-xl font-semibold",children:"Add Modifier Group"})}),(0,Ft.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group Name"}),(0,Ft.jsx)("input",{type:"text",value:q.name,onChange:e=>$(d(d({},q),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Size, Toppings"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Selections"}),(0,Ft.jsx)("input",{type:"number",min:"1",value:q.max_selections,onChange:e=>$(d(d({},q),{},{max_selections:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),(0,Ft.jsx)("div",{children:(0,Ft.jsxs)("label",{className:"flex items-center",children:[(0,Ft.jsx)("input",{type:"checkbox",checked:q.required,onChange:e=>$(d(d({},q),{},{required:e.target.checked})),className:"mr-2"}),(0,Ft.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Required selection"})]})})]}),(0,Ft.jsxs)("div",{className:"p-6 border-t flex justify-end space-x-3",children:[(0,Ft.jsx)("button",{onClick:()=>{C(!1),$({name:"",required:!1,max_selections:1})},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),(0,Ft.jsx)("button",{onClick:async()=>{if(q.name)try{const e=d(d({},q),{},{max_selections:parseInt(q.max_selections)});await At.post("".concat(It,"/modifiers/groups"),e),alert("Modifier group added successfully"),C(!1),$({name:"",required:!1,max_selections:1}),H()}catch(e){console.error("Error saving modifier group:",e),alert("Failed to save modifier group")}else alert("Please enter a group name")},className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Add Group"})]})]})}),_&&(0,Ft.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Ft.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full",children:[(0,Ft.jsx)("div",{className:"p-6 border-b",children:(0,Ft.jsx)("h2",{className:"text-xl font-semibold",children:"Add Modifier"})}),(0,Ft.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Modifier Name"}),(0,Ft.jsx)("input",{type:"text",value:U.name,onChange:e=>B(d(d({},U),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Extra Cheese, Large"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Price"}),(0,Ft.jsx)("input",{type:"number",step:"0.01",value:U.price,onChange:e=>B(d(d({},U),{},{price:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Modifier Group"}),(0,Ft.jsxs)("select",{value:U.group_id,onChange:e=>B(d(d({},U),{},{group_id:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[(0,Ft.jsx)("option",{value:"",children:"Select a group"}),i.map((e=>(0,Ft.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})]}),(0,Ft.jsxs)("div",{className:"p-6 border-t flex justify-end space-x-3",children:[(0,Ft.jsx)("button",{onClick:()=>{k(!1),B({name:"",price:"",group_id:""})},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),(0,Ft.jsx)("button",{onClick:async()=>{if(U.name&&U.price&&U.group_id)try{const e=d(d({},U),{},{price:parseFloat(U.price)});await At.post("".concat(It,"/modifiers"),e),alert("Modifier added successfully"),k(!1),B({name:"",price:"",group_id:""}),H()}catch(e){console.error("Error saving modifier:",e),alert("Failed to save modifier")}else alert("Please fill in all fields")},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Add Modifier"})]})]})})]})},bn=()=>{const[e,t]=(0,a.useState)("main"),[n,r]=(0,a.useState)(null),[s,l]=(0,a.useState)(null),[i,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(null),[p,f]=(0,a.useState)(0),[h,x]=(0,a.useState)(!1),{user:g,logout:b}=qt(),{connected:y,openPrinterManager:v}=Lt(),j=e=>{x(!0),"available"===e.status?(m(e),l(null),o(null)):"occupied"===e.status&&(l(e),m(e),o(null)),t("new-order")},N=()=>{t("main"),m(null),l(null),o(null),f((e=>e+1))};return"new-order"===e?(0,Ft.jsx)(dn,{selectedTable:u,editingOrder:s,editingActiveOrder:i,onBack:N,fromTableManagement:h}):"order-history"===e?(0,Ft.jsx)(tn,{onBack:N}):"customerManagement"===e?(0,Ft.jsx)(Xt,{onBack:N}):"table-management"===e?(0,Ft.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Ft.jsx)("div",{className:"bg-white shadow-sm border-b p-4",children:(0,Ft.jsx)("div",{className:"flex items-center justify-between",children:(0,Ft.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ft.jsxs)("button",{onClick:N,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800",children:[(0,Ft.jsx)("span",{children:"\u2190"}),(0,Ft.jsx)("span",{children:"Back"})]}),(0,Ft.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Table Management"})]})})}),(0,Ft.jsx)("div",{className:"p-6",children:(0,Ft.jsx)(ln,{onTableSelect:j})})]}):"settings"===e?(0,Ft.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Ft.jsx)("div",{className:"bg-white shadow-sm border-b p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ft.jsxs)("button",{onClick:N,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800",children:[(0,Ft.jsx)("span",{children:"\u2190"}),(0,Ft.jsx)("span",{children:"Back"})]}),(0,Ft.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Settings"})]}),(0,Ft.jsx)("div",{className:"flex items-center space-x-4",children:(0,Ft.jsxs)("span",{className:"text-sm text-gray-600",children:["Welcome, ",null===g||void 0===g?void 0:g.full_name," (",null===g||void 0===g?void 0:g.role,")"]})})]})}),(0,Ft.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Ft.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Ft.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Ft.jsx)("span",{className:"text-2xl",children:"\ud83c\udf7d\ufe0f"}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Menu Management"}),(0,Ft.jsx)("p",{className:"text-sm text-gray-600",children:"Manage menu items, categories, prices & modifiers"})]})]}),(0,Ft.jsx)("button",{onClick:()=>t("menu-management"),className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Manage Menu"})]}),(0,Ft.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Ft.jsx)("span",{className:"text-2xl",children:"\ud83e\ude91"}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Table Settings"}),(0,Ft.jsx)("p",{className:"text-sm text-gray-600",children:"Configure tables, capacity & layout"})]})]}),(0,Ft.jsx)("button",{onClick:()=>t("table-settings"),className:"w-full bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:"Configure Tables"})]}),"manager"===(null===g||void 0===g?void 0:g.role)&&(0,Ft.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Ft.jsx)("span",{className:"text-2xl",children:"\ud83d\udc65"}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Staff Management"}),(0,Ft.jsx)("p",{className:"text-sm text-gray-600",children:"Manage employees, roles & permissions"})]})]}),(0,Ft.jsx)("button",{onClick:()=>t("staff-management"),className:"w-full bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Manage Staff"})]}),"manager"===(null===g||void 0===g?void 0:g.role)&&(0,Ft.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Ft.jsx)("span",{className:"text-2xl",children:"\ud83d\udcb0"}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Tax & Charges"}),(0,Ft.jsx)("p",{className:"text-sm text-gray-600",children:"Configure tax rates, service charges & fees"})]})]}),(0,Ft.jsx)("button",{onClick:()=>t("tax-settings"),className:"w-full bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors",children:"Configure Tax & Charges"})]}),(0,Ft.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Ft.jsx)("span",{className:"text-2xl",children:"\ud83d\udda8\ufe0f"}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Printer Settings"}),(0,Ft.jsx)("p",{className:"text-sm text-gray-600",children:y?"Printer Connected":"Setup Printer"})]})]}),(0,Ft.jsx)("button",{onClick:v,className:"w-full px-4 py-2 rounded-lg transition-colors ".concat(y?"bg-green-600 text-white hover:bg-green-700":"bg-red-600 text-white hover:bg-red-700"),children:y?"Manage Printer":"Setup Printer"})]}),(0,Ft.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,Ft.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Ft.jsx)("span",{className:"text-2xl",children:"\ud83d\udc64"}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"User Profile"}),(0,Ft.jsxs)("p",{className:"text-sm text-gray-600",children:[null===g||void 0===g?void 0:g.full_name," (",null===g||void 0===g?void 0:g.role,")"]})]})]}),(0,Ft.jsx)("button",{onClick:()=>alert("User profile editing coming soon"),className:"w-full bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Edit Profile"})]})]}),(0,Ft.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Quick Actions"}),(0,Ft.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Ft.jsxs)("button",{onClick:()=>t("new-order"),className:"flex flex-col items-center space-y-2 p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[(0,Ft.jsx)("span",{className:"text-2xl",children:"\ud83d\uded2"}),(0,Ft.jsx)("span",{className:"text-sm font-medium",children:"New Order"})]}),(0,Ft.jsxs)("button",{onClick:()=>t("order-history"),className:"flex flex-col items-center space-y-2 p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[(0,Ft.jsx)("span",{className:"text-2xl",children:"\ud83d\udccb"}),(0,Ft.jsx)("span",{className:"text-sm font-medium",children:"Order History"})]}),(0,Ft.jsxs)("button",{onClick:()=>t("table-management"),className:"flex flex-col items-center space-y-2 p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors",children:[(0,Ft.jsx)("span",{className:"text-2xl",children:"\ud83e\ude91"}),(0,Ft.jsx)("span",{className:"text-sm font-medium",children:"Tables"})]}),(0,Ft.jsxs)("button",{onClick:()=>t("customerManagement"),className:"flex flex-col items-center space-y-2 p-4 bg-orange-50 rounded-lg hover:bg-orange-100 transition-colors",children:[(0,Ft.jsx)("span",{className:"text-2xl",children:"\ud83d\udc65"}),(0,Ft.jsx)("span",{className:"text-sm font-medium",children:"Customers"})]})]})]}),(0,Ft.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,Ft.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"System Information"}),(0,Ft.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("span",{className:"font-medium text-gray-600",children:"Restaurant:"}),(0,Ft.jsx)("p",{children:"El Meson Restaurant"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("span",{className:"font-medium text-gray-600",children:"Address:"}),(0,Ft.jsx)("p",{children:"3517 Broadway"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("span",{className:"font-medium text-gray-600",children:"Phone:"}),(0,Ft.jsx)("p",{children:"929-321-9679"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("span",{className:"font-medium text-gray-600",children:"System:"}),(0,Ft.jsx)("p",{children:"POS Web v1.0.0"})]})]})]})]})]}):"menu-management"===e?(0,Ft.jsx)(gn,{onBack:()=>t("settings")}):"table-settings"===e?(0,Ft.jsx)(xn,{onBack:()=>t("settings")}):"staff-management"===e?(0,Ft.jsx)(fn,{onBack:()=>t("settings")}):"tax-settings"===e?(0,Ft.jsx)(pn,{onBack:()=>t("settings"),onDataChange:()=>{localStorage.setItem("taxChargesDataChanged",Date.now().toString())}}):(0,Ft.jsxs)("div",{className:"bg-gray-50 min-h-screen",children:[(0,Ft.jsx)("div",{className:"bg-white shadow-sm border-b p-4",children:(0,Ft.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ft.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Restaurant POS"}),(0,Ft.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ft.jsxs)("button",{onClick:v,className:"flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ".concat(y?"bg-green-100 text-green-700 hover:bg-green-200":"bg-red-100 text-red-700 hover:bg-red-200"),children:[(0,Ft.jsx)("span",{children:"\ud83d\udda8\ufe0f"}),(0,Ft.jsx)("span",{children:y?"Printer Connected":"Setup Printer"})]}),(0,Ft.jsxs)("button",{onClick:()=>t("settings"),className:"flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors bg-blue-100 text-blue-700 hover:bg-blue-200",children:[(0,Ft.jsx)("span",{children:"\u2699\ufe0f"}),(0,Ft.jsx)("span",{children:"Settings"})]}),(0,Ft.jsxs)("span",{className:"text-sm text-gray-600",children:["Welcome, ",null===g||void 0===g?void 0:g.full_name," (",null===g||void 0===g?void 0:g.role,")"]}),"manager"===(null===g||void 0===g?void 0:g.role)&&(0,Ft.jsx)(an,{}),(0,Ft.jsx)(sn,{}),(0,Ft.jsx)("button",{onClick:b,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:"Logout"})]})]})}),(0,Ft.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Ft.jsxs)("div",{className:"flex space-x-4 flex-wrap",children:[(0,Ft.jsx)("button",{onClick:()=>function(){m(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null),l(null),o(null),x(!1),t("new-order")}(),className:"bg-blue-600 text-white px-8 py-4 rounded-xl text-lg font-semibold hover:bg-blue-700 transition-colors shadow-lg",children:"+ New Order"}),(0,Ft.jsx)("button",{onClick:()=>{t("order-history")},className:"bg-purple-600 text-white px-8 py-4 rounded-xl text-lg font-semibold hover:bg-purple-700 transition-colors shadow-lg",children:"\ud83d\udccb Order History"}),(0,Ft.jsx)("button",{onClick:()=>{t("table-management")},className:"bg-green-600 text-white px-8 py-4 rounded-xl text-lg font-semibold hover:bg-green-700 transition-colors shadow-lg",children:"\ud83c\udfd3 Table Management"}),(0,Ft.jsx)("button",{onClick:()=>t("customerManagement"),className:"bg-purple-600 text-white px-8 py-4 rounded-xl text-lg font-semibold hover:bg-purple-700 transition-colors shadow-lg",children:"\ud83d\udc65 Customer Management"}),(0,Ft.jsx)("button",{onClick:v,className:"px-8 py-4 rounded-xl text-lg font-semibold transition-colors shadow-lg ".concat(y?"bg-green-600 text-white hover:bg-green-700":"bg-orange-600 text-white hover:bg-orange-700"),children:"\ud83d\udda8\ufe0f Printer Manager"})]}),(0,Ft.jsx)(nn,{onOrderClick:e=>{o(e),m(null),l(null),t("new-order")},refreshTrigger:p})]})]})},yn=e=>e&&e.name&&e.name.trim()?e.name:"Unknown Table",vn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e.table&&e.table.name&&e.table.name.trim())return e.table.name;if(e.table_name)return e.table_name;if(e.table_number&&t.length>0){const n=t.find((t=>t.number===e.table_number));return n&&n.name&&n.name.trim()?n.name:"Table ".concat(e.table_number)}return"dine_in"===e.order_type?"Table Not Assigned":"Unknown Table"};const jn=()=>{const{isAuthenticated:e}=qt();return(0,Ft.jsx)("div",{className:"App",children:e?(0,Ft.jsx)(bn,{}):(0,Ft.jsx)($t,{})})},Nn=function(){return(0,Ft.jsx)(Bt,{children:(0,Ft.jsx)(Mt,{children:(0,Ft.jsx)(jn,{})})})};s.createRoot(document.getElementById("root")).render((0,Ft.jsx)(a.StrictMode,{children:(0,Ft.jsx)(Nn,{})}))})();
//# sourceMappingURL=main.11a66493.js.map